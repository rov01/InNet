angular.module("InNet",["ui.router","ui.bootstrap","timer","angular-storage","angular-jwt","leaflet-directive","angular.filter"]),angular.module("InNet").service("BranchSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/branch?corps="+t)},this.fetchByName=function(t){return e.get("/api/branch/name?branch="+t)},this.totalListFindByName=function(t){return e.get("/api/branch/name/total?branch="+t)},this.getDetails=function(t){return e.get("/api/branch/"+t)},this.update=function(t){return e.put("/api/branch/"+t.branch,t)},this.updateDirector=function(t){return e.put("/api/branch?branch="+t.branch,t)}}]),angular.module("InNet").controller("CarEditCtrl",["$scope",function(e){}]),angular.module("InNet").controller("CarIndexCtrl",["$scope",function(e){}]),angular.module("InNet").service("CarSvc",["$http",function(e){this.fetch=function(){return e.get("/api/cars")},this.findByBranch=function(t){return e.get("/api/cars/"+t)},this.update=function(t){return e.put("/api/cars/"+t.id,t)}}]),angular.module("InNet").controller("CaseCtrl",["$scope","$stateParams","$modal","CaseSvc","$log","SocketSvc","UserSvc",function(e,t,n,s,r,i,a){e.maxSize=5,e.bigTotalItems=175,e.bigCurrentPage=1,s.fetch(a.userCorps()).success(function(t){e.cases=t}),i.on("newCase",function(t){e.cases.unshift(t)}),i.on("caseModified",function(t){e.cases[t.caseId-1]=t}),e.choose=function(t){s.findById(e.cases[t]._id).success(function(t){e.caseDetails=t})},e.addNewCase=function(){var t=n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return _.isEmpty(e.cases)?0:e.cases[0].caseId},caseDetails:function(){return{}}}});t.result.then(function(e){console.log(e)},function(){r.info("Modal dismissed at: "+new Date)})},e.editCase=function(t){n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return t},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("CaseModalCtrl",["$scope","CarSvc","$modalInstance","CaseSvc","$state","caseId","caseDetails","StSvc","$window","BranchSvc","UserSvc",function(e,t,n,s,r,i,a,c,o,u,l){function m(e){var t=[],n=[],s=[];if(e.cars){for(var r=e.cars.length-1;r>=0;r--)t.push(e.cars[r].radioCode),n.push(e.cars[r]._id),s.push(e.cars[r].branch);return{dispatchList:t,carIds:n,branches:s}}return{}}function d(t){for(var n=_.unique(t),s=[],r=0;r<e.branches.length;r++)n.indexOf(e.branches[r].name)>-1&&s.push(e.branches[r]._id);return s}if(_.isEmpty(a))e.isNew=!0,f=[];else{e.isNew=!1;var f=a.cars}u.fetch(l.userCorps()).success(function(t){e.branches=t}),e.caseObj={address:a.address||null,phone:a.phone||null,type:a.type||"火警",types:["火警","救護","災害","檢舉","其他"],carIds:m(a).carIds||[],dispatchList:m(a).dispatchList||[],branches:m(a).branches||[]},e.dispatchList=e.caseObj.dispatchList.join(" "),e.getCars=function(n){t.findByBranch(n.name).success(function(t){for(var n=t.length-1;n>=0;n--)e.caseObj.carIds.indexOf(t[n]._id)>-1&&(t[n].isChecked=!0);e.cars=t})},e.cancel=function(){n.dismiss("cancel")},e.cancelDispatch=function(t){t.isChecked=!1,f.splice(f.indexOf(t),1),e.caseObj.carIds.splice(e.caseObj.dispatchList.indexOf(t._id),1),e.caseObj.dispatchList.splice(e.caseObj.dispatchList.indexOf(t.radioCode),1),e.caseObj.branches.splice(e.caseObj.dispatchList.indexOf(t.branch),1),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.dispatch=function(t){t.isChecked=!0,f.push(t),e.caseObj.carIds.push(t._id),e.caseObj.dispatchList.push(t.radioCode),e.caseObj.branches.push(t.branch),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.closeCase=function(){c.count(a._id).success(function(e){e>0?o.alert("尚有隊員在安全管制"):(s.closeCase({id:a._id,isOngoing:!1}).success(function(e){console.log(e)}),n.dismiss("cancel"),r.reload())})},e.save=function(){s.create({caseId:i+1,address:e.caseObj.address||"測試",officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type||"救護",phone:e.caseObj.phone||"測試",branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,corps:l.userCorps()}).success(function(e){n.close(e)})},e.update=function(){var t={id:a._id,caseId:i,address:e.caseObj.address,officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type,phone:e.caseObj.phone,branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0};s.update(t),n.dismiss("cancel")}}]),angular.module("InNet").service("CaseSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/cases?corps="+t)},this.fetchAll=function(){return e.get("/api/cases/details")},this.fetchRelativeCase=function(t){return e.get("/api/cases/branch?branch="+t.branch+"&accessLevel="+t.accessLevel+"&corps="+t.corps)},this.fetchDetails=function(t){return e.get("/api/cases/details/"+t)},this.findById=function(t){return e.get("/api/cases/"+t)},this.create=function(t){return e.post("/api/cases",t)},this.update=function(t){return e.put("/api/cases/"+t.id,t)},this["delete"]=function(t){return e.post("/api/cases/"+t)},this.closeCase=function(t){return e.put("/api/cases/close?id="+t.id,t)}}]),angular.module("InNet").controller("DashboardCtrl",["$scope","$location","SocketSvc","UserSvc","BranchSvc",function(e,t,n,s,r){r.fetch(s.userCorps()).success(function(t){e.branches=t}),s.fetchOnlineUser().success(function(t){e.users=t}),n.on("userLogin",function(t){e.users.push(t)}),n.on("userDisconnect",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),n.on("userLogout",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),e.$on("$destroy",function(e){n.removeAllListeners()})}]),angular.module("InNet").directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e,t){e.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}]}}]).directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n.metisMenu()})}}}]).directive("iboxTools",["$timeout",function(e){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(t,n){t.showhide=function(){var t=n.closest("div.ibox"),s=n.find("i:first"),r=t.find("div.ibox-content");r.slideToggle(200),s.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),e(function(){t.resize(),t.find("[id^=map-]").resize()},50)},t.closebox=function(){var e=n.closest("div.ibox");e.remove()}}]}}]).directive("back",["$window",function(e){return{restrict:"A",link:function(t,n,s){n.bind("click",function(){e.history.back()})}}}]),angular.module("InNet").controller("DirDutyListCtrl",["$scope","UserSvc","BranchSvc",function(e,t,n){function s(e){for(var t=0,n=0;n<e.members.length;n++)e.members[n].onDuty&&(t+=1);return t}var r=t.userBranch();n.totalListFindByName(r).success(function(t){e.branch=t,e.onDutyTotal=s(e.branch)})}]),angular.module("InNet").controller("DispatchCtrl",["$scope","$stateParams","$modal","CaseSvc","BranchSvc","CarSvc","UserSvc",function(e,t,n,s,r,i,a){s.fetch(a.userCorps()).success(function(n){e.cases=n,s.findById(e.cases[t.caseId]._id).success(function(t){e.caseDetails=t})}),r.fetch(a.userCorps()).success(function(t){e.branchList=t}),i.fetch().success(function(t){e.carsData=t}),e.addNewCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id="新增案件"},branchList:function(){return e.branchList},carsData:function(){return e.carsData},isNew:function(){return!0},caseDetails:function(){return{}}}})},e.editCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id=e.cases[t.caseId].caseId},branchList:function(){return e.branchList},carsData:function(){for(var t=e.carsData.length-1;t>=0;t--)for(var n=e.caseDetails.cars.length-1;n>=0;n--)e.carsData[t].radioCode===e.caseDetails.cars[n].radio_code&&(e.carsData[t].isChecked=!0);return e.carsData},isNew:function(){return!1},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("DutyListCtrl",["$scope","BranchSvc","$stateParams","SocketSvc","UserSvc","$q",function(e,t,n,s,r,i){function a(e){for(var t=0,n=0;n<e.members.length;n++)e.members[n].onDuty&&(t+=1);return t}var c=n.branch;t.totalListFindByName(c).success(function(t){e.branch=t,e.onDutyTotal=a(e.branch)})}]),angular.module("InNet").controller("DutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc",function(e,t,n,s,r,i,a){if(a.accessLevel()<2)var c=a.userBranch();else var c=n.branch;t.totalListFindByName(c).success(function(t){e.branch=t,e.onDutyTotal=0}),e.check=function(e){e.onDuty=!e.onDuty},e.save=function(){t.updateDirector({branch:e.branch.name,director:e.branch.director}).success(function(){for(var t=0;t<e.branch.members.length;t++)s.updateOnDuty({memberId:e.branch.members[t]._id,onDuty:e.branch.members[t].onDuty,mission:e.branch.members[t].mission})}).then(function(){i.history.back()})}}]),angular.module("InNet").service("GeoSvc",["$q",function(e){this.getGeolocationCoordinates=function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){t.resolve(e.coords)},function(e){t.resolve(null)}),t.promise}}]),angular.module("InNet").controller("LoginCtrl",["$scope","UserSvc","store","$state","jwtHelper","$http","SocketSvc",function(e,t,n,s,r,i,a){var c=null;e.user={},e.login=function(){t.login(e.user).success(function(e){e.success?(n.set("jwt",e.token),i.defaults.headers.common["x-access-token"]=e.token,c=e.token):console.log("password is not existed!")}).then(function(){a.init(c),a.emit("login")}).then(function(){s.go("admin"==r.decodeToken(c).role?"dutyDesk.dashboard":"director.safety.index")})}}]),angular.module("InNet").controller("MapIndexCtrl",["$scope","leafletData","GeoSvc",function(e,t,n){n.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}}),t.getMap().then(function(t){var n=e.controls.edit.featureGroup;t.on("draw:created",function(e){var t=e.layer;n.addLayer(t),FeatureCollections.push(t.toGeoJSON())})})}]),angular.module("InNet").controller("MemberAccountModalCtrl",["$scope","UserSvc","MemberSvc","member","$modalInstance",function(e,t,n,s,r){e.user=s,e.save=function(){_.isEmpty(e.user)?console.log("please enter your account and password!"):e.user.account?e.user.password?(t.activate(e.user),n.updateUser(s.name),r.close(e.user)):console.log("password can't be blank"):(console.log("account can't be blank!"),e.user.password||console.log("passwod can't be blank!"))},e.cancel=function(){r.dismiss("cancel")}}]),angular.module("InNet").controller("MemberCtrl",["$scope","MemberSvc","$stateParams",function(e,t,n){e.branch=n.branch,t.findByBranch(n.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})}]),angular.module("InNet").controller("MemberEditCtrl",["$scope","MemberSvc","BranchSvc","$stateParams","$window","$modal","$state","UserSvc",function(e,t,n,s,r,i,a,c){e.alerts=[],e.memberDeleted=!1;var o=null;e.accessLevel=c.accessLevel();var u=function(){t.findByBranch(s.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})};u(),e.save=function(){for(var t=[],i=[],a=0;a<e.members.length;a++)t.push(e.members[a]._id),i.push(e.members[a].name),("分隊長"==e.members[a].title||"小隊長"==e.members[a].title||"中隊長"==e.members[a].title||"大隊長"==e.members[a].title)&&(director=e.members[a].name);n.update({branch:s.branch,members:t,directors:i,director:director}),r.history.back()},e.addNewMember=function(){var t=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{workingTime:null}}}});t.result.then(function(t){t&&u(),e.alerts.push({type:"success",msg:"人員新增成功！ "+t.name+" 已加入 "+t.branch})})},e.update=function(t){var n=t,r=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{memberId:t._id,id:t.id,name:t.name,title:t.title,branches:t.branches,corps:t.corps,radioCode:t.radioCode,workingTime:60*t.workingTime.minutes()+t.workingTime.seconds()}}}});r.result.then(function(t){u(),e.alerts.push({type:"info",msg:n.name+"修改成功!"})})},e.activateAccount=function(t){var n=e.members.filter(function(e){return e.isUser});if(n.length<3){var s=i.open({templateUrl:"views/member/member.account.html",controller:"MemberAccountModalCtrl",size:"md",resolve:{member:function(){return t}}});s.result.then(function(t){u(),e.alerts.push({type:"info",msg:t.name+" 已開通為使用者"})})}else e.alerts.push({type:"warning",msg:"無法開通"+t.name+" 因為使用者已超過3位，請解除其他人帳號後再開通 "})};var l=function(n){c.removeUser(o.name).success(function(s){t.removeUser(s.username),e.closeAlert(n),u()})},m=function(n){e.memberDeleted=!0,t.deleteMember(o).success(function(){e.memberDeleted=!1}),e.closeAlert(n),u()},d=function(t){e.memberDeleted=!1,e.closeAlert(t)};e.deleteAlert=function(t){e.alerts.push({type:"danger",msg:"是否確定要刪除！"+t.name,execute:m,cancel:d}),o=t},e.deActivateAlert=function(t){var n=e.members.filter(function(e){return e.isUser});1==n.length?e.alerts.push({type:"warning",msg:"每分隊至少要有1個使用者，無法取消"+t.name+"的登入權限"}):(e.alerts.push({type:"danger",msg:"是否確定要解除"+t.name+"登入權限",execute:l,cancel:d}),o=t)},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("MemberModalCtrl",["$scope","branch","MemberSvc","$modalInstance","$state","member","BranchSvc","UserSvc",function(e,t,n,s,r,i,a,c){e.alerts=[],e.isNew=_.isNull(i.workingTime),e.member={id:i.id||"",name:i.name||null,title:"消防隊員",titles:["消防隊員","小隊長","分隊長","中隊長","大隊長","副大隊長"],branch:i.branch||t,workingTime:i.workingTime||1200,radioCode:i.radioCode||null,mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","帶隊官","安全管制員","聯絡官"],corps:c.userCorps(),corpss:["第一救災救護大隊","第三救災救護大隊"]},a.fetch(c.userCorps()).success(function(t){if(e.branches=t,!e.isNew){for(var n=[],s=t.length-1;s>=0;s--)n.push(t[s].name);e.member.branches=n}});var o=function(e){var t=e.split("").slice(-2).join("");return"大隊"==t||"中隊"==t?"北海":e.split("").slice(0,2).join("")};e.save=function(){e.member.name&&(e.member.radioCodePrefix=o(e.member.branch),n.create(e.member).success(function(){e.member.workingTime=moment.duration(parseInt(e.member.workingTime),"seconds")}).then(function(){s.close(e.member)}))},e.update=function(){var t={memberId:i.memberId,id:"",name:e.member.name,corps:e.member.corps,branch:e.member.branch,title:e.member.title,workingTime:e.member.workingTime,radioCode:e.member.radioCode,radioCodePrefix:o(e.member.branch)};e.member.name&&(n.updateByMemberId(t),s.close(t))},e.cancel=function(){s.dismiss("cancel")}}]),angular.module("InNet").service("MemberSvc",["$http",function(e){this.fetch=function(){return e.get("/api/members")},this.findByBranch=function(t){return e.get("/api/members/"+t)},this.fetchOnDuty=function(t){return e.get("/api/members/onDuty?branch="+t)},this.updateOnDuty=function(t){return e.put("/api/members/onDuty/findById?memberId="+t.memberId,t)},this.create=function(t){return e.post("/api/members/",t)},this.update=function(t){return e.put("/api/members/",t.id)},this.updateByMemberId=function(t){return e.put("/api/members/findById/"+t.memberId,t)},this.updateIsChecked=function(t){return e.put("/api/members?id="+t.memberId,t)},this.updateUser=function(t){return e.put("/api/members/user?username="+t)},this.removeUser=function(t){return e.put("/api/members/user/remove?username="+t)},this.deleteMember=function(t){return e["delete"]("/api/members/"+t._id)}}]),angular.module("InNet").controller("NavCtrl",["$scope","BranchSvc","store","jwtHelper","UserSvc",function(e,t,n,s,r){e.username=r.currentUser(),e.branch=r.userBranch(),t.fetch(r.userCorps()).success(function(t){e.branches=t}),e.isValid=function(e){return r.isValid(e)}}]),angular.module("InNet").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/login"),e.state("anon",{url:"","abstract":!0,template:"<ui-view>"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.404",{url:"/404",templateUrl:"views/404.html"}),e.state("dutyDesk",{"abstract":!0,url:"/dutyDesk",templateUrl:"views/common/content.html",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.case",{url:"/case",templateUrl:"views/case/case.index.html",controller:"CaseCtrl"}).state("dutyDesk.safety",{url:"/case/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("dutyDesk.dutylist",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.dutylist.show",{url:"/dutylist/:branch",templateUrl:"views/dutylist/dutylist.index.html",controller:"DutyListCtrl"}).state("dutyDesk.dutylist.edit",{url:"/dutylist/:branch/edit",templateUrl:"views/dutylist/dutylist.edit.html",controller:"DutyListEditCtrl"}).state("dutyDesk.member",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.member.show",{url:"/member/:branch",templateUrl:"views/member/member.index.html",controller:"MemberCtrl"}).state("dutyDesk.member.edit",{url:"/member/:branch/edit",templateUrl:"views/member/member.edit.html",controller:"MemberEditCtrl"}).state("dutyDesk.car",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.car.show",{url:"/car/:branch",templateUrl:"views/cars/car.index.html",controller:"CarIndexCtrl"}).state("dutyDesk.car.edit",{url:"/car/:branch/edit",templateUrl:"views/cars/car.edit.html",controller:"CarEditCtrl"}),e.state("director",{"abstract":!0,url:"",templateUrl:"views/director/director.content.html",data:{requiredLogin:!0,role:["user"]}}).state("director.safety",{"abstract":!0,url:"/safety",template:"<ui-view>"}).state("director.safety.index",{url:"/index",templateUrl:"views/safety/safety.index.html",controller:"SafetyIndexCtrl"}).state("director.safety.management",{url:"/index/:id",templateUrl:"views/safety/safety.manage.html",controller:"SafetyManageCtrl"}).state("director.safety.summary",{url:"/summary/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("director.map",{url:"/map",templateUrl:"views/map/map.index.html",controller:"MapIndexCtrl"}).state("director.dutylist",{"abstract":!0,url:"/dutylist",template:"<ui-view>"}).state("director.dutylist.index",{url:"/index",templateUrl:"views/dutylist/director.dutylist.index.html",controller:"DirDutyListCtrl"}).state("director.dutylist.edit",{url:"/edit",templateUrl:"views/dutylist/director.dutylist.edit.html",controller:"DutyListEditCtrl"})}]).run(["$rootScope","$state","$stateParams","store","jwtHelper","UserSvc","SocketSvc",function(e,t,n,s,r,i,a){e.$on("$stateChangeStart",function(e,n,a,c,o){"anon.login"==n.name?s.remove("jwt"):n.data&&n.data.requiredLogin&&(i.isLoggedIn()?-1==n.data.role.indexOf(r.decodeToken(s.get("jwt")).role)&&(e.preventDefault(),t.go("anon.login")):(e.preventDefault(),t.go("anon.login")))}),e.$on("$stateChangeError",function(e){e.preventDefault()})}]),angular.module("InNet").controller("SafetyIndexCtrl",["$scope","CaseSvc","UserSvc","SocketSvc","$rootScope",function(e,t,n,s,r){s.on("newCase",function(t){e.cases.push(t)}),s.on("caseClose",function(t){t.isOngoing||(e.cases=e.cases.filter(function(e){return e._id!=t.caseId}))});var i={branch:n.userBranch(),accessLevel:n.accessLevel(),corps:n.userCorps()};t.fetchRelativeCase(i).success(function(t){e.cases=t}),e.$on("$destroy",function(e){s.removeAllListeners()}),e.accessLevel=n.accessLevel()}]),angular.module("InNet").controller("SafetyManageCtrl",["$scope","$stateParams","$modal","StSvc","$state","MemberSvc","$log","UserSvc","BranchSvc","SocketSvc",function(e,t,n,s,r,i,a,c,o,u){var l=c.userBranch();o.fetchByName(l).success(function(t){e.details=t}),s.fetch(t.id,l).success(function(t){e.strikeTeams=t}),u.on("newSt",function(n){angular.equals(l,n.branch)&&angular.equals(t.id,n.caseId)&&e.strikeTeams.push(n)}),u.on("updateSt",function(t){for(var n=angular.copy(t.members),s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.id)&&(e.strikeTeams[s].position=t.position,e.strikeTeams[s].area=t.area,e.strikeTeams[s].members.push.apply(e.strikeTeams[s].members,n))}),u.on("dismiss",function(t){var n=t.stId;e.strikeTeams=e.strikeTeams.filter(function(e){return e._id!=n})}),e.strikeTeam=function(){n.open({templateUrl:"views/safety/safety.modal.html",controller:"SafetyModalCtrl",size:"md",resolve:{stId:function(){return _.isEmpty(e.strikeTeams)?0:e.strikeTeams[e.strikeTeams.length-1].id}}})},e.openSettingModal=function(t,s){var r=n.open({templateUrl:"views/safety/safety.setting.modal.html",controller:"SafetySettingCtrl",size:"lg",resolve:{strikeTeam:function(){return t}}});r.result.then(function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].position=t.position,e.strikeTeams[n].area=t.area,e.strikeTeams[n].members.push.apply(e.strikeTeams[n].members,t.members))},function(){a.info("Modal dismissed at: "+new Date)})},e.dismiss=function(t,n){s.dismissSt({id:t._id}).success(function(){for(var e=t.members.length-1;e>=0;e--)i.updateIsChecked({memberId:t.members[e]._id,mission:t.members[e].mission,isChecked:!1})}),e.strikeTeams.splice(n,1)},e.$on("$destroy",function(e){u.removeAllListeners()})}]),angular.module("InNet").controller("SafetyModalCtrl",["$scope","$modalInstance","$stateParams","StSvc","MemberSvc","$state","$window","stId","UserSvc","BranchSvc","SocketSvc",function(e,t,n,s,r,i,a,c,o,u,l){var m=o.userBranch();e.title=m+(c+1),u.fetchByName(m).success(function(t){e.details=t}).then(function(){e.details&&(e.details.members=e.details.members.filter(function(e){return 1!=e.isChecked}),e.details.members.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}))}),e.strikeTeam={position:"第一面",positions:["第一面","第二面","第三面","第四面"],mission:"搶救小組",missions:["搶救小組","救援小組","搜救小組"],area:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"]},e.check=function(e){e.isChecked=!e.isChecked},e.cancel=function(){t.dismiss("cancel")},e.save=function(){var s=e.details.members.filter(function(e){return e.isChecked===!0});if(s.length>-1){for(var i={id:c+1||0,caseId:n.id,branch:e.details.name,director:e.details.director,position:e.strikeTeam.position,positions:e.strikeTeam.positions,mission:e.strikeTeam.mission,missions:e.strikeTeam.missions,area:e.strikeTeam.area,areas:e.strikeTeam.areas,members:s,isDismissed:!1,workingTime:_.min(s,function(e){return e.workingTime}).workingTime,creator:o.currentUser()},u=s.length-1;u>=0;u--)r.updateIsChecked({memberId:s[u]._id,isChecked:s[u].isChecked,mission:s[u].mission});l.emit("createStrikeTeam",i),t.close()}else a.alert("you must organize strike team")}}]),angular.module("InNet").controller("SafetySettingCtrl",["$scope","strikeTeam","$modalInstance","StSvc","$state","MemberSvc","CaseSvc","$stateParams","SocketSvc",function(e,t,n,s,r,i,a,c,o){var u=[],l=[];e.strikeTeam=t,a.fetchDetails(c.id).success(function(t){e.dispatch=t.branchIds}),e.chooseBranch=function(t){e.members=e.dispatch[t].members;for(var n=e.members.length-1;n>=0;n--)e.members[n].isChecked&&e.members.splice(n,1)},e.cancel=function(){n.dismiss("cancel")},e.check=function(e){e.isChecked=!e.isChecked,u.push(e._id),l.push(e)},e.uncheck=function(e,t){e.isChecked=!e.isChecked,u.splice(t,1),l.splice(t,1)},e.save=function(){s.updateSt({id:t._id,position:t.position,area:t.area,mission:t.mission,memberIds:u}).success(function(){for(var e=u.length-1;e>=0;e--)i.updateIsChecked({memberId:u[e]._id,mission:u[e].mission,isChecked:!0})}),n.close({id:t._id,position:t.position,area:t.area,members:l,caseId:t.caseId})}}]),angular.module("InNet").service("SocketSvc",["$rootScope","store","$q","$timeout",function(e,t,n,s){this.init=function(e){var n=null;return n=e?e:t.get("jwt"),io.connect("http://localhost:3000",{query:"token="+n,forceNew:!0})};var r=this.init();this.on=function(t,n){this.init().on(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})},this.emit=function(t,n,s){this.init().emit(t,n,function(){var t=arguments;e.$apply(function(){s&&s.apply(r,t)})})},this.removeAllListeners=function(t,n){this.init().removeAllListeners(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})}}]),angular.module("InNet").service("StSvc",["$http",function(e){this.fetch=function(t,n){return e.get("/api/strikeTeams?caseId="+t+"&branch="+n)},this.fetchByCase=function(t){return e.get("/api/strikeTeams/total?caseId="+t)},this.dismissSt=function(t){return e.put("/api/strikeTeams/dismiss?id="+t.id)},this.updateSt=function(t){return e.put("/api/strikeTeams/update?id="+t.id,t)},this.updateTimeRecord=function(t){return e.put("/api/strikeTeams/time?id="+t.id,t)},this.create=function(t){return e.post("/api/strikeTeams",t)},this.count=function(t){return e.get("/api/strikeTeams/count?caseId="+t)}}]),angular.module("InNet").controller("SummaryCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc",function(e,t,n,s,r,i){i.on("timerRunning",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.stId)&&(e.strikeTeams[n].timerRunning=t.timerRunning)}),i.on("progressUpdate",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].timer=moment.duration(t.millis),e.strikeTeams[n].progress=t.progress,e.strikeTeams[n].progressState=t.progressState)}),i.on("newSt",function(t){if(angular.equals(a,t.caseId)){var n=angular.copy(t);e.strikeTeams.push(n)}e.deploys=c(e.strikeTeams)}),i.on("updateSt",function(n){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)})}),i.on("dismiss",function(n){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.deploys=c(e.strikeTeams)})});var a=n.id;t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)}),e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"]};var c=function(e){var t=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0}})});if(e)for(var n=e.length-1;n>=0;n--){var s=_.indexOf(e[n].positions,e[n].position),r=_.indexOf(e[n].areas,e[n].area);t[s][r].stTotal+=1,t[s][r].totalMember+=e[n].members.length}return t};e.$on("$destroy",function(e){i.removeAllListeners()})}]),angular.module("InNet").controller("TimerCtrl",["$scope","SocketSvc",function(e,t){e.timerRunning=!0,e.startTimer=function(n,s){e.$broadcast("timer-start"),e.timerRunning=!0,t.emit("timer",{stId:n._id,timerRunning:!0})},e.stopTimer=function(n,s){e.$broadcast("timer-stop"),e.timerRunning=!1,t.emit("timer",{stId:n._id,timerRunning:!1})},e.resumeTimer=function(){e.$broadcast("timer-resume"),e.timerRunning=!1}}]),angular.module("InNet").controller("TopNavCtrl",["$scope","$location","$state","$interval","store","SocketSvc","UserSvc","$window",function(e,t,n,s,r,i,a,c){e.currentTime=moment().format("MMM Do, h:mm:ss a"),s(function(){moment.locale("zh-tw"),e.currentTime=moment().format("MMM Do, h:mm:ss a")},1e3),e.logout=function(){a.currentAccount();i.emit("logout"),n.go("anon.login")}}]),angular.module("InNet").service("UserSvc",["$http","store","jwtHelper",function(e,t,n){this.fetchOnlineUser=function(){return e.get("/api/users/userState")},this.activate=function(t){return e.post("/api/users",t)},this.removeUser=function(t){return e["delete"]("/api/users/delete?username="+t)},this.login=function(t){return e.post("/api/users/authenticate",t)},this.isLoggedIn=function(){return t.get("jwt")},this.isValid=function(e){return this.isLoggedIn&&(n.decodeToken(t.get("jwt")).accessLevel>1||n.decodeToken(t.get("jwt")).branch==e)?!0:!1},this.userBranch=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).branch:void 0},this.userCorps=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).corps:void 0},this.currentUser=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).username:void 0},this.currentAccount=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).account:void 0},this.accessLevel=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).accessLevel:void 0},this.caseId=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).caseId:void 0}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImJyYW5jaC5zdmMuanMiLCJjYXIuZWRpdC5jdHJsLmpzIiwiY2FyLmluZGV4LmN0cmwuanMiLCJjYXJzLnN2Yy5qcyIsImNhc2UuY3RybC5qcyIsImNhc2UubW9kYWwuY3RybC5qcyIsImNhc2Uuc3ZjLmpzIiwiZGFzaGJvYXJkLmN0cmwuanMiLCJkaXJlY3RpdmVzLmpzIiwiZGlyZWN0b3IuZHV0eWxpc3QuY3RybC5qcyIsImRpc3BhdGNoLmN0cmwuanMiLCJkdXR5bGlzdC5jdHJsLmpzIiwiZHV0eWxpc3QuZWRpdC5jdHJsLmpzIiwiZ2VvLnN2Yy5qcyIsImxvZ2luLmN0cmwuanMiLCJtYXAuaW5kZXguY3RybC5qcyIsIm1lbWJlci5hY2NvdW50Lm1vZGFsLmN0cmwuanMiLCJtZW1iZXIuY3RybC5qcyIsIm1lbWJlci5lZGl0LmN0cmwuanMiLCJtZW1iZXIubW9kYWwuY3RybC5qcyIsIm1lbWJlci5zdmMuanMiLCJuYXYuY3RybC5qcyIsInJvdXRlci5qcyIsInNhZmV0eS5pbmRleC5jdHJsLmpzIiwic2FmZXR5Lm1hbmFnZS5jdHJsLmpzIiwic2FmZXR5Lm1vZGFsLmN0cmwuanMiLCJzYWZldHkuc2V0dGluZy5tb2RhbC5qcyIsInNvY2tldC5zdmMuanMiLCJzdC5zdmMuanMiLCJzdW1tYXJ5LmN0cmwuanMiLCJ0aW1lci5jdHJsLmpzIiwidG9wbmF2YmFyLmN0cmwuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZSIsIiRodHRwIiwidGhpcyIsImZldGNoIiwiY29ycHMiLCJnZXQiLCJmZXRjaEJ5TmFtZSIsImJyYW5jaCIsInRvdGFsTGlzdEZpbmRCeU5hbWUiLCJnZXREZXRhaWxzIiwiaWQiLCJ1cGRhdGUiLCJkYXRhIiwicHV0IiwidXBkYXRlRGlyZWN0b3IiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiZmluZEJ5QnJhbmNoIiwiJHN0YXRlUGFyYW1zIiwiJG1vZGFsIiwiQ2FzZVN2YyIsIiRsb2ciLCJTb2NrZXRTdmMiLCJVc2VyU3ZjIiwibWF4U2l6ZSIsImJpZ1RvdGFsSXRlbXMiLCJiaWdDdXJyZW50UGFnZSIsInVzZXJDb3JwcyIsInN1Y2Nlc3MiLCJjYXNlcyIsIm9uIiwiX2Nhc2UiLCJ1bnNoaWZ0IiwiY2FzZUlkIiwiY2hvb3NlIiwiZmluZEJ5SWQiLCJfaWQiLCJjYXNlRGV0YWlscyIsImFkZE5ld0Nhc2UiLCJtb2RhbEluc3RhbmNlIiwib3BlbiIsInRlbXBsYXRlVXJsIiwic2l6ZSIsInJlc29sdmUiLCJfIiwiaXNFbXB0eSIsInJlc3VsdCIsInRoZW4iLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiaW5mbyIsIkRhdGUiLCJlZGl0Q2FzZSIsIkNhclN2YyIsIiRtb2RhbEluc3RhbmNlIiwiJHN0YXRlIiwiU3RTdmMiLCIkd2luZG93IiwiQnJhbmNoU3ZjIiwiZ2V0Q2Fyc0RldGFpbCIsIm9iaiIsImRpc3BhdGNoTGlzdCIsImNhcklkcyIsImJyYW5jaGVzIiwiY2FycyIsImkiLCJsZW5ndGgiLCJwdXNoIiwicmFkaW9Db2RlIiwiZ2V0QnJhbmNoSWQiLCJicmFuY2hlc0xpc3QiLCJ1bmlxdWUiLCJicmFuY2hJZHMiLCJpbmRleE9mIiwibmFtZSIsImlzTmV3IiwiY2FyT2JqcyIsImNhc2VPYmoiLCJhZGRyZXNzIiwicGhvbmUiLCJ0eXBlIiwidHlwZXMiLCJqb2luIiwiZ2V0Q2FycyIsImlzQ2hlY2tlZCIsImNhbmNlbCIsImRpc21pc3MiLCJjYW5jZWxEaXNwYXRjaCIsImNhciIsInNwbGljZSIsImRpc3BhdGNoIiwiY2xvc2VDYXNlIiwiY291bnQiLCJ0b3RhbCIsImFsZXJ0IiwiaXNPbmdvaW5nIiwicmVsb2FkIiwic2F2ZSIsImNyZWF0ZSIsIm9mZmljZXJSZWNlaXZlciIsImN1cnJlbnRVc2VyIiwibmV3Q2FzZSIsImNsb3NlIiwiY29udGVudCIsImZldGNoQWxsIiwiZmV0Y2hSZWxhdGl2ZUNhc2UiLCJjb24iLCJhY2Nlc3NMZXZlbCIsImZldGNoRGV0YWlscyIsImNhc2VfaW5mbyIsInBvc3QiLCJ1cGRhdGVkX2Nhc2UiLCIkbG9jYXRpb24iLCJmZXRjaE9ubGluZVVzZXIiLCJ1c2VycyIsInVzZXIiLCJkaXNjb25uZWN0VXNlciIsImZpbHRlciIsInVzZXJuYW1lIiwibG9nb3V0VXNlciIsIiRvbiIsImV2ZW50IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZGlyZWN0aXZlIiwiJHRpbWVvdXQiLCJyZXN0cmljdCIsInRlbXBsYXRlIiwiJGVsZW1lbnQiLCJtaW5pbWFsaXplIiwiJCIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJoaWRlIiwic2V0VGltZW91dCIsImZhZGVJbiIsInJlbW92ZUF0dHIiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwibWV0aXNNZW51Iiwic2hvd2hpZGUiLCJpYm94IiwiY2xvc2VzdCIsImljb24iLCJmaW5kIiwic2xpZGVUb2dnbGUiLCJyZXNpemUiLCJjbG9zZWJveCIsInJlbW92ZSIsImlFbGVtZW50IiwiaUF0dHJzIiwiYmluZCIsImhpc3RvcnkiLCJiYWNrIiwidG90YWxDb3VudCIsIm1lbWJlcnMiLCJvbkR1dHkiLCJ1c2VyQnJhbmNoIiwib25EdXR5VG90YWwiLCJicmFuY2hMaXN0IiwiY2Fyc0RhdGEiLCJqIiwicmFkaW9fY29kZSIsIiRxIiwiTWVtYmVyU3ZjIiwiY2hlY2siLCJtZW1iZXIiLCJkaXJlY3RvciIsInVwZGF0ZU9uRHV0eSIsIm1lbWJlcklkIiwibWlzc2lvbiIsImdldEdlb2xvY2F0aW9uQ29vcmRpbmF0ZXMiLCJkZWZlcnJlZCIsImRlZmVyIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsImNvb3JkcyIsImVycm9yIiwicHJvbWlzZSIsInN0b3JlIiwiand0SGVscGVyIiwidG9rZW4iLCJsb2dpbiIsInNldCIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImluaXQiLCJlbWl0IiwiZ28iLCJkZWNvZGVUb2tlbiIsInJvbGUiLCJsZWFmbGV0RGF0YSIsIkdlb1N2YyIsImNvb3JkIiwibm93UG9zIiwibGF0IiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJ6b29tIiwiZXh0ZW5kIiwiY29udHJvbHMiLCJkcmF3IiwiZ2V0TWFwIiwibWFwIiwiZHJhd25JdGVtcyIsImVkaXQiLCJmZWF0dXJlR3JvdXAiLCJlIiwibGF5ZXIiLCJhZGRMYXllciIsIkZlYXR1cmVDb2xsZWN0aW9ucyIsInRvR2VvSlNPTiIsImFjY291bnQiLCJwYXNzd29yZCIsImFjdGl2YXRlIiwidXBkYXRlVXNlciIsImZvckVhY2giLCJ3b3JraW5nVGltZSIsIm1vbWVudCIsImR1cmF0aW9uIiwiYWxlcnRzIiwibWVtYmVyRGVsZXRlZCIsInRlbXBEZWxNZW1iZXIiLCJtZW1iZXJJbml0IiwibWVtYmVySWRzIiwiZGlyZWN0b3JzIiwidGl0bGUiLCJhZGROZXdNZW1iZXIiLCJvbGRNZW1iZXIiLCJtaW51dGVzIiwic2Vjb25kcyIsImFjdGl2YXRlQWNjb3VudCIsImlzVXNlciIsImRlQWN0aXZhdGVBY2NvdW50IiwiaW5kZXgiLCJyZW1vdmVVc2VyIiwiY2xvc2VBbGVydCIsImRlbGV0ZU1lbWJlciIsImNhbmNlbERlbCIsImRlbGV0ZUFsZXJ0IiwiZXhlY3V0ZSIsImRlQWN0aXZhdGVBbGVydCIsImlzTnVsbCIsInRpdGxlcyIsIm1pc3Npb25zIiwiY29ycHNzIiwiYnJhbmNoQXJyeSIsInJhZGlvQ29kZVByZWZpeCIsInN1ZmZpeCIsInNwbGl0Iiwic2xpY2UiLCJwYXJzZUludCIsInVwZGF0ZU1lbWJlciIsInVwZGF0ZUJ5TWVtYmVySWQiLCJmZXRjaE9uRHV0eSIsInVwZGF0ZUlzQ2hlY2tlZCIsIm1lbWJlckRhdGEiLCJpc1ZhbGlkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwiYWJzdHJhY3QiLCJyZXF1aXJlZExvZ2luIiwicnVuIiwiJHJvb3RTY29wZSIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0xvZ2dlZEluIiwicHJldmVudERlZmF1bHQiLCJ1c2VyQ29uZGl0aW9uIiwiZGV0YWlscyIsInN0cyIsInN0cmlrZVRlYW1zIiwic3QiLCJlcXVhbHMiLCJjb3B5IiwiYXJlYSIsImFwcGx5IiwiX3N0SWQiLCJzdElkIiwic3RyaWtlVGVhbSIsIm9wZW5TZXR0aW5nTW9kYWwiLCJ1cGRhdGVkU3QiLCJkaXNtaXNzU3QiLCJsaW1pdFRpbWUiLCJwb3NpdGlvbnMiLCJhcmVhcyIsImlzRGlzbWlzc2VkIiwibWluIiwiY3JlYXRvciIsIm1lbWJlck9ianMiLCJjaG9vc2VCcmFuY2giLCJ1bmNoZWNrIiwidXBkYXRlU3QiLCJhdXRoVG9rZW4iLCJpbyIsImNvbm5lY3QiLCJxdWVyeSIsImZvcmNlTmV3Iiwic29ja2V0IiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJhcmdzIiwiYXJndW1lbnRzIiwiJGFwcGx5IiwiZmV0Y2hCeUNhc2UiLCJ1cGRhdGVUaW1lUmVjb3JkIiwiJGludGVydmFsIiwidGltZXJSdW5uaW5nIiwidGltZXIiLCJtaWxsaXMiLCJwcm9ncmVzcyIsInByb2dyZXNzU3RhdGUiLCJuZXdTdCIsImRlcGxveXMiLCJpbml0VGFibGUiLCJkZWZhdWx0UG9zIiwiZGVwbG95QXJyYXkiLCJyYW5nZSIsInRvdGFsTWVtYmVyIiwic3RUb3RhbCIsIngiLCJ5Iiwic3RhcnRUaW1lciIsIiRicm9hZGNhc3QiLCJzdG9wVGltZXIiLCJyZXN1bWVUaW1lciIsImN1cnJlbnRUaW1lIiwiZm9ybWF0IiwibG9jYWxlIiwibG9nb3V0IiwiY3VycmVudEFjY291bnQiXSwibWFwcGluZ3MiOiJBQUtBQSxRQUFBQyxPQUFBLFNBQUEsWUFBQSxlQUFBLFFBQUEsa0JBQUEsY0FBQSxvQkFBQSxtQkNBQUQsUUFBQUMsT0FBQSxTQUNBQyxRQUFBLGFBQUEsUUFBQSxTQUFBQyxHQUVBQyxLQUFBQyxN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QUFvUixXQUNBL0YsRUFBQVUsWUFBQVgsRUFBQWpMLElBQUEsUUFBQUUsT0FEQSxRQUtBTCxLQUFBeUIsVUFBQSxXQUNBLE1BQUF6QixNQUFBb1IsV0FDQS9GLEVBQUFVLFlBQUFYLEVBQUFqTCxJQUFBLFFBQUFELE1BREEsUUFLQUYsS0FBQW1HLFlBQUEsV0FDQSxNQUFBbkcsTUFBQW9SLFdBQ0EvRixFQUFBVSxZQUFBWCxFQUFBakwsSUFBQSxRQUFBa0gsU0FEQSxRQUtBckgsS0FBQW9WLGVBQUEsV0FDQSxNQUFBcFYsTUFBQW9SLFdBQ0EvRixFQUFBVSxZQUFBWCxFQUFBakwsSUFBQSxRQUFBb04sUUFEQSxRQUtBdk4sS0FBQTBHLFlBQUEsV0FDQSxNQUFBMUcsTUFBQW9SLFdBQ0EvRixFQUFBVSxZQUFBWCxFQUFBakwsSUFBQSxRQUFBdUcsWUFEQSxRQUtBMUcsS0FBQStCLE9BQUEsV0FDQSxNQUFBL0IsTUFBQW9SLFdBQ0EvRixFQUFBVSxZQUFBWCxFQUFBakwsSUFBQSxRQUFBNEIsT0FEQSIsImZpbGUiOiJpbm5ldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogSW5OZXQgTW9kJ3VpLnJvdXRlJ3VsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcsIFsndWkucm91dGVyJywndWkuYm9vdHN0cmFwJywgJ3RpbWVyJywnYW5ndWxhci1zdG9yYWdlJywgJ2FuZ3VsYXItand0JywnbGVhZmxldC1kaXJlY3RpdmUnLCAnYW5ndWxhci5maWx0ZXInXSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdCcmFuY2hTdmMnLCBbICckaHR0cCcsIGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbihjb3Jwcyl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2g/Y29ycHM9JyArIGNvcnBzKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQnlOYW1lID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaC9uYW1lP2JyYW5jaD0nICsgYnJhbmNoKTtcblx0fTtcblxuXHR0aGlzLnRvdGFsTGlzdEZpbmRCeU5hbWUgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoL25hbWUvdG90YWw/YnJhbmNoPScgKyBicmFuY2gpXG5cdH1cblxuXHR0aGlzLmdldERldGFpbHMgPSBmdW5jdGlvbihpZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2gvJyArIGlkKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYnJhbmNoLycgKyBkYXRhLmJyYW5jaCAsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlRGlyZWN0b3IgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2JyYW5jaD9icmFuY2g9JyArIGRhdGEuYnJhbmNoLCBkYXRhKVxuXHR9XG5cdFxufV0pIiwiLyoqXG4qJ0luTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FyRWRpdEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXJJbmRleEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdDYXJTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhcnMnKVxuXHR9XG5cblx0dGhpcy5maW5kQnlCcmFuY2ggPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXJzLycgKyBicmFuY2ggKVxuXHR9XG5cdFxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2Fycy8nICsgZGF0YS5pZCAsIGRhdGEpXG5cdH1cblxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZUN0cmwnLCBbJyRzY29wZScsJyRzdGF0ZVBhcmFtcycsJyRtb2RhbCcsJ0Nhc2VTdmMnLCAnJGxvZycsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUgLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgQ2FzZVN2YywgJGxvZywgU29ja2V0U3ZjLCBVc2VyU3ZjKSB7XG5cblx0JHNjb3BlLm1heFNpemUgPSA1O1xuXHQkc2NvcGUuYmlnVG90YWxJdGVtcyA9IDE3NTtcblx0JHNjb3BlLmJpZ0N1cnJlbnRQYWdlID0gMTtcblxuXHRDYXNlU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oY2FzZXMpe1xuXHRcdCRzY29wZS5jYXNlcyA9IGNhc2VzO1xuXHR9KTtcblxuXHRTb2NrZXRTdmMub24oJ25ld0Nhc2UnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHQkc2NvcGUuY2FzZXMudW5zaGlmdChfY2FzZSk7XG5cdH0pO1xuXG5cdFNvY2tldFN2Yy5vbignY2FzZU1vZGlmaWVkJyxmdW5jdGlvbihfY2FzZSl7XG5cdFx0JHNjb3BlLmNhc2VzW19jYXNlLmNhc2VJZC0xXSA9IF9jYXNlO1xuXHR9KTtcblxuXHQkc2NvcGUuY2hvb3NlID0gZnVuY3Rpb24oaWQpe1xuXHRcdENhc2VTdmMuZmluZEJ5SWQoJHNjb3BlLmNhc2VzW2lkXS5faWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0XHQkc2NvcGUuY2FzZURldGFpbHMgPSBfY2FzZTtcblx0XHR9KTtcblx0fTtcblxuXHQkc2NvcGUuYWRkTmV3Q2FzZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2Nhc2UvY2FzZS5tb2RhbC5odG1sJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0Nhc2VNb2RhbEN0cmwnLFxuXHRcdCAgICBzaXplOiBcImxnXCIsXG5cdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0ICAgIFx0Y2FzZUlkIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0aWYgKCBfLmlzRW1wdHkoJHNjb3BlLmNhc2VzKSkge1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAwXG5cdFx0XHQgICAgXHRcdH0gZWxzZXtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gJHNjb3BlLmNhc2VzWzBdLmNhc2VJZDtcblx0XHRcdCAgICBcdFx0fTtcblx0XHRcdCAgICB9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiB7fVxuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXHQgICAgfSk7XG5cdCAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChtc2cpIHtcblx0ICAgICAgLy8gJHNjb3BlLmNhc2VzLnVuc2hpZnQobmV3Q2FzZSk7XG5cdCAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG5cdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG5cdCAgICB9KTtcblx0IH07XG5cblx0ICRzY29wZS5lZGl0Q2FzZSA9IGZ1bmN0aW9uKGlkKXtcblx0IFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICBcdHRlbXBsYXRlVXJsOiAndmlld3MvY2FzZS9jYXNlLm1vZGFsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZU1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIGlkXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhc2VEZXRhaWxzXG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0IH07XG59XSlcbiIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Nhc2VNb2RhbEN0cmwnLCBbJyRzY29wZScsICdDYXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnQ2FzZVN2YycsJyRzdGF0ZScsICdjYXNlSWQnLCdjYXNlRGV0YWlscycsICdTdFN2YycsICckd2luZG93JywgJ0JyYW5jaFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FyU3ZjLCAkbW9kYWxJbnN0YW5jZSwgQ2FzZVN2YywgJHN0YXRlLCBjYXNlSWQsIGNhc2VEZXRhaWxzLCBTdFN2YyAsICR3aW5kb3csIEJyYW5jaFN2YywgVXNlclN2Yykge1xuXG5cdGlmIChfLmlzRW1wdHkoY2FzZURldGFpbHMpKSB7XG5cdFx0JHNjb3BlLmlzTmV3ID0gdHJ1ZTtcblx0XHRjYXJPYmpzID0gW107XG5cblx0fWVsc2V7XG5cdFx0JHNjb3BlLmlzTmV3ID0gZmFsc2U7XG5cdFx0dmFyIGNhck9ianMgPSBjYXNlRGV0YWlscy5jYXJzO1xuXHR9XG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHQgICAgJHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGdldENhcnNEZXRhaWwob2JqKXtcblx0XHR2YXIgZGlzcGF0Y2hMaXN0ID0gW107XG5cdFx0dmFyIGNhcklkcyA9IFtdO1xuXHRcdHZhciBicmFuY2hlcyA9IFtdO1xuXG5cdFx0aWYgKG9iai5jYXJzKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gb2JqLmNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0ZGlzcGF0Y2hMaXN0LnB1c2gob2JqLmNhcnNbaV0ucmFkaW9Db2RlKTtcblx0XHRcdFx0Y2FySWRzLnB1c2gob2JqLmNhcnNbaV0uX2lkKTtcblx0XHRcdFx0YnJhbmNoZXMucHVzaChvYmouY2Fyc1tpXS5icmFuY2gpOyBcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4ge2Rpc3BhdGNoTGlzdCA6IGRpc3BhdGNoTGlzdCAsIGNhcklkcyA6IGNhcklkcyAsIGJyYW5jaGVzIDogIGJyYW5jaGVzfVxuXG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fTtcblx0fTtcblxuXHRmdW5jdGlvbiBnZXRCcmFuY2hJZChicmFuY2hlc0xpc3Qpe1xuXHRcdHZhciBicmFuY2hlcyA9IF8udW5pcXVlKGJyYW5jaGVzTGlzdCk7XG5cdFx0dmFyIGJyYW5jaElkcyA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmJyYW5jaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYnJhbmNoZXMuaW5kZXhPZigkc2NvcGUuYnJhbmNoZXNbaV0ubmFtZSkgPiAtMSkge1xuXHRcdFx0XHRicmFuY2hJZHMucHVzaCgkc2NvcGUuYnJhbmNoZXNbaV0uX2lkKTtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRyZXR1cm4gIGJyYW5jaElkcztcblx0fTtcblxuXHQkc2NvcGUuY2FzZU9iaiA9IHtcblx0XHRhZGRyZXNzIDogY2FzZURldGFpbHMuYWRkcmVzcyB8fCBudWxsLFxuXHRcdHBob25lIDogY2FzZURldGFpbHMucGhvbmUgfHwgbnVsbCxcblx0ICAgIHR5cGUgOiBjYXNlRGV0YWlscy50eXBlIHx8ICBcIueBq+itplwiLCBcblx0ICAgIHR5cGVzIDogWyBcIueBq+itplwiLCBcIuaVkeitt1wiLCBcIueBveWus1wiLCBcIuaqouiIiVwiLFwi5YW25LuWXCJdICxcblx0ICAgIGNhcklkcyA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmNhcklkcyAgfHwgW10sXG5cdCAgICBkaXNwYXRjaExpc3QgOiBnZXRDYXJzRGV0YWlsKGNhc2VEZXRhaWxzKS5kaXNwYXRjaExpc3QgfHwgIFtdLFxuXHQgICAgYnJhbmNoZXMgOiBnZXRDYXJzRGV0YWlsKGNhc2VEZXRhaWxzKS5icmFuY2hlcyB8fCAgW11cblx0fTtcblxuXHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmpvaW4oXCIgXCIpO1xuXG5cdCRzY29wZS5nZXRDYXJzID0gZnVuY3Rpb24oIGJyYW5jaCApe1xuXHRcdCBDYXJTdmMuZmluZEJ5QnJhbmNoKGJyYW5jaC5uYW1lKS5zdWNjZXNzKGZ1bmN0aW9uKGNhcnMpe1xuXHRcdCBcdGZvciAodmFyIGkgPSBjYXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0IFx0XHRpZiAoJHNjb3BlLmNhc2VPYmouY2FySWRzLmluZGV4T2YoY2Fyc1tpXS5faWQpID4gLTEgKSB7XG5cdFx0IFx0XHRcdGNhcnNbaV0uaXNDaGVja2VkID0gdHJ1ZTsgXG5cdFx0IFx0XHR9O1xuXHRcdCBcdH07XG5cdFx0IFx0JHNjb3BlLmNhcnMgPSBjYXJzO1xuXHRcdCB9KTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWxEaXNwYXRjaCA9IGZ1bmN0aW9uKGNhcil7XG5cdFx0Y2FyLmlzQ2hlY2tlZCA9IGZhbHNlO1xuXHRcdGNhck9ianMuc3BsaWNlKGNhck9ianMuaW5kZXhPZihjYXIpLDEpXG5cdFx0JHNjb3BlLmNhc2VPYmouY2FySWRzLnNwbGljZSgkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QuaW5kZXhPZihjYXIuX2lkKSwxKTtcblx0XHQkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5yYWRpb0NvZGUpLDEpO1xuXHRcdCRzY29wZS5jYXNlT2JqLmJyYW5jaGVzLnNwbGljZSgkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QuaW5kZXhPZihjYXIuYnJhbmNoKSwxKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmpvaW4oXCIgXCIpO1xuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaCA9IGZ1bmN0aW9uKCBjYXIgKXtcblx0XHRjYXIuaXNDaGVja2VkID0gdHJ1ZTsgXG5cdFx0Y2FyT2Jqcy5wdXNoKGNhcik7XG5cdFx0JHNjb3BlLmNhc2VPYmouY2FySWRzLnB1c2goY2FyLl9pZCk7XG5cdFx0JHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LnB1c2goY2FyLnJhZGlvQ29kZSk7XG5cdFx0JHNjb3BlLmNhc2VPYmouYnJhbmNoZXMucHVzaChjYXIuYnJhbmNoKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmpvaW4oXCIgXCIpO1xuXHR9O1xuXG5cdCRzY29wZS5jbG9zZUNhc2UgPSBmdW5jdGlvbigpe1xuXHRcdFN0U3ZjLmNvdW50KGNhc2VEZXRhaWxzLl9pZCkuc3VjY2VzcyhmdW5jdGlvbih0b3RhbCl7XG5cdFx0XHRpZiAodG90YWwgPiAwICkge1xuXHRcdFx0XHQkd2luZG93LmFsZXJ0KFwi5bCa5pyJ6ZqK5ZOh5Zyo5a6J5YWo566h5Yi2XCIpXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Q2FzZVN2Yy5jbG9zZUNhc2Uoe1xuXHRcdFx0XHRcdGlkIDogY2FzZURldGFpbHMuX2lkLFxuXHRcdFx0XHRcdGlzT25nb2luZyA6IGZhbHNlXG5cdFx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24obXNnKXtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhtc2cpXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHRcdFx0JHN0YXRlLnJlbG9hZCgpXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRDYXNlU3ZjLmNyZWF0ZSh7XG5cdFx0XHRjYXNlSWQgICA6IGNhc2VJZCArIDEsIFxuXHRcdFx0YWRkcmVzcyAgIDogJHNjb3BlLmNhc2VPYmouYWRkcmVzcyB8fCBcIua4rOipplwiLFxuXHRcdFx0b2ZmaWNlclJlY2VpdmVyIDogVXNlclN2Yy5jdXJyZW50VXNlcigpIHx8ICBcIuWKieabieabvFwiLFxuXHRcdFx0dHlwZSAgICAgIDogJHNjb3BlLmNhc2VPYmoudHlwZSB8fCBcIuaVkeitt1wiLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmNhc2VPYmoucGhvbmUgfHwgXCLmuKzoqaZcIixcblx0XHRcdGJyYW5jaGVzICA6IF8udW5pcXVlKCRzY29wZS5jYXNlT2JqLmJyYW5jaGVzKSxcblx0XHRcdGJyYW5jaElkcyA6IGdldEJyYW5jaElkKCRzY29wZS5jYXNlT2JqLmJyYW5jaGVzKSxcblx0ICBcdFx0Y2FycyAgICAgIDogJHNjb3BlLmNhc2VPYmouY2FySWRzLFxuXHRcdFx0aXNPbmdvaW5nIDogdHJ1ZSxcblx0XHRcdGNvcnBzIFx0ICA6IFVzZXJTdmMudXNlckNvcnBzKClcblx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKG5ld0Nhc2Upe1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UobmV3Q2FzZSlcblx0XHR9KTtcblx0fTtcblxuXHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0XHR2YXIgY29udGVudCA9IHtcblx0XHRcdGlkIDogY2FzZURldGFpbHMuX2lkLFxuXHRcdFx0Y2FzZUlkICAgOiBjYXNlSWQsIFxuXHRcdFx0YWRkcmVzcyAgIDogJHNjb3BlLmNhc2VPYmouYWRkcmVzcyxcblx0XHRcdG9mZmljZXJSZWNlaXZlciA6IFVzZXJTdmMuY3VycmVudFVzZXIoKSB8fCBcIuWKieabieabvFwiLFxuXHRcdFx0dHlwZSAgICAgIDogJHNjb3BlLmNhc2VPYmoudHlwZSxcblx0XHRcdHBob25lICAgICA6ICRzY29wZS5jYXNlT2JqLnBob25lLFxuXHRcdFx0YnJhbmNoZXMgIDogXy51bmlxdWUoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHRcdFx0YnJhbmNoSWRzIDogZ2V0QnJhbmNoSWQoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHQgIFx0XHRjYXJzICAgICAgOiAkc2NvcGUuY2FzZU9iai5jYXJJZHMsXG5cdFx0XHRpc09uZ29pbmcgOiB0cnVlLCBcblx0XHR9O1xuXHRcdFxuXHRcdENhc2VTdmMudXBkYXRlKGNvbnRlbnQpO1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHR9O1xufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0Nhc2VTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY29ycHMpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXM/Y29ycHM9JyArIGNvcnBzICk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEFsbCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9kZXRhaWxzJyk7XG5cdH07XG5cblx0dGhpcy5mZXRjaFJlbGF0aXZlQ2FzZSA9IGZ1bmN0aW9uKGNvbil7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9icmFuY2g/YnJhbmNoPScgKyBjb24uYnJhbmNoICsgJyZhY2Nlc3NMZXZlbD0nICsgY29uLmFjY2Vzc0xldmVsICsgJyZjb3Jwcz0nICsgY29uLmNvcnBzICk7XG5cdH1cblxuXHR0aGlzLmZldGNoRGV0YWlscyA9IGZ1bmN0aW9uKCBjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvZGV0YWlscy8nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmZpbmRCeUlkID0gZnVuY3Rpb24oIGNhc2VJZCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvJyArIGNhc2VJZCApO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oY2FzZV9pbmZvKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jYXNlcycsIGNhc2VfaW5mbyk7XG5cdH07XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbih1cGRhdGVkX2Nhc2Upe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2FzZXMvJyArIHVwZGF0ZWRfY2FzZS5pZCAsIHVwZGF0ZWRfY2FzZSk7XG5cdH07XG5cblx0dGhpcy5kZWxldGUgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Nhc2VzLycgKyBjYXNlSWQpO1xuXHR9O1xuXG5cdHRoaXMuY2xvc2VDYXNlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXNlcy9jbG9zZT9pZD0nICsgZGF0YS5pZCwgZGF0YSApXG5cdH1cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZEN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBTb2NrZXRTdmMsIFVzZXJTdmMsIEJyYW5jaFN2Yykge1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdFx0fSk7XG5cblx0XHRVc2VyU3ZjLmZldGNoT25saW5lVXNlcigpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gdXNlcnM7XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ2luJyxmdW5jdGlvbih1c2VyKXtcblx0XHRcdCRzY29wZS51c2Vycy5wdXNoKHVzZXIpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyRGlzY29ubmVjdCcsZnVuY3Rpb24oZGlzY29ubmVjdFVzZXIpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gJHNjb3BlLnVzZXJzLmZpbHRlcihmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRcdHJldHVybiB1c2VyLnVzZXJuYW1lICE9IGRpc2Nvbm5lY3RVc2VyLnVzZXJuYW1lXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ291dCcsZnVuY3Rpb24obG9nb3V0VXNlcil7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSAkc2NvcGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0cmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gbG9nb3V0VXNlci51c2VybmFtZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uZGlyZWN0aXZlKCdtaW5pbWFsaXphU2lkZWJhcicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG5cdHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHRlbXBsYXRlOiAnPGEgY2xhc3M9XCJuYXZiYXItbWluaW1hbGl6ZSBtaW5pbWFsaXplLXN0eWwtMiBidG4gYnRuLXByaW1hcnlcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJtaW5pbWFsaXplKClcIj48aSBjbGFzcz1cImZhIGZhLWJhcnNcIj48L2k+PC9hPicsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAkc2NvcGUubWluaW1hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIm1pbmktbmF2YmFyXCIpO1xuICAgICAgICAgICAgICAgIGlmICghJCgnYm9keScpLmhhc0NsYXNzKCdtaW5pLW5hdmJhcicpIHx8ICQoJ2JvZHknKS5oYXNDbGFzcygnYm9keS1zbWFsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgbWVudSBpbiBvcmRlciB0byBzbW9vdGhseSB0dXJuIG9uIHdoZW4gbWF4aW1pemUgbWVudVxuICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igc21vb3RobHkgdHVybiBvbiBtZW51XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnZml4ZWQtc2lkZWJhcicpKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuZmFkZUluKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgaW5saW5lIHN0eWxlIGZyb20ganF1ZXJ5IGZhZGVJbiBmdW5jdGlvbiB0byByZXNldCBtZW51IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1dKVxuXG4uZGlyZWN0aXZlKCdzaWRlTmF2aWdhdGlvbicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24oICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIG1ldHNpTWVudSBwbHVnaW4gYW5kIHBsdWcgaXQgdG8gc2lkZWJhciBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQubWV0aXNNZW51KCk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdpYm94VG9vbHMnLCBbICckdGltZW91dCcsZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tbW9uL2lib3hfdG9vbHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBmb3IgY29sbGFwc2UgaWJveFxuICAgICAgICAgICAgJHNjb3BlLnNob3doaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpYm94ID0gJGVsZW1lbnQuY2xvc2VzdCgnZGl2Lmlib3gnKTtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9ICRlbGVtZW50LmZpbmQoJ2k6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGlib3guZmluZCgnZGl2Lmlib3gtY29udGVudCcpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVUb2dnbGUoMjAwKTtcbiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgaWNvbiBmcm9tIHVwIHRvIGRvd25cbiAgICAgICAgICAgICAgICBpY29uLnRvZ2dsZUNsYXNzKCdmYS1jaGV2cm9uLXVwJykudG9nZ2xlQ2xhc3MoJ2ZhLWNoZXZyb24tZG93bicpO1xuICAgICAgICAgICAgICAgIGlib3gudG9nZ2xlQ2xhc3MoJycpLnRvZ2dsZUNsYXNzKCdib3JkZXItYm90dG9tJyk7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpYm94LnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpYm94LmZpbmQoJ1tpZF49bWFwLV0nKS5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGZvciBjbG9zZSBpYm94XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWJveCA9ICRlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5pYm94Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlib3gucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdiYWNrJywgWyckd2luZG93JyAsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG4gICAgICAgICAgICBpRWxlbWVudC5iaW5kKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH07XG59XSlcbiIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0RpckR1dHlMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJywgXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIEJyYW5jaFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdFxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9IHRvdGFsQ291bnQoJHNjb3BlLmJyYW5jaClcblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIHRvdGFsQ291bnQob2JqKXtcblx0XHRcdHZhciB0b3RhbCA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iai5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChvYmoubWVtYmVyc1tpXS5vbkR1dHkpIHtcblx0XHRcdFx0XHR0b3RhbCArPSAxOyBcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gdG90YWxcblx0XHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Rpc3BhdGNoQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsJ0JyYW5jaFN2YycsICdDYXJTdmMnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUgLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgQ2FzZVN2YywgQnJhbmNoU3ZjLCBDYXJTdmMsIFVzZXJTdmMpIHtcblxuXHRDYXNlU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oY2FzZXMpe1xuXHRcdCRzY29wZS5jYXNlcyA9IGNhc2VzO1xuXHRcdENhc2VTdmMuZmluZEJ5SWQoJHNjb3BlLmNhc2VzWyRzdGF0ZVBhcmFtcy5jYXNlSWRdLl9pZCkuc3VjY2VzcyhmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdCRzY29wZS5jYXNlRGV0YWlscyA9IF9jYXNlXG5cdFx0fSlcblx0fSlcblxuXHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoTGlzdCA9IGJyYW5jaGVzO1xuXG5cdCB9KVxuXG5cdENhclN2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG5cdCAgICAkc2NvcGUuY2Fyc0RhdGEgPSBkYXRhXG5cdH0pXG5cblx0JHNjb3BlLmFkZE5ld0Nhc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvY2FzZVBhbmVsL2Nhc2VBZGRNb2RhbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlQWRkTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmlkID0gXCLmlrDlop7moYjku7ZcIlxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0YnJhbmNoTGlzdCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmJyYW5jaExpc3Rcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhcnNEYXRhIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2Fyc0RhdGFcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGlzTmV3IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiB0cnVlXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4ge31cblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oKXtcblx0IFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Nhc2VQYW5lbC9jYXNlQWRkTW9kYWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZUFkZE1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5pZCA9ICRzY29wZS5jYXNlc1skc3RhdGVQYXJhbXMuY2FzZUlkXS5jYXNlSWQgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRicmFuY2hMaXN0IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuYnJhbmNoTGlzdFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2Fyc0RhdGEgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5jYXJzRGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdCAgICBcdFx0XHRmb3IgKHZhciBqID0gJHNjb3BlLmNhc2VEZXRhaWxzLmNhcnMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcblx0XHQgICAgXHRcdFx0XHRpZiAoICRzY29wZS5jYXJzRGF0YVtpXS5yYWRpb0NvZGUgPT09ICRzY29wZS5jYXNlRGV0YWlscy5jYXJzW2pdLnJhZGlvX2NvZGUpIHtcblx0XHQgICAgXHRcdFx0XHRcdCRzY29wZS5jYXJzRGF0YVtpXS5pc0NoZWNrZWQgPSB0cnVlIFxuXHRcdCAgICBcdFx0XHRcdH07XG5cdFx0ICAgIFx0XHRcdH07XHRcdCAgICBcdFx0XHRcblx0XHQgICAgXHRcdH07XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhcnNEYXRhXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRpc05ldyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gZmFsc2UgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhc2VEZXRhaWxzXG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0IH07XG5cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0R1dHlMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnJHEnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkcSkge1xuXG5cdFx0dmFyIGJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2hcblx0XHRcblx0XHRCcmFuY2hTdmMudG90YWxMaXN0RmluZEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdCRzY29wZS5icmFuY2ggPSBicmFuY2g7XG5cdFx0XHQkc2NvcGUub25EdXR5VG90YWwgPSB0b3RhbENvdW50KCRzY29wZS5icmFuY2gpXG5cdFx0fSk7XG5cblx0XHRmdW5jdGlvbiB0b3RhbENvdW50KG9iail7XG5cdFx0XHR2YXIgdG90YWwgPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAob2JqLm1lbWJlcnNbaV0ub25EdXR5KSB7XG5cdFx0XHRcdFx0dG90YWwgKz0gMTsgXG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIHRvdGFsXG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0R1dHlMaXN0RWRpdEN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnJHN0YXRlUGFyYW1zJywnTWVtYmVyU3ZjJywgJyRsb2NhdGlvbicsICckd2luZG93JywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgTWVtYmVyU3ZjLCAkbG9jYXRpb24sICR3aW5kb3csIFVzZXJTdmMpIHtcblxuXHRcdGlmIChVc2VyU3ZjLmFjY2Vzc0xldmVsKCkgPCAyICkge1xuXHRcdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdH0gZWxzZXtcblx0XHRcdHZhciBicmFuY2ggPSAkc3RhdGVQYXJhbXMuYnJhbmNoXG5cdFx0fTtcblxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9IDA7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLm9uRHV0eSA9ICFtZW1iZXIub25EdXR5XG5cdFx0fTtcblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRcdEJyYW5jaFN2Yy51cGRhdGVEaXJlY3Rvcih7XG5cdFx0XHRcdGJyYW5jaCAgIDogJHNjb3BlLmJyYW5jaC5uYW1lLFxuXHRcdFx0XHRkaXJlY3RvciA6ICRzY29wZS5icmFuY2guZGlyZWN0b3Jcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlT25EdXR5KHtcblx0XHRcdFx0XHRcdG1lbWJlcklkIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLl9pZCxcblx0XHRcdFx0XHRcdG9uRHV0eSAgIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLm9uRHV0eSxcblx0XHRcdFx0XHRcdG1pc3Npb24gIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLm1pc3Npb25cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnR2VvU3ZjJywgWyAnJHEnLCBmdW5jdGlvbiAoICRxICkge1xuXG5cdHRoaXMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgICAgICAgZnVuY3Rpb24ocG9zaXRpb24pIHsgZGVmZXJyZWQucmVzb2x2ZShwb3NpdGlvbi5jb29yZHMpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsgZGVmZXJyZWQucmVzb2x2ZShudWxsKTsgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCdVc2VyU3ZjJywgJ3N0b3JlJywgJyRzdGF0ZScsJ2p3dEhlbHBlcicsJyRodHRwJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIHN0b3JlLCAkc3RhdGUsIGp3dEhlbHBlciwgJGh0dHAsIFNvY2tldFN2Yykge1xuXG5cdHZhciB0b2tlbiA9IG51bGw7XG5cdCRzY29wZS51c2VyID0ge307XG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCl7XG5cdFx0VXNlclN2Yy5sb2dpbigkc2NvcGUudXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcblx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0c3RvcmUuc2V0KCdqd3QnLCBkYXRhLnRva2VuKTtcblx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ3gtYWNjZXNzLXRva2VuJ10gPSBkYXRhLnRva2VuO1xuXHRcdFx0XHR0b2tlbiA9IGRhdGEudG9rZW47XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29yZCBpcyBub3QgZXhpc3RlZCFcIik7XG5cdFx0XHR9O1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdFNvY2tldFN2Yy5pbml0KHRva2VuKTtcblx0XHRcdFNvY2tldFN2Yy5lbWl0KCdsb2dpbicpO1xuXHRcdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdGlmIChqd3RIZWxwZXIuZGVjb2RlVG9rZW4odG9rZW4pLnJvbGUgPT0gXCJhZG1pblwiKSB7XG5cdFx0XHRcdCRzdGF0ZS5nbygnZHV0eURlc2suZGFzaGJvYXJkJylcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc3RhdGUuZ28oJ2RpcmVjdG9yLnNhZmV0eS5pbmRleCcpXG5cdFx0XHR9XG5cdFx0fSlcblx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01hcEluZGV4Q3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ0dlb1N2YycsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgbGVhZmxldERhdGEsIEdlb1N2Yykge1xuICAgICAgICBcbiAgICBHZW9TdmMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcygpLnRoZW4oZnVuY3Rpb24oY29vcmQpe1xuICAgICAgICAkc2NvcGUubm93UG9zLmxhdCA9IGNvb3JkLmxhdGl0dWRlO1xuICAgICAgICAkc2NvcGUubm93UG9zLmxuZyA9IGNvb3JkLmxvbmdpdHVkZTtcbiAgICAgICAgJHNjb3BlLm5vd1Bvcy56b29tID0gMTc7XG4gICAgfSlcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBub3dQb3M6IHtcbiAgICAgICAgICAgIGxhdDogMjQuOTg4LFxuICAgICAgICAgICAgbG5nOiAxMjEuNTc1MixcbiAgICAgICAgICAgIHpvb206IDE3XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBkcmF3OiB7fVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgZHJhd25JdGVtcyA9ICRzY29wZS5jb250cm9scy5lZGl0LmZlYXR1cmVHcm91cDtcbiAgICAgIG1hcC5vbignZHJhdzpjcmVhdGVkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gZS5sYXllcjtcbiAgICAgICAgZHJhd25JdGVtcy5hZGRMYXllcihsYXllcik7XG4gICAgICAgIFxuICAgICAgICBGZWF0dXJlQ29sbGVjdGlvbnMucHVzaChsYXllci50b0dlb0pTT04oKSlcbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9KVxuXG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQWNjb3VudE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnTWVtYmVyU3ZjJywgJ21lbWJlcicsICckbW9kYWxJbnN0YW5jZScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIE1lbWJlclN2YywgbWVtYmVyLCAkbW9kYWxJbnN0YW5jZSkge1xuXG5cdCRzY29wZS51c2VyID0gbWVtYmVyO1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRpZiAoXy5pc0VtcHR5KCRzY29wZS51c2VyKSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJwbGVhc2UgZW50ZXIgeW91ciBhY2NvdW50IGFuZCBwYXNzd29yZCFcIilcblx0XHR9IGVsc2V7XG5cdFx0XHRpZiAoISRzY29wZS51c2VyLmFjY291bnQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJhY2NvdW50IGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHRpZiAoISRzY29wZS51c2VyLnBhc3N3b3JkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29kIGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29yZCBjYW4ndCBiZSBibGFua1wiKVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdFVzZXJTdmMuYWN0aXZhdGUoJHNjb3BlLnVzZXIpO1xuXHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlVXNlcihtZW1iZXIubmFtZSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS51c2VyKTtcblx0XHRcdH07XG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0fVxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQ3RybCcsIFsnJHNjb3BlJywgJ01lbWJlclN2YycsICckc3RhdGVQYXJhbXMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBNZW1iZXJTdmMsICRzdGF0ZVBhcmFtcykge1xuXG5cdFx0JHNjb3BlLmJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2g7XG5cblx0XHRNZW1iZXJTdmMuZmluZEJ5QnJhbmNoKCRzdGF0ZVBhcmFtcy5icmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24obWVtYmVycyl7XG5cdFx0XHQkc2NvcGUubWVtYmVycyA9IG1lbWJlcnM7XG5cdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdG1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlckVkaXRDdHJsJywgWyckc2NvcGUnLCAnTWVtYmVyU3ZjJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnJHdpbmRvdycsJyRtb2RhbCcsICckc3RhdGUnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIE1lbWJlclN2YywgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRtb2RhbCwgJHN0YXRlLCBVc2VyU3ZjKSB7XG5cblx0XHQkc2NvcGUuYWxlcnRzID0gW107XG5cdFx0JHNjb3BlLm1lbWJlckRlbGV0ZWQgPSBmYWxzZTtcblx0XHR2YXIgdGVtcERlbE1lbWJlciA9IG51bGw7XG5cdFx0JHNjb3BlLmFjY2Vzc0xldmVsID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXHRcdFxuXHRcdHZhciBtZW1iZXJJbml0ID0gZnVuY3Rpb24oKXtcblx0XHRcdE1lbWJlclN2Yy5maW5kQnlCcmFuY2goJHN0YXRlUGFyYW1zLmJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihtZW1iZXJzKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBtZW1iZXJzO1xuXHRcdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLndvcmtpbmdUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRtZW1iZXJJbml0KCk7XG5cblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbWVtYmVySWRzID0gW107XG5cdFx0XHR2YXIgZGlyZWN0b3JzID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdG1lbWJlcklkcy5wdXNoKCRzY29wZS5tZW1iZXJzW2ldLl9pZCk7XG5cdFx0XHRcdGRpcmVjdG9ycy5wdXNoKCRzY29wZS5tZW1iZXJzW2ldLm5hbWUpO1xuXHRcdFx0XHRpZiAoJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLliIbpmorplbdcIiB8fCAkc2NvcGUubWVtYmVyc1tpXS50aXRsZSA9PSBcIuWwj+maiumVt1wiIHx8ICRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5Lit6ZqK6ZW3XCIgfHwgJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLlpKfpmorplbdcIikge1xuXHRcdFx0XHRcdGRpcmVjdG9yID0gJHNjb3BlLm1lbWJlcnNbaV0ubmFtZTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHRcdEJyYW5jaFN2Yy51cGRhdGUoe1xuXHRcdFx0XHRicmFuY2ggOiAkc3RhdGVQYXJhbXMuYnJhbmNoLFxuXHRcdFx0XHRtZW1iZXJzIDogbWVtYmVySWRzLFxuXHRcdFx0XHRkaXJlY3RvcnMgOiBkaXJlY3RvcnMsXG5cdFx0XHRcdGRpcmVjdG9yIDogZGlyZWN0b3Jcblx0XHRcdH0pO1xuXG5cdFx0XHQgJHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmFkZE5ld01lbWJlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL21lbWJlci9tZW1iZXIubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlck1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRicmFuY2ggOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4gJHN0YXRlUGFyYW1zLmJyYW5jaCBcblx0XHRcdCAgICBcdH0sXG5cdFx0XHQgICAgXHRtZW1iZXIgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4geyB3b3JraW5nVGltZSA6IG51bGwgfTtcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXG5cdFx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obWVtYmVyKXtcblx0XHQgICAgXHRpZiAobWVtYmVyKSB7XG5cdFx0ICAgIFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0ICAgIFx0fVxuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcInN1Y2Nlc3NcIiAsICBtc2c6ICfkurrlk6HmlrDlop7miJDlip/vvIEgJyArIG1lbWJlci5uYW1lICsgJyDlt7LliqDlhaUgJyArIG1lbWJlci5icmFuY2h9KTtcblx0XHQgICAgfSlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgb2xkTWVtYmVyID0gbWVtYmVyO1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tZW1iZXIvbWVtYmVyLm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzdGF0ZVBhcmFtcy5icmFuY2ggXG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIHtcblx0XHRcdCAgICBcdFx0XHRtZW1iZXJJZCA6IG1lbWJlci5faWQsXG5cdFx0XHQgICAgXHRcdFx0aWQgOiBtZW1iZXIuaWQsXG5cdFx0XHQgICAgXHRcdFx0bmFtZSA6IG1lbWJlci5uYW1lLFxuXHRcdFx0ICAgIFx0XHRcdHRpdGxlIDogbWVtYmVyLnRpdGxlLFxuXHRcdFx0ICAgIFx0XHRcdGJyYW5jaGVzIDogbWVtYmVyLmJyYW5jaGVzLFxuXHRcdFx0ICAgIFx0XHRcdGNvcnBzIDogbWVtYmVyLmNvcnBzLFxuXHRcdFx0ICAgIFx0XHRcdHJhZGlvQ29kZSA6IG1lbWJlci5yYWRpb0NvZGUsIFxuXHRcdFx0ICAgIFx0XHRcdHdvcmtpbmdUaW1lIDogbWVtYmVyLndvcmtpbmdUaW1lLm1pbnV0ZXMoKSAqIDYwICsgbWVtYmVyLndvcmtpbmdUaW1lLnNlY29uZHMoKVxuXHRcdFx0ICAgIFx0XHR9XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblxuXHRcdCAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0ICAgIFx0bWVtYmVySW5pdCgpO1xuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcImluZm9cIiAsICBtc2c6ICBvbGRNZW1iZXIubmFtZSArICfkv67mlLnmiJDlip8hJyB9KTtcblx0XHQgICAgfSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5hY3RpdmF0ZUFjY291bnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh1c2Vycy5sZW5ndGggPCAzICkge1xuXHRcdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWVtYmVyL21lbWJlci5hY2NvdW50Lmh0bWwnLFxuXHRcdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlckFjY291bnRNb2RhbEN0cmwnLFxuXHRcdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdFx0ICAgIFx0XHRyZXR1cm4gbWVtYmVyXG5cdFx0XHRcdCAgICBcdH1cblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0XHRcdG1lbWJlckluaXQoKTtcblx0XHRcdFx0XHQkc2NvcGUuYWxlcnRzLnB1c2goeyB0eXBlIDogXCJpbmZvXCIgLCBtc2cgOiBtZW1iZXIubmFtZSArIFwiIOW3sumWi+mAmueCuuS9v+eUqOiAhVwiIH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgdHlwZSA6IFwid2FybmluZ1wiICwgbXNnIDogXCLnhKHms5XplovpgJpcIiArIG1lbWJlci5uYW1lICsgXCIg5Zug54K65L2/55So6ICF5bey6LaF6YGOM+S9je+8jOiri+ino+mZpOWFtuS7luS6uuW4s+iZn+W+jOWGjemWi+mAmiBcIn0pO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0dmFyIGRlQWN0aXZhdGVBY2NvdW50ID0gZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0VXNlclN2Yy5yZW1vdmVVc2VyKHRlbXBEZWxNZW1iZXIubmFtZSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyKXtcblx0XHRcdFx0TWVtYmVyU3ZjLnJlbW92ZVVzZXIodXNlci51c2VybmFtZSk7XG5cdFx0XHRcdCRzY29wZS5jbG9zZUFsZXJ0KGluZGV4KTtcblx0XHRcdFx0bWVtYmVySW5pdCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIGRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5tZW1iZXJEZWxldGVkID0gdHJ1ZTtcblx0XHRcdE1lbWJlclN2Yy5kZWxldGVNZW1iZXIodGVtcERlbE1lbWJlcikuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUuY2xvc2VBbGVydChpbmRleCk7XG5cdFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0fTtcblxuXHRcdHZhciBjYW5jZWxEZWwgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0JHNjb3BlLmNsb3NlQWxlcnQoaW5kZXgpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuZGVsZXRlQWxlcnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXHRcblx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIgLCAgXG5cdFx0XHRcdG1zZzogJ+aYr+WQpueiuuWumuimgeWIqumZpO+8gScgKyBtZW1iZXIubmFtZSwgXG5cdFx0XHRcdGV4ZWN1dGUgOiBkZWxldGVNZW1iZXIsXG5cdFx0XHRcdGNhbmNlbCA6ICBjYW5jZWxEZWxcblx0XHRcdH0pO1xuXHRcdFx0dGVtcERlbE1lbWJlciA9IG1lbWJlcjtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmRlQWN0aXZhdGVBbGVydCA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAodXNlcnMubGVuZ3RoID09IDEgKSB7XG5cdFx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IFxuXHRcdFx0XHRcdHR5cGUgOiBcIndhcm5pbmdcIiwgIFxuXHRcdFx0XHRcdG1zZzogJ+avj+WIhumaiuiHs+WwkeimgeaciTHlgIvkvb/nlKjogIXvvIznhKHms5Xlj5bmtognICsgbWVtYmVyLm5hbWUgKyBcIueahOeZu+WFpeasiumZkFwiLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZXtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXG5cdFx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIsICBcblx0XHRcdFx0XHRtc2c6ICfmmK/lkKbnorrlrpropoHop6PpmaQnICsgbWVtYmVyLm5hbWUgKyBcIueZu+WFpeasiumZkFwiLFxuXHRcdFx0XHRcdGV4ZWN1dGUgOiBkZUFjdGl2YXRlQWNjb3VudCxcblx0XHRcdFx0XHRjYW5jZWwgOiBjYW5jZWxEZWxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRlbXBEZWxNZW1iZXIgPSBtZW1iZXI7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2xvc2VBbGVydCA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5hbGVydHMuc3BsaWNlKGluZGV4LDEpXG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ2JyYW5jaCcsICdNZW1iZXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlJywgJ21lbWJlcicsJ0JyYW5jaFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgYnJhbmNoLCBNZW1iZXJTdmMsICRtb2RhbEluc3RhbmNlLCAkc3RhdGUsIG1lbWJlciwgQnJhbmNoU3ZjLCBVc2VyU3ZjKSB7XG5cdFxuXHQkc2NvcGUuYWxlcnRzID0gW107XG5cdCRzY29wZS5pc05ldyA9IF8uaXNOdWxsKG1lbWJlci53b3JraW5nVGltZSk7XG5cblx0JHNjb3BlLm1lbWJlciA9IHtcblx0XHRpZCBcdFx0IFx0OiBtZW1iZXIuaWQgfHwgIFwiXCIsIFxuXHRcdG5hbWUgXHQgXHQ6IG1lbWJlci5uYW1lIHx8IG51bGwgLCBcblx0XHR0aXRsZSAgICBcdDogXCLmtojpmLLpmorlk6FcIixcblx0XHR0aXRsZXMgICBcdDogW1wi5raI6Ziy6ZqK5ZOhXCIsXCLlsI/pmorplbdcIixcIuWIhumaiumVt1wiLFwi5Lit6ZqK6ZW3XCIsXCLlpKfpmorplbdcIixcIuWJr+Wkp+maiumVt1wiXSxcblx0XHRicmFuY2ggICBcdDogbWVtYmVyLmJyYW5jaCB8fCBicmFuY2gsXG5cdFx0d29ya2luZ1RpbWUgOiBtZW1iZXIud29ya2luZ1RpbWUgfHwgIDEyMDAsXG5cdFx0cmFkaW9Db2RlIFx0OiBtZW1iZXIucmFkaW9Db2RlIHx8ICBudWxsLCBcblx0XHRtaXNzaW9uICBcdDogXCLnnoTlrZDmiYtcIixcblx0XHRtaXNzaW9ucyBcdDogW1wi556E5a2Q5omLXCIsXCLlia/nnoTlrZDmiYtcIixcIuWPuOapn1wiLFwi5bi26ZqK5a6YXCIsXCLlronlhajnrqHliLblk6FcIixcIuiBr+e1oeWumFwiXSxcblx0XHRjb3Jwc1x0IFx0OiBVc2VyU3ZjLnVzZXJDb3JwcygpLFxuXHRcdGNvcnBzcyBcdCBcdDogW1wi56ys5LiA5pWR54G95pWR6K235aSn6ZqKXCIsXCLnrKzkuInmlZHngb3mlZHorbflpKfpmopcIl0sXG5cdH07XG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdCRzY29wZS5icmFuY2hlcyA9IGJyYW5jaGVzOyBcblx0XHRpZiAoISRzY29wZS5pc05ldykge1xuXHRcdFx0dmFyIGJyYW5jaEFycnkgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSBicmFuY2hlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRicmFuY2hBcnJ5LnB1c2goYnJhbmNoZXNbaV0ubmFtZSk7XG5cdFx0XHR9O1xuXHRcdFx0JHNjb3BlLm1lbWJlci5icmFuY2hlcyA9IGJyYW5jaEFycnk7XG5cdFx0fTsgXG5cdH0pO1xuXG5cdHZhciByYWRpb0NvZGVQcmVmaXggPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHZhciBzdWZmaXggPSAgYnJhbmNoLnNwbGl0KCcnKS5zbGljZSgtMikuam9pbignJyk7XG5cdFx0aWYgKHN1ZmZpeCA9PSBcIuWkp+mailwiIHx8IHN1ZmZpeCA9PSBcIuS4remailwiKSB7XG5cdFx0XHRyZXR1cm4gXCLljJfmtbdcIjtcblx0XHR9IGVsc2V7XG5cdFx0XHRyZXR1cm4gYnJhbmNoLnNwbGl0KCcnKS5zbGljZSgwLDIpLmpvaW4oJycpO1xuXHRcdH07XG5cdH07XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdGlmICgkc2NvcGUubWVtYmVyLm5hbWUpIHtcblx0XHRcdCRzY29wZS5tZW1iZXIucmFkaW9Db2RlUHJlZml4ID0gcmFkaW9Db2RlUHJlZml4KCRzY29wZS5tZW1iZXIuYnJhbmNoKTtcblx0XHRcdE1lbWJlclN2Yy5jcmVhdGUoJHNjb3BlLm1lbWJlcikuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHQkc2NvcGUubWVtYmVyLndvcmtpbmdUaW1lID0gbW9tZW50LmR1cmF0aW9uKHBhcnNlSW50KCRzY29wZS5tZW1iZXIud29ya2luZ1RpbWUpLCdzZWNvbmRzJyk7XG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS5tZW1iZXIpO1xuXHRcdFx0fSlcblx0XHR9IGVsc2V7XG5cblx0XHR9O1xuXHR9O1xuXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXG5cdFx0dmFyIHVwZGF0ZU1lbWJlciA9IHtcblx0XHRcdCAgbWVtYmVySWQgIDogbWVtYmVyLm1lbWJlcklkLFxuXHRcdFx0ICBpZCBcdFx0OiBcIlwiLFxuXHRcdFx0ICBuYW1lIFx0XHQ6ICRzY29wZS5tZW1iZXIubmFtZSxcblx0XHRcdCAgY29ycHMgXHQ6ICRzY29wZS5tZW1iZXIuY29ycHMsXG5cdFx0XHQgIGJyYW5jaCBcdDogJHNjb3BlLm1lbWJlci5icmFuY2gsXG5cdFx0XHQgIHRpdGxlIFx0OiAkc2NvcGUubWVtYmVyLnRpdGxlLFxuXHRcdFx0ICB3b3JraW5nVGltZSA6ICRzY29wZS5tZW1iZXIud29ya2luZ1RpbWUsXG5cdFx0XHQgIHJhZGlvQ29kZSAgOiAkc2NvcGUubWVtYmVyLnJhZGlvQ29kZSxcblx0XHRcdCAgcmFkaW9Db2RlUHJlZml4IDogcmFkaW9Db2RlUHJlZml4KCRzY29wZS5tZW1iZXIuYnJhbmNoKVxuXHRcdH1cblxuXHRcdGlmICgkc2NvcGUubWVtYmVyLm5hbWUpIHtcblx0XHRcdE1lbWJlclN2Yy51cGRhdGVCeU1lbWJlcklkKHVwZGF0ZU1lbWJlcik7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSh1cGRhdGVNZW1iZXIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRcblx0XHR9O1xuXG5cblx0XHRcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdNZW1iZXJTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbWJlcnMnKVxuXHR9XG5cblx0dGhpcy5maW5kQnlCcmFuY2ggPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzLycgKyBicmFuY2ggKVxuXHR9XG5cblx0dGhpcy5mZXRjaE9uRHV0eSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzL29uRHV0eT9icmFuY2g9JyArIGJyYW5jaCk7XG5cdH1cblxuXHR0aGlzLnVwZGF0ZU9uRHV0eSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzL29uRHV0eS9maW5kQnlJZD9tZW1iZXJJZD0nICsgbWVtYmVyLm1lbWJlcklkLCBtZW1iZXIpO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZW1iZXJzLycsIG1lbWJlcilcblx0fVxuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyLmlkKVxuXHR9XG5cblx0dGhpcy51cGRhdGVCeU1lbWJlcklkID0gZnVuY3Rpb24odXBkYXRlTWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvZmluZEJ5SWQvJyArIHVwZGF0ZU1lbWJlci5tZW1iZXJJZCAsIHVwZGF0ZU1lbWJlcilcblx0fVxuXG5cdHRoaXMudXBkYXRlSXNDaGVja2VkID0gZnVuY3Rpb24obWVtYmVyRGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzP2lkPScgKyBtZW1iZXJEYXRhLm1lbWJlcklkLCBtZW1iZXJEYXRhKVxuXHR9XG5cblx0dGhpcy51cGRhdGVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy91c2VyP3VzZXJuYW1lPScrIHVzZXJuYW1lKTtcblx0fVxuXG5cdHRoaXMucmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvdXNlci9yZW1vdmU/dXNlcm5hbWU9JyArIHVzZXJuYW1lKVxuXHR9XG5cblx0dGhpcy5kZWxldGVNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWVtYmVycy8nICsgbWVtYmVyLl9pZClcblx0fVxuXG5cdFxuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCAnQnJhbmNoU3ZjJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQnJhbmNoU3ZjLCBzdG9yZSwgand0SGVscGVyLCBVc2VyU3ZjKSB7XG5cblx0JHNjb3BlLnVzZXJuYW1lID0gVXNlclN2Yy5jdXJyZW50VXNlcigpO1xuXHQkc2NvcGUuYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7XG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdCRzY29wZS5icmFuY2hlcyA9IGJyYW5jaGVzO1xuXHR9KTtcblxuXHQkc2NvcGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuIFVzZXJTdmMuaXNWYWxpZChicmFuY2gpO1xuXHR9O1xuXHRcbn1dKTsiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBcbiAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlclxuICAgICAgICAub3RoZXJ3aXNlKCcvbG9naW4nKTtcblxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgIC5zdGF0ZSgnYW5vbicse1xuICAgICAgICAgICAgdXJsIDogXCJcIixcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhbm9uLmxvZ2luJyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9sb2dpblwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOlwidmlld3MvbG9naW4uaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTG9naW5DdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYW5vbi40MDQnLHtcbiAgICAgICAgICAgIHVybCA6IFwiLzQwNFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzLzQwNC5odG1sXCJcbiAgICAgICAgfSlcblxuICAgIC8vIGR1dHkgZGVzayBcblx0JHN0YXRlUHJvdmlkZXJcblx0XHQuc3RhdGUoJ2R1dHlEZXNrJywge1xuICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlEZXNrXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9jb21tb24vY29udGVudC5odG1sXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJhZG1pblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmRhc2hib2FyZCcsIHtcbiAgICAgICAgICAgIHVybDogXCIvZGFzaGJvYXJkXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kYXNoYm9hcmQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRGFzaGJvYXJkQ3RybFwiLFxuICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1wiYWRtaW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXNlJywge1xuICAgICAgICAgICAgdXJsOiBcIi9jYXNlXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9jYXNlL2Nhc2UuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiQ2FzZUN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5zYWZldHknLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2Nhc2UvOmlkXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc3VtbWFyeS9zdW1tYXJ5LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIlN1bW1hcnlDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kdXR5bGlzdCcse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZHV0eWxpc3Quc2hvdycsIHtcbiAgICAgICAgICAgIHVybDogXCIvZHV0eWxpc3QvOmJyYW5jaFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZHV0eWxpc3QuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZHV0eWxpc3QuZWRpdCcsIHtcbiAgICAgICAgICAgIHVybDogXCIvZHV0eWxpc3QvOmJyYW5jaC9lZGl0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kdXR5bGlzdC5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkR1dHlMaXN0RWRpdEN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5tZW1iZXInLHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLm1lbWJlci5zaG93Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9tZW1iZXIvOmJyYW5jaFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvbWVtYmVyL21lbWJlci5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJNZW1iZXJDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2subWVtYmVyLmVkaXQnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL21lbWJlci86YnJhbmNoL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL21lbWJlci9tZW1iZXIuZWRpdC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJNZW1iZXJFZGl0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhcicsIHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhci5zaG93Jyx7XG4gICAgICAgICAgICB1cmw6IFwiL2Nhci86YnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvY2Fycy9jYXIuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiQ2FySW5kZXhDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXIuZWRpdCcse1xuICAgICAgICAgICAgdXJsOiBcIi9jYXIvOmJyYW5jaC9lZGl0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvY2Fycy9jYXIuZWRpdC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXJFZGl0Q3RybFwiXG4gICAgICAgIH0pXG4gICAgLy8gZGlyZWN0b3IgXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvcicse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9kaXJlY3Rvci9kaXJlY3Rvci5jb250ZW50Lmh0bWxcIixcbiAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRMb2dpbiA6IHRydWUsXG4gICAgICAgICAgICAgICAgcm9sZSA6IFtcInVzZXJcIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5zYWZldHknLHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHVybCA6IFwiL3NhZmV0eVwiLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiIFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5pbmRleCcse1xuICAgICAgICAgICAgdXJsIDogXCIvaW5kZXhcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zYWZldHkvc2FmZXR5LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIlNhZmV0eUluZGV4Q3RybFwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5zYWZldHkubWFuYWdlbWVudCcse1xuICAgICAgICAgICAgdXJsIDogXCIvaW5kZXgvOmlkXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc2FmZXR5L3NhZmV0eS5tYW5hZ2UuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5TWFuYWdlQ3RybFwiICAgICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5zYWZldHkuc3VtbWFyeScse1xuICAgICAgICAgICAgdXJsIDogXCIvc3VtbWFyeS86aWRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zdW1tYXJ5L3N1bW1hcnkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU3VtbWFyeUN0cmxcIlxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3IubWFwJyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9tYXBcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9tYXAvbWFwLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIk1hcEluZGV4Q3RybFwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5kdXR5bGlzdCcse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCIvZHV0eWxpc3RcIixcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIiBcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0LmluZGV4Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZGlyZWN0b3IuZHV0eWxpc3QuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRGlyRHV0eUxpc3RDdHJsXCIsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5kdXR5bGlzdC5lZGl0Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9lZGl0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kaXJlY3Rvci5kdXR5bGlzdC5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkR1dHlMaXN0RWRpdEN0cmxcIixcbiAgICAgICAgfSlcdFxufV0pXG5cbi5ydW4oWyAnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsICdVc2VyU3ZjJywgJ1NvY2tldFN2YycsXG4gICAgZnVuY3Rpb24gKCAkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgc3RvcmUsIGp3dEhlbHBlciwgVXNlclN2YywgU29ja2V0U3ZjKSB7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcblxuICAgICAgICBpZiAodG9TdGF0ZS5uYW1lID09IFwiYW5vbi5sb2dpblwiKSB7XG4gICAgICAgICAgICBzdG9yZS5yZW1vdmUoJ2p3dCcpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmICh0b1N0YXRlLmRhdGEgJiYgdG9TdGF0ZS5kYXRhLnJlcXVpcmVkTG9naW4pIHtcblxuICAgICAgICAgICAgICAgIGlmICghVXNlclN2Yy5pc0xvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhbm9uLmxvZ2luJyk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b1N0YXRlLmRhdGEucm9sZS5pbmRleE9mKGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5yb2xlKSA9PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwiYW5vbi5sb2dpblwiKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9OyBcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eUluZGV4Q3RybCcsIFsnJHNjb3BlJywgJ0Nhc2VTdmMnLCAnVXNlclN2YycsICdTb2NrZXRTdmMnLCAnJHJvb3RTY29wZScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIENhc2VTdmMsIFVzZXJTdmMsIFNvY2tldFN2YywgJHJvb3RTY29wZSkge1xuXG5cdFx0U29ja2V0U3ZjLm9uKCduZXdDYXNlJyxmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHQkc2NvcGUuY2FzZXMucHVzaChfY2FzZSk7XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ2Nhc2VDbG9zZScsZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRpZiAoIWRhdGEuaXNPbmdvaW5nKSB7XG5cdFx0XHRcdCRzY29wZS5jYXNlcyA9ICRzY29wZS5jYXNlcy5maWx0ZXIoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0XHRcdHJldHVybiBfY2FzZS5faWQgIT0gZGF0YS5jYXNlSWRcblx0XHRcdFx0fSlcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHR2YXIgdXNlckNvbmRpdGlvbiA9IHtcblx0XHRcdGJyYW5jaCA6IFVzZXJTdmMudXNlckJyYW5jaCgpLFxuXHRcdFx0YWNjZXNzTGV2ZWwgOiBVc2VyU3ZjLmFjY2Vzc0xldmVsKCksXG5cdFx0XHRjb3JwcyA6IFVzZXJTdmMudXNlckNvcnBzKClcblx0XHR9XG5cblx0XHRDYXNlU3ZjLmZldGNoUmVsYXRpdmVDYXNlKHVzZXJDb25kaXRpb24pLnN1Y2Nlc3MoZnVuY3Rpb24oY2FzZXMpe1xuXHRcdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pXG5cblx0ICAgICRzY29wZS5hY2Nlc3NMZXZlbCA9IFVzZXJTdmMuYWNjZXNzTGV2ZWwoKTtcblxuXHRcdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TWFuYWdlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywgJyRtb2RhbCcsICdTdFN2YycsICckc3RhdGUnLCAnTWVtYmVyU3ZjJywnJGxvZycsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsICdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgU3RTdmMsICRzdGF0ZSwgTWVtYmVyU3ZjLCAkbG9nLCBVc2VyU3ZjLCBCcmFuY2hTdmMsIFNvY2tldFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kZXRhaWxzID0gZGV0YWlscztcblx0XHR9KTtcblxuXHRcdFN0U3ZjLmZldGNoKCRzdGF0ZVBhcmFtcy5pZCxicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RzKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cztcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoYW5ndWxhci5lcXVhbHMoYnJhbmNoLHN0LmJyYW5jaCkgJiYgYW5ndWxhci5lcXVhbHMoJHN0YXRlUGFyYW1zLmlkLHN0LmNhc2VJZCkgKSB7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKHN0KTtcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ3VwZGF0ZVN0JywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgbWVtYmVycyA9IGFuZ3VsYXIuY29weShkYXRhLm1lbWJlcnMpO1xuXHRcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZihhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLGRhdGEuaWQpKXtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5hcmVhID0gZGF0YS5hcmVhO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5tZW1iZXJzLnB1c2guYXBwbHkoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMsIG1lbWJlcnMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCdkaXNtaXNzJywgZnVuY3Rpb24oc3Qpe1xuXHRcdFx0dmFyIF9zdElkID0gc3Quc3RJZDtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9ICRzY29wZS5zdHJpa2VUZWFtcy5maWx0ZXIoZnVuY3Rpb24oc3QpIHtcdFx0XHRcdFxuXHRcdFx0XHRyZXR1cm4gc3QuX2lkICE9IF9zdElkO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgIFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zYWZldHkvc2FmZXR5Lm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdTYWZldHlNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0c3RJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdGlmICggXy5pc0VtcHR5KCRzY29wZS5zdHJpa2VUZWFtcykpIHtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gMFxuXHRcdFx0ICAgIFx0XHR9IGVsc2V7XG5cdFx0XHQgICAgXHRcdFx0cmV0dXJuICRzY29wZS5zdHJpa2VUZWFtc1skc2NvcGUuc3RyaWtlVGVhbXMubGVuZ3RoLTFdLmlkO1xuXHRcdFx0ICAgIFx0XHR9O1xuXHRcdFx0ICAgIFx0fVxuXHRcdFx0ICAgIH1cblx0XHQgICAgfSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5vcGVuU2V0dGluZ01vZGFsID0gZnVuY3Rpb24oc3RyaWtlVGVhbSwgaWQpe1xuXHQgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHQgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhZmV0eS9zYWZldHkuc2V0dGluZy5tb2RhbC5odG1sJyxcblx0ICAgICAgICAgICAgY29udHJvbGxlcjogJ1NhZmV0eVNldHRpbmdDdHJsJyxcblx0ICAgICAgICAgICAgc2l6ZTogXCJsZ1wiLFxuXHQgICAgICAgICAgICByZXNvbHZlOiB7XG5cdCAgICAgICAgICAgICAgICBzdHJpa2VUZWFtIDogZnVuY3Rpb24oKXtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWtlVGVhbTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHVwZGF0ZWRTdCkge1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGlmKGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsdXBkYXRlZFN0LmlkKSl7XG5cdFx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24gPSB1cGRhdGVkU3QucG9zaXRpb247XG5cdFx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0uYXJlYSA9IHVwZGF0ZWRTdC5hcmVhO1xuXHRcdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMucHVzaC5hcHBseSgkc2NvcGUuc3RyaWtlVGVhbXNbaV0ubWVtYmVycywgdXBkYXRlZFN0Lm1lbWJlcnMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXHRcdCRzY29wZS5kaXNtaXNzID0gZnVuY3Rpb24oc3RyaWtlVGVhbSAsIGlkKXtcblx0XHRcdFxuXHQgICAgICAgXHRTdFN2Yy5kaXNtaXNzU3Qoe1xuXHQgICAgICAgXHRcdGlkIDogc3RyaWtlVGVhbS5faWRcblx0ICAgICAgIFx0fSkuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHQgICAgICAgXHRcdGZvciAodmFyIGkgPSBzdHJpa2VUZWFtLm1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBNZW1iZXJTdmMudXBkYXRlSXNDaGVja2VkKHtcblx0XHQgICAgICAgICAgICAgICAgbWVtYmVySWQgIDogc3RyaWtlVGVhbS5tZW1iZXJzW2ldLl9pZCxcblx0XHQgICAgICAgICAgICAgICAgbWlzc2lvblx0ICA6IHN0cmlrZVRlYW0ubWVtYmVyc1tpXS5taXNzaW9uLFxuXHRcdCAgICAgICAgICAgICAgICBpc0NoZWNrZWQgOiBmYWxzZVxuXHRcdCAgICAgICAgICAgIH0pXG5cdFx0ICAgICAgICB9O1x0XG5cdCAgICAgICBcdH0pXG5cblx0ICAgICAgIFx0JHNjb3BlLnN0cmlrZVRlYW1zLnNwbGljZShpZCwxKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICBTb2NrZXRTdmMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdCAgICB9KVxufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eU1vZGFsQ3RybCcsIFsnJHNjb3BlJywnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlUGFyYW1zJywnU3RTdmMnLCAnTWVtYmVyU3ZjJywgJyRzdGF0ZScsICckd2luZG93JywgJ3N0SWQnLCAnVXNlclN2YycsICdCcmFuY2hTdmMnLCdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSwgJHN0YXRlUGFyYW1zLCBTdFN2YywgTWVtYmVyU3ZjLCAkc3RhdGUsICR3aW5kb3csIHN0SWQsIFVzZXJTdmMsICBCcmFuY2hTdmMsIFNvY2tldFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpOyBcblx0XHQkc2NvcGUudGl0bGUgPSBicmFuY2ggKyAgKHN0SWQgKyAxICk7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2hCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRldGFpbHMgPSBkZXRhaWxzO1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdGlmICggJHNjb3BlLmRldGFpbHMpIHtcblx0XHRcdFx0JHNjb3BlLmRldGFpbHMubWVtYmVycyA9ICRzY29wZS5kZXRhaWxzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0cmV0dXJuIG1lbWJlci5pc0NoZWNrZWQgIT0gdHJ1ZTsgIFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRldGFpbHMubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsICdzZWNvbmRzJyk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSB7XG5cdFx0XHRwb3NpdGlvbiAgOiBcIuesrOS4gOmdolwiLFxuXHRcdFx0cG9zaXRpb25zIDogW1wi56ys5LiA6Z2iXCIsXCLnrKzkuozpnaJcIixcIuesrOS4iemdolwiLFwi56ys5Zub6Z2iXCJdLFxuXHRcdFx0bWlzc2lvbiAgIDogXCLmkLbmlZHlsI/ntYRcIixcblx0XHRcdG1pc3Npb25zICA6IFtcIuaQtuaVkeWwj+e1hFwiLFwi5pWR5o+05bCP57WEXCIsXCLmkJzmlZHlsI/ntYRcIl0sXG5cdFx0XHRhcmVhIFx0ICA6IFwi56ys5LiA5Y2AXCIsXG5cdFx0XHRhcmVhcyBcdCAgOiBbXCLnrKzkuIDljYBcIixcIuesrOS6jOWNgFwiLFwi56ys5LiJ5Y2AXCIsXCLnrKzlm5vljYBcIixcIuesrOS6lOWNgFwiXVxuXHRcdH07XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdH07XG5cblx0ICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0ICAgIFx0dmFyIG1lbWJlcnMgPSAkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHQgICAgXHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzQ2hlY2tlZCA9PT0gdHJ1ZSBcblx0ICAgIFx0XHRcdFx0fSk7XG5cblx0ICAgIFx0aWYgKG1lbWJlcnMubGVuZ3RoID4gLTEpIHtcblxuXHRcdCAgICBcdHZhciBzdHJpa2VUZWFtID0ge1xuXHRcdCAgICAgIFx0XHRpZCBcdFx0ICAgIDogc3RJZCArIDEgfHwgMCAsIFxuXHRcdCAgICAgIFx0XHRjYXNlSWQgICAgICA6ICRzdGF0ZVBhcmFtcy5pZCxcblx0XHQgICAgICBcdFx0YnJhbmNoICAgICAgOiAkc2NvcGUuZGV0YWlscy5uYW1lLFxuXHRcdCAgICAgIFx0XHRkaXJlY3RvciAgICA6ICRzY29wZS5kZXRhaWxzLmRpcmVjdG9yLFxuXHRcdCAgICAgIFx0XHRwb3NpdGlvbiAgICA6ICRzY29wZS5zdHJpa2VUZWFtLnBvc2l0aW9uLFxuXHRcdCAgICAgIFx0XHRwb3NpdGlvbnMgICA6ICRzY29wZS5zdHJpa2VUZWFtLnBvc2l0aW9ucyxcblx0XHQgICAgICBcdFx0bWlzc2lvbiAgICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5taXNzaW9uLFxuXHRcdCAgICAgIFx0XHRtaXNzaW9ucyAgICA6ICRzY29wZS5zdHJpa2VUZWFtLm1pc3Npb25zLCBcblx0XHQgICAgICBcdFx0YXJlYSBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhLFxuXHRcdCAgICAgIFx0XHRhcmVhcyBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhcywgXG5cdFx0ICAgICAgXHRcdG1lbWJlcnMgICAgIDogbWVtYmVycyxcblx0XHQgICAgICBcdFx0aXNEaXNtaXNzZWQgOiBmYWxzZSxcblx0XHQgICAgICBcdFx0d29ya2luZ1RpbWUgOiBfLm1pbihtZW1iZXJzLCBmdW5jdGlvbihtZW1iZXIpeyByZXR1cm4gbWVtYmVyLndvcmtpbmdUaW1lOyB9KS53b3JraW5nVGltZSxcblx0XHQgICAgICBcdFx0Y3JlYXRvciBcdDogVXNlclN2Yy5jdXJyZW50VXNlcigpIFx0XG5cdFx0ICAgICAgXHR9O1xuXG5cdCAgICAgIFx0XHRmb3IgKHZhciBpID0gbWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgXHRcdFx0TWVtYmVyU3ZjLnVwZGF0ZUlzQ2hlY2tlZCh7XG5cdCAgICBcdFx0XHRcdG1lbWJlcklkICA6IG1lbWJlcnNbaV0uX2lkLFxuXHQgICAgXHRcdFx0XHRpc0NoZWNrZWQgOiBtZW1iZXJzW2ldLmlzQ2hlY2tlZCxcblx0ICAgIFx0XHRcdFx0bWlzc2lvblx0ICA6IG1lbWJlcnNbaV0ubWlzc2lvblxuXHQgICAgXHRcdFx0fSlcdFx0XG5cdFx0ICAgIFx0fTtcblxuXHRcdCAgICAgIFx0Ly8gU3RTdmMuY3JlYXRlKHN0cmlrZVRlYW0pXG5cdFx0ICAgICAgXHRTb2NrZXRTdmMuZW1pdChcImNyZWF0ZVN0cmlrZVRlYW1cIiwgc3RyaWtlVGVhbSlcblx0XHQgICAgICBcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG5cdCAgICBcdH1lbHNle1xuXHQgICAgXHRcdCR3aW5kb3cuYWxlcnQoXCJ5b3UgbXVzdCBvcmdhbml6ZSBzdHJpa2UgdGVhbVwiKVxuXHQgICAgXHR9O1xuXHRcdH07XG5cdFxufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eVNldHRpbmdDdHJsJywgWyckc2NvcGUnLCAnc3RyaWtlVGVhbScsICckbW9kYWxJbnN0YW5jZScsICdTdFN2YycsICckc3RhdGUnLCAnTWVtYmVyU3ZjJywgJ0Nhc2VTdmMnLCAnJHN0YXRlUGFyYW1zJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIHN0cmlrZVRlYW0sICRtb2RhbEluc3RhbmNlLCBTdFN2YywgJHN0YXRlLCBNZW1iZXJTdmMsIENhc2VTdmMsICRzdGF0ZVBhcmFtcywgU29ja2V0U3ZjKSB7XG5cdFx0XG5cdFx0dmFyIG1lbWJlcnMgPSBbXTtcblx0XHR2YXIgbWVtYmVyT2JqcyA9W107XG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSBzdHJpa2VUZWFtO1xuXG5cdFx0Q2FzZVN2Yy5mZXRjaERldGFpbHMoJHN0YXRlUGFyYW1zLmlkKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRpc3BhdGNoID0gZGV0YWlscy5icmFuY2hJZHM7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuY2hvb3NlQnJhbmNoID0gZnVuY3Rpb24oaWQpe1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSAkc2NvcGUuZGlzcGF0Y2hbaWRdLm1lbWJlcnNcblx0XHRcdGZvciAodmFyIGkgPSAkc2NvcGUubWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiggJHNjb3BlLm1lbWJlcnNbaV0uaXNDaGVja2VkICl7XG5cdFx0XHRcdFx0JHNjb3BlLm1lbWJlcnMuc3BsaWNlKGksMSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdFx0bWVtYmVycy5wdXNoKG1lbWJlci5faWQpO1xuXHRcdFx0bWVtYmVyT2Jqcy5wdXNoKG1lbWJlcik7XG5cdFx0fTtcblxuXHRcdCRzY29wZS51bmNoZWNrID0gZnVuY3Rpb24obWVtYmVyLCBpZCl7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0XHRtZW1iZXJzLnNwbGljZShpZCwxKTtcblx0XHRcdG1lbWJlck9ianMuc3BsaWNlKGlkLDEpO1xuXHRcdH1cblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblxuXHRcdFx0U3RTdmMudXBkYXRlU3Qoe1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLFxuXHRcdFx0XHRwb3NpdGlvbiA6IHN0cmlrZVRlYW0ucG9zaXRpb24sXG5cdFx0XHRcdGFyZWEgOiBzdHJpa2VUZWFtLmFyZWEsXG5cdFx0XHRcdG1pc3Npb24gOiBzdHJpa2VUZWFtLm1pc3Npb24sXG5cdFx0XHRcdG1lbWJlcklkcyA6IG1lbWJlcnNcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IG1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBNZW1iZXJTdmMudXBkYXRlSXNDaGVja2VkKHtcblx0XHQgICAgICAgICAgICAgICAgbWVtYmVySWQgIDogbWVtYmVyc1tpXS5faWQsXG5cdFx0ICAgICAgICAgICAgICAgIG1pc3Npb25cdCAgOiBtZW1iZXJzW2ldLm1pc3Npb24sIFxuXHRcdCAgICAgICAgICAgICAgICBpc0NoZWNrZWQgOiB0cnVlLFxuXHRcdCAgICAgICAgICAgIH0pXG5cdFx0ICAgICAgICB9O1xuXHRcdFx0fSlcblxuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2Uoe1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLFxuXHRcdFx0XHRwb3NpdGlvbiA6IHN0cmlrZVRlYW0ucG9zaXRpb24sXG5cdFx0XHRcdGFyZWEgOiBzdHJpa2VUZWFtLmFyZWEsXG5cdFx0XHRcdG1lbWJlcnMgOiBtZW1iZXJPYmpzLFxuXHRcdFx0XHRjYXNlSWQgIDogc3RyaWtlVGVhbS5jYXNlSWQgXG5cdFx0XHR9KTtcblxuXHRcdFx0XG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1NvY2tldFN2YycsWyAnJHJvb3RTY29wZScsICdzdG9yZScsICckcScsICckdGltZW91dCcsXG4gIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBzdG9yZSwgJHEsICR0aW1lb3V0KSB7XG5cbiAgdGhpcy5pbml0ID0gIGZ1bmN0aW9uKHRva2VuKXtcbiAgICB2YXIgYXV0aFRva2VuID0gbnVsbFxuICAgIGlmICh0b2tlbikge1xuICAgICAgYXV0aFRva2VuID0gdG9rZW4gXG4gICAgfSBlbHNlIHtcbiAgICAgIGF1dGhUb2tlbiA9IHN0b3JlLmdldCgnand0JylcbiAgICB9O1xuICAgIHJldHVybiBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAnLHsgcXVlcnkgOiAndG9rZW49JyArIGF1dGhUb2tlbiAsICdmb3JjZU5ldyc6dHJ1ZSB9KTtcbiAgfVxuXG4gIHZhciBzb2NrZXQgPSB0aGlzLmluaXQoKTtcblxuICB0aGlzLm9uID0gIGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7ICBcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmVtaXQgPSAgZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXQoKS5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7IFxuICB9XG4gIFxufV0pIiwiLyoqXG4qIEluTmV3IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnU3RTdmMnLCBbICckaHR0cCcsIGZ1bmN0aW9uICgkaHR0cCkge1xuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY2FzZUlkLCBicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXM/Y2FzZUlkPScgKyBjYXNlSWQgKyAnJmJyYW5jaD0nICsgYnJhbmNoKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQnlDYXNlID0gZnVuY3Rpb24oY2FzZUlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zL3RvdGFsP2Nhc2VJZD0nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmRpc21pc3NTdCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvZGlzbWlzcz9pZD0nICsgZGF0YS5pZCk7XG5cdH07XG5cblx0dGhpcy51cGRhdGVTdCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvdXBkYXRlP2lkPScgKyBkYXRhLmlkLCBkYXRhKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVRpbWVSZWNvcmQgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3N0cmlrZVRlYW1zL3RpbWU/aWQ9JyArIGRhdGEuaWQsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oc3RyaWtlVGVhbSl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc3RyaWtlVGVhbXMnLCBzdHJpa2VUZWFtKTtcblx0fTtcblxuXHR0aGlzLmNvdW50ID0gZnVuY3Rpb24oY2FzZUlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zL2NvdW50P2Nhc2VJZD0nICsgY2FzZUlkKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTdW1tYXJ5Q3RybCcsIFsnJHNjb3BlJywgJ1N0U3ZjJywgJyRzdGF0ZVBhcmFtcycsICckaW50ZXJ2YWwnLCAnJHN0YXRlJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFN0U3ZjLCAkc3RhdGVQYXJhbXMsICRpbnRlcnZhbCwgJHN0YXRlLCBTb2NrZXRTdmMpIHtcblxuXHRcdFNvY2tldFN2Yy5vbigndGltZXJSdW5uaW5nJyxmdW5jdGlvbihzdCl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBzdC5zdElkKSl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnRpbWVyUnVubmluZyA9IHN0LnRpbWVyUnVubmluZztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCdwcm9ncmVzc1VwZGF0ZScsZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBkYXRhLmlkKSApe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS50aW1lclx0PSBtb21lbnQuZHVyYXRpb24oZGF0YS5taWxsaXMpOyBcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3MgID0gZGF0YS5wcm9ncmVzcztcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3NTdGF0ZSA9ICBkYXRhLnByb2dyZXNzU3RhdGU7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoIGFuZ3VsYXIuZXF1YWxzKGNhc2VJZCxzdC5jYXNlSWQpKSB7XG5cdFx0XHRcdHZhciBuZXdTdCA9IGFuZ3VsYXIuY29weShzdCk7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKG5ld1N0KTtcblx0XHRcdH07XG5cdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1cGRhdGVTdCcsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtcblx0XHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblxuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdFN0U3ZjLmZldGNoQnlDYXNlKGNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdHZhciBjYXNlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7IFxuXG5cdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHR9KTtcblxuXHRcdCRzY29wZS5wb3NpdGlvbiA9IHtcblx0XHRcdGRlZmF1bHRQb3MgOiBcIuesrOS4gOmdolwiLFxuXHRcdFx0cG9zaXRpb25zIDogW1wi56ys5LiA6Z2iXCIsXCLnrKzkuozpnaJcIixcIuesrOS4iemdolwiLFwi56ys5Zub6Z2iXCJdXG5cdFx0fTtcblxuXHRcdHZhciBpbml0VGFibGUgPSAgZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdCAgXHR2YXIgZGVwbG95QXJyYXkgPSBfLnJhbmdlKDQpLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXy5yYW5nZSg1KS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICAgIHJldHVybiB7IHRvdGFsTWVtYmVyIDogMCwgc3RUb3RhbCA6IDB9IDtcblx0XHQgICAgICAgIH0pO1xuXHRcdCAgICB9KTtcblxuXHRcdFx0aWYgKCBzdHJpa2VUZWFtcyApe1xuXHRcdFx0XHRmb3IgKHZhciBpID0gc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHR2YXIgdG90YWxNZW1iZXIgPSAwO1xuXHRcdFx0XHRcdHZhciBzdCA9IDA7ICBcblx0XHRcdFx0XHR2YXIgeCA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5wb3NpdGlvbnMsIHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9uKTtcblx0XHRcdFx0XHR2YXIgeSA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5hcmVhcywgc3RyaWtlVGVhbXNbaV0uYXJlYSk7XG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0uc3RUb3RhbCArPSAxO1xuXHRcdFx0XHRcdGRlcGxveUFycmF5W3hdW3ldLnRvdGFsTWVtYmVyICs9IHN0cmlrZVRlYW1zW2ldLm1lbWJlcnMubGVuZ3RoOyAgXG5cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBkZXBsb3lBcnJheVxuXHRcdH07XG5cdFx0XG5cdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICBTb2NrZXRTdmMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdCAgICB9KTtcbn1dKTsiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdUaW1lckN0cmwnLCBbJyRzY29wZScsICdTb2NrZXRTdmMnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgU29ja2V0U3ZjKXtcblxuXHQkc2NvcGUudGltZXJSdW5uaW5nID0gdHJ1ZTtcblxuICAgICRzY29wZS5zdGFydFRpbWVyID0gZnVuY3Rpb24oc3QsIGlkKXtcbiAgICBcdCRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdGFydCcpO1xuICAgIFx0JHNjb3BlLnRpbWVyUnVubmluZyA9IHRydWU7XG4gICAgICAgIFNvY2tldFN2Yy5lbWl0KCd0aW1lcicsIHsgc3RJZCA6IHN0Ll9pZCwgdGltZXJSdW5uaW5nIDogdHJ1ZSB9IClcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0b3BUaW1lciA9IGZ1bmN0aW9uKHN0LGlkKXtcbiAgICBcdCRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdG9wJyk7XG4gICAgXHQkc2NvcGUudGltZXJSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIFNvY2tldFN2Yy5lbWl0KCd0aW1lcicsIHsgc3RJZCA6IHN0Ll9pZCwgdGltZXJSdW5uaW5nIDogZmFsc2UgfSApXG4gICAgfTtcblxuICAgICRzY29wZS5yZXN1bWVUaW1lciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1yZXN1bWUnKTtcbiAgICAgICAgJHNjb3BlLnRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH07XG5cdFxufV0pOyIsIi8qKlxuKiAgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdUb3BOYXZDdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywnJHN0YXRlJywgJyRpbnRlcnZhbCcsICdzdG9yZScsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsJyR3aW5kb3cnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sJHN0YXRlLCAkaW50ZXJ2YWwsIHN0b3JlLCBTb2NrZXRTdmMsIFVzZXJTdmMsICR3aW5kb3cpIHtcblxuXHQkc2NvcGUuY3VycmVudFRpbWUgPSAgbW9tZW50KCkuZm9ybWF0KCdNTU0gRG8sIGg6bW06c3MgYScpO1xuXHQkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcblx0XHRtb21lbnQubG9jYWxlKCd6aC10dycpO1xuXHRcdCRzY29wZS5jdXJyZW50VGltZSA9ICBtb21lbnQoKS5mb3JtYXQoJ01NTSBEbywgaDptbTpzcyBhJyk7XG5cdH0sIDEwMDApO1xuXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBhY2NvdW50ID0gVXNlclN2Yy5jdXJyZW50QWNjb3VudCgpO1xuXHRcdFNvY2tldFN2Yy5lbWl0KCdsb2dvdXQnKTtcblx0XHQkc3RhdGUuZ28oJ2Fub24ubG9naW4nKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgWyAnJGh0dHAnLCAnc3RvcmUnLCAnand0SGVscGVyJywgZnVuY3Rpb24gKCRodHRwLCBzdG9yZSwgand0SGVscGVyKSB7XG5cblx0dGhpcy5mZXRjaE9ubGluZVVzZXIgPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvdXNlclN0YXRlJyk7XG5cdH07XG5cblx0dGhpcy5hY3RpdmF0ZSA9IGZ1bmN0aW9uKHVzZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgdXNlcik7XG5cdH07XG5cblx0dGhpcy5yZW1vdmVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvdXNlcnMvZGVsZXRlP3VzZXJuYW1lPScgKyB1c2VybmFtZSk7XG5cdH07XG5cblx0dGhpcy5sb2dpbiA9IGZ1bmN0aW9uKHVzZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL2F1dGhlbnRpY2F0ZScsIHVzZXIpO1xuXHR9O1xuXG5cdHRoaXMuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuIHN0b3JlLmdldCgnand0Jyk7XG5cdH07XG5cblx0dGhpcy5pc1ZhbGlkID0gZnVuY3Rpb24oIGJyYW5jaCApe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdGlmIChqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYWNjZXNzTGV2ZWwgPiAxICAgfHwgand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmJyYW5jaCA9PSBicmFuY2gpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7IFxuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZmFsc2UgXG5cdH07XG5cblx0dGhpcy51c2VyQnJhbmNoID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmJyYW5jaDtcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMudXNlckNvcnBzID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmNvcnBzO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy5jdXJyZW50VXNlciA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS51c2VybmFtZTtcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMuY3VycmVudEFjY291bnQgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYWNjb3VudDtcblx0XHR9OyBcblx0fTtcblxuXHR0aGlzLmFjY2Vzc0xldmVsID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmFjY2Vzc0xldmVsO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy5jYXNlSWQgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuY2FzZUlkO1xuXHRcdH07XG5cdH07XG5cbn1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=