angular.module("InNet",["ui.router","ui.bootstrap","timer","angular-storage","angular-jwt","leaflet-directive","angular.filter"]),angular.module("InNet").service("BranchSvc",["$http",function(e){this.fetchByCorps=function(t){return e.get("/api/branches?corps="+t)},this.fetchByName=function(t){return e.get("/api/branches?branch="+t)},this.totalListFindByName=function(t){return e.get("/api/branches/"+t)},this.getDetails=function(t){return e.get("/api/branches/"+t)},this.fetchOnDutyBranches=function(t){return e.post("/api/branches/onduty",t)},this.update=function(t){return e.put("/api/branches/"+t.branch,t)},this.updateMission=function(t){return e.put("/api/branches?branch="+t.branch,t)}}]),angular.module("InNet").controller("CarEditCtrl",["$scope",function(e){}]),angular.module("InNet").controller("CarIndexCtrl",["$scope",function(e){}]),angular.module("InNet").service("CarSvc",["$http",function(e){this.fetchByCorps=function(t){return e.get("/api/cars?corps="+t)},this.fetchByBranch=function(t){return e.get("/api/cars?branch="+t)},this.update=function(t){return e.put("/api/cars/"+t.id,t)}}]),angular.module("InNet").controller("CaseConfirmCtrl",["$scope","UserSvc","CaseSvc","$stateParams","$state","$modalInstance",function(e,t,n,s,r,a){e.user={},e.caseInfo={id:s.id,endAt:moment().format("YYYY-MMM-DD, h:mm:ss a")},e.send=function(){t.login(e.user).success(function(t){n.closeCase(e.caseInfo).success(function(){a.dismiss("cancel"),r.go("dutyDesk.case.index")})})}}]),angular.module("InNet").controller("CaseCtrl",["$scope","$stateParams","$modal","CaseSvc","$log","SocketSvc","UserSvc","$location",function(e,t,n,s,r,a,o,c){e.maxSize=5,e.itemsPerPage=10,e.currentPage=1,e.pageChanged=function(){s.fetch(o.userCorps(),e.currentPage,e.itemsPerPage).success(function(t){e.cases=t.cases})},e.queryCases=function(){s.fetch(o.userCorps(),e.currentPage,e.itemsPerPage).success(function(t){e.cases=t.cases,e.totalItems=t.totalCases})},e.queryCases(),a.on("newCase",function(t){e.cases.unshift(t)}),a.on("caseModified",function(t){e.cases[t.caseId-1]=t}),e.choose=function(t){s.fetchById(e.cases[t]._id).success(function(t){e.caseDetails=t})}}]),angular.module("InNet").controller("CaseEditCtrl",["$scope","$stateParams","CaseSvc","CarSvc","UserSvc","BranchSvc","$window","$modal","NtfSvc",function(e,t,n,s,r,a,o,c,i){function u(t){for(var n=_.unique(t),s=[],r=0;r<e.branches.length;r++)n.indexOf(e.branches[r].name)>-1&&s.push(e.branches[r]._id);return s}var l=[];angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}});var m=t.id;a.fetchByCorps(r.userCorps()).success(function(t){e.branches=t,e.currentBranch=t[0].name}),e.selectBranch=function(t){e.currentBranch=t.name},a.fetchByCorps(r.userCorps()).success(function(t){e.branches=t,e.currentBranch=t[0].name}),n.fetchById(m).success(function(t){e.currentCase=t,e.dispatchList=_.pluck(t.cars,"radioCode").join(" "),e.currentCase.carIds=_.pluck(t.cars,"_id")}).then(function(){s.fetchByCorps(r.userCorps()).success(function(t){e.cars=t;for(var n=0;n<e.cars.length;n++)e.currentCase.carIds.indexOf(e.cars[n]._id)>-1&&(e.cars[n].isChecked=!0,l.push(e.cars[n]))}),i.fetch().success(function(t){e.ntfs=t,e.currentCase.ntfs=_.pluck(t,"type"),e.currentCase.ntf=e.currentCase.ntfs[0]})}),e.dispatch=function(t){t.isChecked=!0,l.push(t),e.dispatchList=_.pluck(l,"radioCode").join(" ")},e.cancelDispatch=function(t){t.isChecked=!1,l.splice(_.pluck(l,"_id").indexOf(t._id),1),e.dispatchList=_.pluck(l,"radioCode").join(" ")},e.save=function(){var t;e.ntfs.forEach(function(n,s){n.type==e.currentCase.ntf&&(t=e.ntfs[s])}),n.update({caseId:e.currentCase._id,address:e.currentCase.address||"測試",officerReceiver:r.currentUser()||"劉曉曼",type:e.currentCase.type||"火警",types:e.currentCase.types,phone:e.currentCase.phone||"測試",branches:_.unique(_.pluck(l,"branch")),branchIds:u(e.currentCase.branches),cars:_.pluck(l,"_id"),isOngoing:!0,corps:r.userCorps(),env:e.currentCase.env,envs:e.currentCase.envs,floor:e.currentCase.floor,ntf:t._id,lastUpdate:moment().format("YYYY-MMM-DD h:mm:ss a")}).success(function(){o.history.back()})},e.terminateCase=function(){c.open({templateUrl:"views/case/case.confirm.modal.html",controller:"CaseConfirmCtrl",size:"md"})}}]),angular.module("InNet").controller("CaseModalCtrl",["$scope","CarSvc","$modalInstance","CaseSvc","$state","caseId","caseDetails","StSvc","$window","BranchSvc","UserSvc","NtfSvc",function(e,t,n,s,r,a,o,c,i,u,l,m){function d(e){var t=[],n=[],s=[];if(e.cars){for(var r=e.cars.length-1;r>=0;r--)t.push(e.cars[r].radioCode),n.push(e.cars[r]._id),s.push(e.cars[r].branch);return{dispatchList:t,carIds:n,branches:s}}return{}}function f(t){for(var n=_.unique(t),s=[],r=0;r<e.branches.length;r++)n.indexOf(e.branches[r].name)>-1&&s.push(e.branches[r]._id);return s}if(_.isEmpty(o))e.isNew=!0,h=[];else{e.isNew=!1;var h=o.cars}e.nftOption={},m.fetch().success(function(t){e.nftOption.nfts=t}).then(function(){e.nftOption.nft=e.nftOption.nfts[0]}),u.fetchByCorps(l.userCorps()).success(function(t){e.branches=t}),e.caseObj={address:o.address||null,phone:o.phone||null,type:o.type||"火警",types:["火警","救護","災害","檢舉","其他"],env:"住宅火警",envs:["住宅火警","高樓、地下與工廠","搶救困難區","其他"],floor:1,carIds:d(o).carIds||[],dispatchList:d(o).dispatchList||[],branches:d(o).branches||[]},e.dispatchList=e.caseObj.dispatchList.join(" "),e.getCars=function(n){t.fetchByBranch(n.name).success(function(t){for(var n=t.length-1;n>=0;n--)e.caseObj.carIds.indexOf(t[n]._id)>-1&&(t[n].isChecked=!0);e.cars=t})},e.cancel=function(){n.dismiss("cancel")},e.cancelDispatch=function(t){t.isChecked=!1,h.splice(h.indexOf(t),1),e.caseObj.carIds.splice(e.caseObj.dispatchList.indexOf(t._id),1),e.caseObj.dispatchList.splice(e.caseObj.dispatchList.indexOf(t.radioCode),1),e.caseObj.branches.splice(e.caseObj.dispatchList.indexOf(t.branch),1),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.dispatch=function(t){t.isChecked=!0,h.push(t),e.caseObj.carIds.push(t._id),e.caseObj.dispatchList.push(t.radioCode),e.caseObj.branches.push(t.branch),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.closeCase=function(){c.count(o._id).success(function(e){e>0?i.alert("尚有隊員在安全管制"):(s.closeCase({id:o._id,isOngoing:!1}).success(function(e){console.log(e)}),n.dismiss("cancel"),r.reload())})},e.save=function(){s.create({caseId:a+1,address:e.caseObj.address||"測試",officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type||"救護",phone:e.caseObj.phone||"測試",branches:_.unique(e.caseObj.branches),branchIds:f(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,corps:l.userCorps(),env:e.caseObj.env,floor:e.caseObj.floor}).success(function(e){n.close(e)})},e.update=function(){var t={id:o._id,caseId:a,address:e.caseObj.address,officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type,phone:e.caseObj.phone,branches:_.unique(e.caseObj.branches),branchIds:f(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,env:e.caseObj.env,floor:e.caseObj.floor};s.update(t),n.dismiss("cancel")}}]),angular.module("InNet").controller("CaseNewCtrl",["$scope","CarSvc","BranchSvc","NtfSvc","UserSvc","$location","leafletData","$stateParams","CaseSvc","$window","$state","GeoSvc",function(e,t,n,s,r,a,o,c,i,u,l,m){"use strict";m.fetchBaseLocation(r.userCorps()).success(function(t){e.locations=t});var d=[];e.locateAddress=function(){e.currentCase.address&&m.getGeoEncodedInfo(e.currentCase.address).then(function(t){e.nowPos.lat=t.J,e.nowPos.lng=t.M,e.markers.mainMarker={lat:t.J,lng:t.M,focus:!0,message:"案件標的"},t&&e.locations.forEach(function(e){var n=m.getDistance(e,{lat:t.J,lng:t.M}),s={base:e.branch,to:{lat:t.J,lng:t.M},from:{lat:e.lat,lng:e.lng},d:n};d.push(JSON.stringify(s))})})};var f,h=[];e.currentCase={phone:null,type:"火警",types:["火警","救護","災害","檢舉","其他"],env:"住宅火警",envs:["住宅火警","高樓、地下與工廠","搶救困難區","其他"],floor:1,carIds:[],dispatchList:[],branches:[],location:m.defaultLocation()},e.dispatchList=e.currentCase.dispatchList.join(" "),angular.extend(e,{nowPos:{lat:m.defaultLocation().lat,lng:m.defaultLocation().lng,zoom:17},markers:{}}),e.selectBranch=function(t){e.currentBranch=t.name},n.fetchByCorps(r.userCorps()).success(function(t){e.branches=t,e.currentBranch=t[0].name}),t.fetchByCorps(r.userCorps()).success(function(t){e.cars=t}),s.fetch().success(function(t){f=t,e.currentCase.ntfs=_.pluck(t,"type"),e.currentCase.ntf=e.currentCase.ntfs[0]}),e.currentTime=moment().format("h:mm:ss a"),e.dispatch=function(t){t.isChecked=!0,h.push(t),e.dispatchList=_.pluck(h,"radioCode").join(" ")},e.cancelDispatch=function(t){t.isChecked=!1,h.splice(_.pluck(h,"_id").indexOf(t._id),1),e.dispatchList=_.pluck(h,"radioCode").join(" "),e.dispatchList=e.currentCase.dispatchList.join(" ")},e.save=function(){var t,n=_.unique(_.pluck(h,"branch")),s=e.branches.filter(function(e){return n.indexOf(e.name)>-1});f.forEach(function(n,s){n.type==e.currentCase.ntf&&(t=f[s])}),i.create({officerReceiver:r.currentUser()||"劉曉曼",type:e.currentCase.type||"火警",types:e.currentCase.types,phone:e.currentCase.phone||"測試",branches:_.unique(_.pluck(h,"branch")),branchIds:_.pluck(s,"_id"),cars:_.pluck(h,"_id"),corps:r.userCorps(),env:e.currentCase.env,envs:e.currentCase.envs,floor:e.currentCase.floor,ntf:t._id,createAt:moment().format("YYYY-MMM-DD, h:mm:ss a"),lastUpdate:moment().format("YYYY-MMM-DD, h:mm:ss a"),location:{lat:e.currentCase.location.lat,lng:e.currentCase.location.lng,address:e.currentCase.location.address||"測試"},battleRadiuss:d}).success(function(){u.history.back()})}}]),angular.module("InNet").controller("CaseShowCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc","CaseSvc","BranchSvc","StMissionFac",function(e,t,n,s,r,a,o,c,i){e.isCollapsed=!0,e.members=[],e.positions=i.position().poss,a.on("newSt",function(t){if(angular.equals(u,t.caseId)){var n=angular.copy(t);e.strikeTeams.push(n)}e.deploys=m(e.strikeTeams),e.deployDetails=l(e.strikeTeams)}),a.on("updateSt",function(n){t.fetchByCase(u).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=m(e.strikeTeams),e.deployDetails=l(e.strikeTeams)})}),a.on("dismiss",function(n){t.fetchByCase(u).success(function(t){e.strikeTeams=t,e.deploys=m(e.strikeTeams),e.deployDetails=l(e.strikeTeams)})});var u=n.id;o.fetchDetails(u).success(function(t){e.apartment="住宅火警"==t.env?!0:!1,e.caseDetail=t,e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"],floor:e.caseDetail.floor,floors:e.caseDetail.floor<5?_.range(1,6,1):_.range(e.caseDetail.floor-2,e.caseDetail.floor+3,1)}}),t.fetchByCase(u).success(function(t){t&&(e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=m(e.strikeTeams),e.deployDetails=l(e.strikeTeams))});var l=function(e){return _.groupBy(e,function(e){return e.position})},m=function(t){var n=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0,sts:[]}})});if(t)for(var s=t.length-1;s>=0;s--){var r=null,a=_.indexOf(t[s].positions,t[s].position);r=e.apartment?_.indexOf(t[s].floors,t[s].floor):_.indexOf(t[s].areas,t[s].area),n[a][r].stTotal+=1,n[a][r].totalMember+=t[s].members.length;var o={};o.id=t[s].branch+t[s].id,o.number=t[s].members.length,o.group=t[s].group,n[a][r].sts.push(o)}return n};e.$on("$destroy",function(e){a.removeAllListeners()})}]),angular.module("InNet").service("CaseSvc",["$http",function(e){this.fetch=function(t,n,s){return e.get("/api/cases?corps="+t+"&page="+n+"&ipp="+s)},this.fetchAll=function(){return e.get("/api/cases/details")},this.fetchRelativeCase=function(t){return e.get("/api/cases/branch?branch="+t.branch+"&accessLevel="+t.accessLevel+"&corps="+t.corps)},this.fetchDetails=function(t){return e.get("/api/cases/details/"+t)},this.fetchById=function(t){return e.get("/api/cases/"+t)},this.create=function(t){return e.post("/api/cases",t)},this["delete"]=function(t){return e.post("/api/cases/"+t)},this.update=function(t){return e.put("/api/cases/"+t.caseId,t)},this.closeCase=function(t){return e.put("/api/cases/close?id="+t.id,t)}}]),angular.module("InNet").controller("DashboardCtrl",["$scope","$location","SocketSvc","UserSvc","BranchSvc",function(e,t,n,s,r){r.fetchByCorps(s.userCorps()).success(function(t){e.branches=t}),s.fetchOnlineUser().success(function(t){e.users=t}),n.on("userLogin",function(t){e.users.push(t)}),n.on("userDisconnect",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),n.on("userLogout",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),e.$on("$destroy",function(e){n.removeAllListeners()})}]),angular.module("InNet").directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e,t){e.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}]}}]).directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n.metisMenu()})}}}]).directive("iboxTools",["$timeout",function(e){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(t,n){t.showhide=function(){var t=n.closest("div.ibox"),s=n.find("i:first"),r=t.find("div.ibox-content");r.slideToggle(200),s.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),e(function(){t.resize(),t.find("[id^=map-]").resize()},50)},t.closebox=function(){var e=n.closest("div.ibox");e.remove()}}]}}]).directive("back",["$window",function(e){return{restrict:"A",link:function(t,n,s){n.bind("click",function(){e.history.back()})}}}]),angular.module("InNet").controller("DirDutyListCtrl",["$scope","UserSvc","BranchSvc",function(e,t,n){var s=t.userBranch();n.fetchByName(s).success(function(t){e.branch=t,e.onDutyTotal=e.branch.members.filter(function(e){return 1==e.onDuty})})}]),angular.module("InNet").controller("DirDutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc","CarSvc","StMissionFac",function(e,t,n,s,r,a,o,c,i){var u=o.userBranch();t.fetchByName(u).success(function(t){e.branch=t,e.isCorps=t.name.split("救災救護")[1];var n=_.pluck(t.members.filter(function(e){return e.level<2.4}),"name");e.branch.safetyManager=t.safetyManager,e.branch.safetyManagers=n,e.onDutyTotal=0,_.map(e.branch.members,function(t){t.groupIds=_.range(1,Math.round(e.branch.members.length/6),1),t.groupID=t.group+t.groupId})}),e.check=function(e){e.onDuty=!e.onDuty,e.isChecked=!e.isChecked,e.groupID=e.group+e.groupId},e.save=function(){var n=e.branch.members.filter(function(e){return e.onDuty});t.updateMission({branch:e.branch.name,director:e.branch.director,dispatchNum:n.length,safetyManager:e.branch.safetyManager,members:e.branch.members}),a.history.back()}}]),angular.module("InNet").controller("DispatchCtrl",["$scope","$stateParams","$modal","CaseSvc","BranchSvc","CarSvc","UserSvc",function(e,t,n,s,r,a,o){s.fetch(o.userCorps()).success(function(n){e.cases=n,s.fetchById(e.cases[t.caseId]._id).success(function(t){e.caseDetails=t})}),r.fetchByCorps(o.userCorps()).success(function(t){e.branchList=t}),a.fetch().success(function(t){e.carsData=t}),e.addNewCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id="新增案件"},branchList:function(){return e.branchList},carsData:function(){return e.carsData},isNew:function(){return!0},caseDetails:function(){return{}}}})},e.editCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id=e.cases[t.caseId].caseId},branchList:function(){return e.branchList},carsData:function(){for(var t=e.carsData.length-1;t>=0;t--)for(var n=e.caseDetails.cars.length-1;n>=0;n--)e.carsData[t].radioCode===e.caseDetails.cars[n].radio_code&&(e.carsData[t].isChecked=!0);return e.carsData},isNew:function(){return!1},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("DutyListCtrl",["$scope","BranchSvc","$stateParams","SocketSvc","UserSvc","$q",function(e,t,n,s,r,a){var o=n.branch;t.totalListFindByName(o).success(function(t){e.branch=t,e.onDutyTotal=e.branch.members.filter(function(e){return 1==e.onDuty})})}]),angular.module("InNet").controller("DutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc","CarSvc","StMissionFac",function(e,t,n,s,r,a,o,c,i){var u=n.branch;t.totalListFindByName(u).success(function(t){e.branch=t,e.isCorps=t.name.split("救災救護")[1];var n=_.pluck(t.members.filter(function(e){return e.level<2.4}),"name");e.branch.safetyManager=t.safetyManager,e.branch.safetyManagers=n,e.onDutyTotal=0,_.map(e.branch.members,function(t){t.groupIds=_.range(1,Math.round(e.branch.members.length/6),1),t.groupID=t.group+t.groupId})}),e.check=function(e){e.onDuty=!e.onDuty,e.isChecked=!e.isChecked,e.groupID=e.group+e.groupId},e.save=function(){var n=e.branch.members.filter(function(e){return e.onDuty});t.updateMission({branch:e.branch.name,director:e.branch.director,dispatchNum:n.length,safetyManager:e.branch.safetyManager,members:e.branch.members}),a.history.back()}}]),angular.module("InNet").service("GeoSvc",["$q","$http",function(e,t){this.getGeolocationCoordinates=function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){t.resolve(e.coords)},function(e){t.resolve(null)}),t.promise},this.getGeoEncodedInfo=function(t){var n=e.defer(),s=new google.maps.Geocoder;return s&&s.geocode({address:t},function(e,t){n.resolve(t==google.maps.GeocoderStatus.OK?e[0].geometry.location:"Geocoding failed: "+t)}),n.promise},this.fetchBaseLocation=function(e){return t.get("/api/geolocations?corps="+e)},this.getDistance=function(e,t){"undefined"==typeof Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180});var n=6371,s=(t.lat-e.lat).toRad(),r=(t.lng-e.lng).toRad(),a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat.toRad())*Math.cos(t.lat.toRad())*Math.sin(r/2)*Math.sin(r/2),o=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return n*o},this.defaultLocation=function(){return{lat:25.0927297,lng:121.4608639,address:null}}}]),angular.module("InNet").controller("LoginCtrl",["$scope","UserSvc","store","$state","jwtHelper","$http","SocketSvc",function(e,t,n,s,r,a,o){var c=null;e.user={},e.login=function(){t.login(e.user).success(function(e){e.success?(n.set("jwt",e.token),a.defaults.headers.common["x-access-token"]=e.token,c=e.token):console.log("password is not existed!")}).then(function(){o.init(c),o.emit("login")}).then(function(){if("admin"==r.decodeToken(c).role){var e=r.decodeToken(c).branch;s.go("大隊"==e.slice(e.length-2,e.length)?"dutyDesk.corps":"dutyDesk.branch")}else s.go("director.safety.index")})}}]),angular.module("InNet").controller("MapIndexCtrl",["$scope","leafletData","GeoSvc",function(e,t,n){n.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}}),t.getMap().then(function(t){var n=e.controls.edit.featureGroup;t.on("draw:created",function(e){var t=e.layer;n.addLayer(t),FeatureCollections.push(t.toGeoJSON())})})}]),angular.module("InNet").controller("MemberAccountModalCtrl",["$scope","UserSvc","MemberSvc","member","$modalInstance",function(e,t,n,s,r){e.user=s,e.save=function(){_.isEmpty(e.user)?console.log("please enter your account and password!"):e.user.account?e.user.password?(t.activate(e.user),n.updateUser(s.name),r.close(e.user)):console.log("password can't be blank"):(console.log("account can't be blank!"),e.user.password||console.log("passwod can't be blank!"))},e.cancel=function(){r.dismiss("cancel")}}]),angular.module("InNet").controller("MemberCtrl",["$scope","MemberSvc","$stateParams",function(e,t,n){e.branch=n.branch,t.findByBranch(n.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})}]),angular.module("InNet").controller("MemberEditCtrl",["$scope","MemberSvc","BranchSvc","$stateParams","$window","$modal","$state","UserSvc",function(e,t,n,s,r,a,o,c){e.alerts=[],e.memberDeleted=!1;var i=null;e.accessLevel=c.accessLevel();var u=function(){t.findByBranch(s.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})};u(),e.save=function(){var t=_.pluck(e.members.filter(function(e){return e.level>1.3}),"name");n.update({branch:s.branch,members:_.pluck(e.members,"_id"),directors:t,director:t[0],safetyManager:t[0]}).success(function(){r.history.back()})},e.addNewMember=function(){var t=a.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{workingTime:null}}}});t.result.then(function(t){t&&u(),e.alerts.push({type:"success",msg:"人員新增成功！ "+t.name+" 已加入 "+t.branch})})},e.update=function(t){var n=t,r=a.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{memberId:t._id,id:t.id,name:t.name,title:t.title,branches:t.branches,corps:t.corps,radioCode:t.radioCode,workingTime:60*t.workingTime.minutes()+t.workingTime.seconds()}}}});r.result.then(function(t){u(),e.alerts.push({type:"info",msg:n.name+"修改成功!"})})},e.activateAccount=function(t){var n=e.members.filter(function(e){return e.isUser});if(n.length<3){var s=a.open({templateUrl:"views/member/member.account.html",controller:"MemberAccountModalCtrl",size:"md",resolve:{member:function(){return t}}});s.result.then(function(t){u(),e.alerts.push({type:"info",msg:t.name+" 已開通為使用者"})})}else e.alerts.push({type:"warning",msg:"無法開通"+t.name+" 因為使用者已超過3位，請解除其他人帳號後再開通 "})};var l=function(n){c.removeUser(i.name).success(function(s){t.removeUser(s.username),e.closeAlert(n),u()})},m=function(n){e.memberDeleted=!0,t.deleteMember(i).success(function(){e.memberDeleted=!1}),e.closeAlert(n),u()},d=function(t){e.memberDeleted=!1,e.closeAlert(t)};e.deleteAlert=function(t){e.alerts.push({type:"danger",msg:"是否確定要刪除！"+t.name,execute:m,cancel:d}),i=t},e.deActivateAlert=function(t){var n=e.members.filter(function(e){return e.isUser});1==n.length?e.alerts.push({type:"warning",msg:"每分隊至少要有1個使用者，無法取消"+t.name+"的登入權限"}):(e.alerts.push({type:"danger",msg:"是否確定要解除"+t.name+"登入權限",execute:l,cancel:d}),i=t)},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("MemberModalCtrl",["$scope","branch","MemberSvc","$modalInstance","$state","member","BranchSvc","UserSvc",function(e,t,n,s,r,a,o,c){e.alerts=[],e.isNew=_.isNull(a.workingTime),e.member={id:a.id||"",name:a.name||null,title:"消防隊員",titles:["消防隊員","小隊長","分隊長","中隊長","大隊長","副大隊長"],branch:a.branch||t,workingTime:a.workingTime||1200,radioCode:a.radioCode||null,mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","小組長","安全管制員","聯絡官"],corps:c.userCorps(),corpss:["第一救災救護大隊","第三救災救護大隊"]},o.fetchByCorps(c.userCorps()).success(function(t){if(e.branches=t,!e.isNew){for(var n=[],s=t.length-1;s>=0;s--)n.push(t[s].name);e.member.branches=n}});var i=function(e){var t=e.split("").slice(-2).join("");return"大隊"==t||"中隊"==t?"北海":e.split("").slice(0,2).join("")};e.save=function(){e.member.name&&(e.member.radioCodePrefix=i(e.member.branch),n.create(e.member).success(function(){e.member.workingTime=moment.duration(parseInt(e.member.workingTime),"seconds")}).then(function(){s.close(e.member)}))},e.update=function(){var t={memberId:a.memberId,id:"",name:e.member.name,corps:e.member.corps,branch:e.member.branch,title:e.member.title,workingTime:e.member.workingTime,radioCode:e.member.radioCode,radioCodePrefix:i(e.member.branch)};e.member.name&&(n.updateByMemberId(t),s.close(t))},e.cancel=function(){s.dismiss("cancel")}}]),angular.module("InNet").service("MemberSvc",["$http",function(e){this.fetch=function(){return e.get("/api/members")},this.findByBranch=function(t){return e.get("/api/members/"+t)},this.fetchOnDuty=function(t){return e.get("/api/members/onDuty?branch="+t)},this.create=function(t){return e.post("/api/members/",t)},this.update=function(t){return e.put("/api/members/",t.id)},this.updateOnDuty=function(t){return e.put("/api/members/onDuty/findById?memberId="+t.memberId,t)},this.updateByMemberId=function(t){return e.put("/api/members/findById/"+t.memberId,t)},this.updateIsChecked=function(t){return e.put("/api/members?id="+t.memberId,t)},this.updateUser=function(t){return e.put("/api/members/user?username="+t)},this.removeUser=function(t){return e.put("/api/members/user/remove?username="+t)},this.deleteMember=function(t){return e["delete"]("/api/members/"+t._id)}}]),angular.module("InNet").controller("NavCtrl",["$scope","BranchSvc","store","jwtHelper","UserSvc",function(e,t,n,s,r){e.username=r.currentUser(),e.branch=r.userBranch(),t.fetchByCorps(r.userCorps()).success(function(t){e.branches=t}),e.isValid=function(e){return r.isValid(e)},e.isCorps="大隊"==e.branch.slice(e.branch.length-2,e.branch.length)}]),angular.module("InNet").service("NtfSvc",["$http",function(e){this.fetch=function(){return e.get("/api/nfts")}}]),angular.module("InNet").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/login"),e.state("anon",{url:"","abstract":!0,template:"<ui-view>"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.404",{url:"/404",templateUrl:"views/404.html"}),e.state("dutyDesk",{"abstract":!0,url:"/dutyDesk",templateUrl:"views/common/content.html",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.corps",{url:"/corps",templateUrl:"views/dashboard/corps.dashboard.html",controller:"DashboardCtrl",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.branch",{url:"/branch",templateUrl:"views/dashboard/branch.dashboard.html",controller:"DashboardCtrl",date:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.case",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.case.index",{url:"/case",templateUrl:"views/case/case.index.html",controller:"CaseCtrl"}).state("dutyDesk.case.new",{url:"/case/new",templateUrl:"views/case/case.new.html",controller:"CaseNewCtrl"}).state("dutyDesk.case.show",{url:"/case/:id/show",templateUrl:"views/case/case.show.html",controller:"CaseShowCtrl"}).state("dutyDesk.case.edit",{url:"/case/:id/edit",templateUrl:"views/case/case.edit.html",controller:"CaseEditCtrl"}).state("dutyDesk.safety",{url:"/case/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("dutyDesk.dutylist",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.dutylist.show",{url:"/dutylist/:branch",templateUrl:"views/dutylist/dutylist.index.html",controller:"DutyListCtrl"}).state("dutyDesk.dutylist.edit",{url:"/dutylist/:branch/edit",templateUrl:"views/dutylist/dutylist.edit.html",controller:"DutyListEditCtrl"}).state("dutyDesk.member",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.member.show",{url:"/member/:branch",templateUrl:"views/member/member.index.html",controller:"MemberCtrl"}).state("dutyDesk.member.edit",{url:"/member/:branch/edit",templateUrl:"views/member/member.edit.html",controller:"MemberEditCtrl"}).state("dutyDesk.car",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.car.show",{url:"/car/:branch",templateUrl:"views/cars/car.index.html",controller:"CarIndexCtrl"}).state("dutyDesk.car.edit",{url:"/car/:branch/edit",templateUrl:"views/cars/car.edit.html",controller:"CarEditCtrl"}),e.state("director",{"abstract":!0,url:"",templateUrl:"views/director/director.content.html",data:{requiredLogin:!0,role:["user"]}}).state("director.safety",{"abstract":!0,url:"/safety",template:"<ui-view>"}).state("director.safety.index",{url:"/index",templateUrl:"views/safety/safety.index.html",controller:"SafetyIndexCtrl"}).state("director.safety.cmdShow",{url:"/cmd/:caseId/show",templateUrl:"views/safety/safety.cmd.show.html",controller:"SafetyCmdShowCtrl"}).state("director.safety.branchShow",{url:"/:caseId/show",templateUrl:"views/safety/safety.branch.show.html",controller:"SafetyShowCtrl"}).state("director.safety.management",{url:"/:caseId/manage",templateUrl:"views/safety/safety.manage.html",controller:"SafetyManageCtrl"}).state("director.safety.summary",{url:"/:caseId/summary",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("director.dutylist",{"abstract":!0,url:"/dutylist",template:"<ui-view>"}).state("director.dutylist.index",{url:"/index",templateUrl:"views/dutylist/director.dutylist.index.html",controller:"DirDutyListCtrl"}).state("director.dutylist.edit",{url:"/edit",templateUrl:"views/dutylist/director.dutylist.edit.html",controller:"DirDutyListEditCtrl"})}]).run(["$rootScope","$state","$stateParams","store","jwtHelper","UserSvc","SocketSvc",function(e,t,n,s,r,a,o){e.$on("$stateChangeStart",function(e,n,o,c,i){"anon.login"==n.name?s.remove("jwt"):n.data&&n.data.requiredLogin&&(a.isLoggedIn()?-1==n.data.role.indexOf(r.decodeToken(s.get("jwt")).role)&&(e.preventDefault(),t.go("anon.login")):(e.preventDefault(),t.go("anon.login")))}),e.$on("$stateChangeError",function(e){e.preventDefault()})}]),angular.module("InNet").controller("SafetyCmdShowCtrl",["$scope","CaseSvc","BranchSvc","UserSvc","$stateParams","GeoSvc",function(e,t,n,s,r,a){var o=s.userBranch();n.totalListFindByName(o).success(function(t){e.members=t.members.filter(function(e){return e.limitTime=moment.duration(e.workingTime,"seconds"),1==e.onDuty})}),t.fetchDetails(r.caseId).success(function(t){if(e.caseDetail=t,e.onDutyBranches=t.branchIds,t.location){var n=JSON.parse(t.location);e.markers.mainMarker={lat:Number(n.lat),lng:Number(n.lng),message:"案件標的"},e.battleRadiuss=t.battleRadiuss}}).then(function(){e.onDutyBranches.forEach(function(t){t.members.forEach(function(e){t.director==e.name&&(t.directorRadioCode=e.radioCodePrefix+String(e.radioCode)),t.safetyManager==e.name&&(t.safetyManagerRadioCode=e.radioCodePrefix+String(e.radioCode))}),e.battleRadius&&e.battleRadiuss.forEach(function(e){var n=JSON.parse(e);t.name==n.base&&(t.estimatedArrivingTime=Math.round(n.d/50*60))})})}),a.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17,e.markers.nowPos={lat:e.nowPos.lat,lng:e.nowPos.lng,message:"現在位置"}}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:13},markers:{}})}]),angular.module("InNet").controller("SafetyIndexCtrl",["$scope","CaseSvc","UserSvc",function(e,t,n){var s={branch:n.userBranch(),accessLevel:n.accessLevel(),corps:n.userCorps()};t.fetchRelativeCase(s).success(function(t){e.cases=t,t.forEach(function(e){e.dispatchBranches="",e.branches.forEach(function(t){e.dispatchBranches+=t+" "})})}),e.isBranchMember=n.accessLevel()<2}]),angular.module("InNet").controller("SafetyManageCtrl",["$scope","$stateParams","$modal","StSvc","$state","MemberSvc","$log","UserSvc","BranchSvc","SocketSvc","CaseSvc","StMissionFac",function(e,t,n,s,r,a,o,c,i,u,l,m){var d=c.userBranch(),f=null;e.quickStart=!1,e.apartment=!0,e.ACCESSLEVEL=c.accessLevel(),e.branchOptions={branch:d,branches:[]},l.fetchById(t.caseId).success(function(t){f=t,e.apartment="住宅火警"==t.env?!0:!1,e.branchOptions.branches=t.branches,e.branchOptions.branches.splice(0,0,d)}),i.fetchByName(d).success(function(t){e.details=t}).then(function(){e.ACCESSLEVEL>1?s.fetchByCase(t.caseId).success(function(t){e.strikeTeams=t}):s.fetch(t.caseId,d).success(function(t){e.strikeTeams=t,e.details.dispatchNum<8&&_.isEmpty(e.strikeTeams)&&(e.quickStart=!0)})}),u.on("newSt",function(n){e.ACCESSLEVEL>1&&angular.equals(t.caseId,n.caseId)?e.strikeTeams.push(n):angular.equals(d,n.branch)&&angular.equals(t.caseId,n.caseId)&&e.strikeTeams.push(n);

}),u.on("updateSt",function(t){for(var n=(angular.copy(t.members),e.strikeTeams.length-1);n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].position=t.position,e.strikeTeams[n].area=t.area,e.strikeTeams[n].floor=t.floor,e.strikeTeams[n].mission=t.mission)}),u.on("dismiss",function(t){var n=t.stId;e.strikeTeams=e.strikeTeams.filter(function(e){return e._id!=n})}),e.strikeTeam=function(){n.open({templateUrl:"views/safety/safety.modal.html",controller:"SafetyModalCtrl",size:"md",resolve:{stId:function(){return _.isEmpty(e.strikeTeams)?0:e.strikeTeams[e.strikeTeams.length-1].id},branch:function(){return e.branchOptions.branch},caseDetail:function(){return f}}})},e.openSettingModal=function(e,t){n.open({templateUrl:"views/safety/safety.setting.modal.html",controller:"SafetySettingCtrl",size:"lg",resolve:{strikeTeam:function(){return e},caseDetail:function(){return f}}})},e.dismiss=function(t,n){u.emit("dismissStrikeTeam",{id:t._id,members:t.members}),e.strikeTeams.splice(n,1)},e.quickOrganizing=function(){e.quickStart=!1;var t=e.details.members.filter(function(e){return"司機"==e.mission||"安全管制員"==e.mission||"救護人員"==e.mission?!1:(e.isChecked=!0,e.onDuty)}),n={id:1,caseId:f._id,branch:c.userBranch(),director:_.pluck(t.filter(function(e){return"帶隊官"==e.mission}),"name")[0],position:m.position().defaultPos,positions:m.position().poss,group:m.groups().branch[1],groups:m.groups().branch,area:m.area().defaultArea,areas:m.area().areas,floor:1,floors:[1,2,3,4,5],memberIds:_.pluck(t,"_id"),members:t,creator:c.currentUser()};u.emit("createStrikeTeam",n)},e.$on("$destroy",function(e){u.removeAllListeners()})}]),angular.module("InNet").controller("SafetyModalCtrl",["$scope","$modalInstance","$stateParams","StSvc","MemberSvc","$state","$window","UserSvc","BranchSvc","SocketSvc","branch","caseDetail","StMissionFac","stId",function(e,t,n,s,r,a,o,c,i,u,l,m,d,f){e.alerts=[],e.apartment="住宅火警"==m.env?!0:!1,e.title=l+(f+1),i.fetchByName(l).success(function(t){e.details=t}).then(function(){e.details&&(e.details.members=e.details.members.filter(function(e){return e.onDuty}),e.details.members=e.details.members.filter(function(e){return e.isChecked}),e.details.members.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}))}),e.strikeTeam={position:d.position().defaultPos,positions:d.position().poss,group:d.groups().branch[1],groups:d.groups().branch,area:d.area().defaultArea,areas:d.area().areas,floor:m.floor,floors:m.floor<5?_.range(1,6,1):_.range(m.floor-2,m.floor+3,1)},e.check=function(e){e.isChecked=!e.isChecked},e.cancel=function(){t.dismiss("cancel")},e.save=function(){var s=e.details.members.filter(function(e){return e.isChecked===!0});if(s.length>2){var r={id:f+1||0,caseId:n.caseId,branch:e.details.name,director:e.details.director,position:e.strikeTeam.position,positions:e.strikeTeam.positions,group:e.strikeTeam.group,groups:e.strikeTeam.groups,area:e.strikeTeam.area,areas:e.strikeTeam.areas,floor:e.strikeTeam.floor,floors:e.strikeTeam.floors,memberIds:_.pluck(s,"_id"),members:s,workingTime:_.min(s,function(e){return e.workingTime}).workingTime,creator:c.currentUser()};u.emit("createStrikeTeam",r),t.close()}else e.alerts.push({type:"danger",msg:"兩人以上才能編組"})},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("SafetySettingCtrl",["$scope","strikeTeam","$modalInstance","StSvc","$state","MemberSvc","CaseSvc","$stateParams","SocketSvc","caseDetail",function(e,t,n,s,r,a,o,c,i,u){e.strikeTeam=t,e.apartment="住宅火警"==u.env?!0:!1;var l=[];o.fetchDetails(c.caseId).success(function(t){e.dispatch=t.branchIds,e.currentBranch=e.dispatch[0].name;var n=_.pluck(t.branchIds,"members");e.members=[],n.forEach(function(t){e.members.push.apply(e.members,t)}),e.members=e.members.filter(function(e){return!e.isChecked})}),e.chooseBranch=function(t){e.currentBranch=t},e.cancel=function(){n.dismiss("cancel")},e.check=function(e){e.isChecked=!e.isChecked,l.push(e)},e.uncheck=function(e,t){e.isChecked=!e.isChecked,l.splice(_.pluck(l,"_id").indexOf(e._id),1)},e.save=function(){e.strikeTeam.members.push.apply(e.strikeTeam.members,l),i.emit("updateStrikeTeam",{id:t._id,position:t.position,area:t.area,floor:t.floor,group:t.group,memberIds:_.pluck(e.strikeTeam.members,"_id"),members:e.strikeTeam.members}),n.close("dismiss")}}]),angular.module("InNet").controller("SafetyShowCtrl",["$scope","CaseSvc","UserSvc","SocketSvc","GeoSvc","BranchSvc","$stateParams",function(e,t,n,s,r,a,o){var c=n.userBranch();a.fetchByName(c).success(function(t){e.members=t.members.filter(function(e){return e.limitTime=moment.duration(e.workingTime,"seconds"),1==e.onDuty})}),t.fetchDetails(o.caseId).success(function(t){if(e.caseDetail=t,t.location){var n=JSON.parse(t.location);e.markers.mainMarker={lat:Number(n.lat),lng:Number(n.lng),message:"案件標的"}}}),r.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17,e.markers.nowPos={lat:e.nowPos.lat,lng:e.nowPos.lng,message:"現在位置"}}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:13},markers:{}})}]),angular.module("InNet").service("SocketSvc",["$rootScope","store","$q","$timeout",function(e,t,n,s){this.init=function(e){var n=null;return n=e?e:t.get("jwt"),io.connect("http://localhost:3000",{query:"token="+n,forceNew:!0})};var r=this.init();this.on=function(t,n){this.init().on(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})},this.emit=function(t,n,s){this.init().emit(t,n,function(){var t=arguments;e.$apply(function(){s&&s.apply(r,t)})})},this.removeAllListeners=function(t,n){this.init().removeAllListeners(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})}}]),angular.module("InNet").factory("StMissionFac",[function(){return{groups:function(){return{corps:["聯絡組","水源組","後勤組"],squadron:[""],branch:["帶隊官","滅火小組","搜救小組","搶救小組","後勤小組"],preSt:["搜救小組","搶救小組","滅火小組"]}},position:function(){return{defaultPos:"第一面",poss:["第一面","第二面","第三面","第四面"]}},area:function(){return{defaultArea:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"]}}}}]),angular.module("InNet").service("StSvc",["$http",function(e){this.fetch=function(t,n){return e.get("/api/strikeTeams?caseId="+t+"&branch="+n)},this.fetchByCase=function(t){return e.get("/api/strikeTeams/total?caseId="+t)},this.findById=function(t){return e.get("/api/strikeTeams/"+t)},this.dismissSt=function(t){return e.put("/api/strikeTeams/dismiss?id="+t.id)},this.updateSt=function(t){return e.put("/api/strikeTeams/update?id="+t.id,t)},this.updateTimeRecord=function(t){return e.put("/api/strikeTeams/time?id="+t.id,t)},this.create=function(t){return e.post("/api/strikeTeams",t)},this.count=function(t){return e.get("/api/strikeTeams/count?caseId="+t)}}]),angular.module("InNet").controller("SummaryCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc","CaseSvc",function(e,t,n,s,r,a,o){e.isCollapsed=!0,e.members=[],a.on("timerRunning",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.stId)&&(e.strikeTeams[n].timerRunning=t.timerRunning)}),a.on("progressUpdate",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].timer=moment.duration(t.millis),e.strikeTeams[n].progress=t.progress,e.strikeTeams[n].progressState=t.progressState)}),a.on("newSt",function(t){if(angular.equals(c,t.caseId)){var n=angular.copy(t);e.strikeTeams.push(n)}e.deploys=i(e.strikeTeams)}),a.on("updateSt",function(n){t.fetchByCase(c).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=i(e.strikeTeams)})}),a.on("dismiss",function(n){t.fetchByCase(c).success(function(t){e.strikeTeams=t,e.deploys=i(e.strikeTeams)})});var c=n.caseId;o.fetchById(c).success(function(t){e.apartment="住宅火警"==t.env?!0:!1,e.caseDetail=t,e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"],floor:e.caseDetail.floor,floors:e.caseDetail.floor<5?_.range(1,6,1):_.range(e.caseDetail.floor-2,e.caseDetail.floor+3,1)}}),t.fetchByCase(c).success(function(t){t&&(e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=i(e.strikeTeams))});var i=function(t){var n=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0,sts:[]}})});if(t)for(var s=t.length-1;s>=0;s--){var r=null,a=_.indexOf(t[s].positions,t[s].position);r=e.apartment?_.indexOf(t[s].floors,t[s].floor):_.indexOf(t[s].areas,t[s].area),n[a][r].stTotal+=1,n[a][r].totalMember+=t[s].members.length;var o={};o.id=t[s].branch+t[s].id,o.number=t[s].members.length,o.group=t[s].group,n[a][r].sts.push(o)}return n};e.$on("$destroy",function(e){a.removeAllListeners()})}]),angular.module("InNet").controller("TimerCtrl",["$scope","SocketSvc",function(e,t){e.timerRunning=!1,e.startTimer=function(n,s){e.$broadcast("timer-start"),e.timerRunning=!0,t.emit("timer",{stId:n._id,timerRunning:!0})},e.stopTimer=function(n,s){e.$broadcast("timer-stop"),e.timerRunning=!1,t.emit("timer",{stId:n._id,timerRunning:!1})}}]),angular.module("InNet").controller("TopNavCtrl",["$scope","$location","$state","$interval","store","SocketSvc","UserSvc","$window",function(e,t,n,s,r,a,o,c){e.currentTime=moment().format("MMM Do, h:mm:ss a"),s(function(){moment.locale("zh-tw"),e.currentTime=moment().format("MMM Do, h:mm:ss a")},1e3),e.logout=function(){o.currentAccount();a.emit("logout"),n.go("anon.login")}}]),angular.module("InNet").service("UserSvc",["$http","store","jwtHelper",function(e,t,n){this.fetchOnlineUser=function(){return e.get("/api/users/userState")},this.activate=function(t){return e.post("/api/users",t)},this.removeUser=function(t){return e["delete"]("/api/users/delete?username="+t)},this.login=function(t){return e.post("/api/users/authenticate",t)},this.isLoggedIn=function(){return t.get("jwt")},this.isValid=function(e){return this.isLoggedIn&&(n.decodeToken(t.get("jwt")).accessLevel>1||n.decodeToken(t.get("jwt")).branch==e)?!0:!1},this.userBranch=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).branch:void 0},this.userCorps=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).corps:void 0},this.currentUser=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).username:void 0},this.currentAccount=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).account:void 0},this.accessLevel=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).accessLevel:void 0},this.caseId=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).caseId:void 0}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImJyYW5jaC5zdmMuanMiLCJjYXIuZWRpdC5jdHJsLmpzIiwiY2FyLmluZGV4LmN0cmwuanMiLCJjYXJzLnN2Yy5qcyIsImNhc2UuY29uZmlybS5tb2RhbC5jdHJsLmpzIiwiY2FzZS5jdHJsLmpzIiwiY2FzZS5lZGl0LmN0cmwuanMiLCJjYXNlLm1vZGFsLmN0cmwuanMiLCJjYXNlLm5ldy5jdHJsLmpzIiwiY2FzZS5zaG93LmN0cmwuanMiLCJjYXNlLnN2Yy5qcyIsImRhc2hib2FyZC5jdHJsLmpzIiwiZGlyZWN0aXZlcy5qcyIsImRpcmVjdG9yLmR1dHlsaXN0LmN0cmwuanMiLCJkaXJlY3Rvci5kdXR5bGlzdC5lZGl0LmN0cmwuanMiLCJkaXNwYXRjaC5jdHJsLmpzIiwiZHV0eWxpc3QuY3RybC5qcyIsImR1dHlsaXN0LmVkaXQuY3RybC5qcyIsImdlby5zdmMuanMiLCJsb2dpbi5jdHJsLmpzIiwibWFwLmluZGV4LmN0cmwuanMiLCJtZW1iZXIuYWNjb3VudC5tb2RhbC5jdHJsLmpzIiwibWVtYmVyLmN0cmwuanMiLCJtZW1iZXIuZWRpdC5jdHJsLmpzIiwibWVtYmVyLm1vZGFsLmN0cmwuanMiLCJtZW1iZXIuc3ZjLmpzIiwibmF2LmN0cmwuanMiLCJudGYuc3ZjLmpzIiwicm91dGVyLmpzIiwic2FmZXR5LmNtZC5zaG93LmN0cmwuanMiLCJzYWZldHkuaW5kZXguY3RybC5qcyIsInNhZmV0eS5tYW5hZ2UuY3RybC5qcyIsInNhZmV0eS5tb2RhbC5jdHJsLmpzIiwic2FmZXR5LnNldHRpbmcubW9kYWwuanMiLCJzYWZldHkuc2hvdy5jdHJsLmpzIiwic29ja2V0LnN2Yy5qcyIsInN0Lm1pc3Npb24uZmFjLmpzIiwic3Quc3ZjLmpzIiwic3VtbWFyeS5jdHJsLmpzIiwidGltZXIuY3RybC5qcyIsInRvcG5hdmJhci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJmZXRjaEJ5Q29ycHMiLCJjb3JwcyIsImdldCIsImZldGNoQnlOYW1lIiwiYnJhbmNoIiwidG90YWxMaXN0RmluZEJ5TmFtZSIsImdldERldGFpbHMiLCJpZCIsImZldGNoT25EdXR5QnJhbmNoZXMiLCJicmFuY2hlcyIsInBvc3QiLCJ1cGRhdGUiLCJkYXRhIiwicHV0IiwidXBkYXRlTWlzc2lvbiIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJmZXRjaEJ5QnJhbmNoIiwiVXNlclN2YyIsIkNhc2VTdmMiLCIkc3RhdGVQYXJhbXMiLCIkc3RhdGUiLCIkbW9kYWxJbnN0YW5jZSIsInVzZXIiLCJjYXNlSW5mbyIsImVuZEF0IiwibW9tZW50IiwiZm9ybWF0Iiwic2VuZCIsImxvZ2luIiwic3VjY2VzcyIsImNsb3NlQ2FzZSIsImRpc21pc3MiLCJnbyIsIiRtb2RhbCIsIiRsb2ciLCJTb2NrZXRTdmMiLCIkbG9jYXRpb24iLCJtYXhTaXplIiwiaXRlbXNQZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJwYWdlQ2hhbmdlZCIsImZldGNoIiwidXNlckNvcnBzIiwiY2FzZXMiLCJxdWVyeUNhc2VzIiwidG90YWxJdGVtcyIsInRvdGFsQ2FzZXMiLCJvbiIsIl9jYXNlIiwidW5zaGlmdCIsImNhc2VJZCIsImNob29zZSIsImZldGNoQnlJZCIsIl9pZCIsImNhc2VEZXRhaWxzIiwiQ2FyU3ZjIiwiQnJhbmNoU3ZjIiwiJHdpbmRvdyIsIk50ZlN2YyIsImdldEJyYW5jaElkIiwiYnJhbmNoZXNMaXN0IiwiXyIsInVuaXF1ZSIsImJyYW5jaElkcyIsImkiLCJsZW5ndGgiLCJpbmRleE9mIiwibmFtZSIsInB1c2giLCJkaXNwYXRjaENhcnMiLCJleHRlbmQiLCJub3dQb3MiLCJsYXQiLCJsbmciLCJ6b29tIiwiY29udHJvbHMiLCJkcmF3IiwiY3VycmVudEJyYW5jaCIsInNlbGVjdEJyYW5jaCIsImN1cnJlbnRDYXNlIiwiZGlzcGF0Y2hMaXN0IiwicGx1Y2siLCJjYXJzIiwiam9pbiIsImNhcklkcyIsInRoZW4iLCJpc0NoZWNrZWQiLCJudGZzIiwibnRmIiwiZGlzcGF0Y2giLCJjYXIiLCJjYW5jZWxEaXNwYXRjaCIsInNwbGljZSIsInNhdmUiLCJjdXJyZW50TnRmIiwiZm9yRWFjaCIsInR5cGUiLCJhZGRyZXNzIiwib2ZmaWNlclJlY2VpdmVyIiwiY3VycmVudFVzZXIiLCJ0eXBlcyIsInBob25lIiwiaXNPbmdvaW5nIiwiZW52IiwiZW52cyIsImZsb29yIiwibGFzdFVwZGF0ZSIsImhpc3RvcnkiLCJiYWNrIiwidGVybWluYXRlQ2FzZSIsIm9wZW4iLCJ0ZW1wbGF0ZVVybCIsInNpemUiLCJTdFN2YyIsImdldENhcnNEZXRhaWwiLCJvYmoiLCJyYWRpb0NvZGUiLCJpc0VtcHR5IiwiaXNOZXciLCJjYXJPYmpzIiwibmZ0T3B0aW9uIiwibmZ0cyIsIm5mdCIsImNhc2VPYmoiLCJnZXRDYXJzIiwiY2FuY2VsIiwiY291bnQiLCJ0b3RhbCIsImFsZXJ0IiwibXNnIiwiY29uc29sZSIsImxvZyIsInJlbG9hZCIsImNyZWF0ZSIsIm5ld0Nhc2UiLCJjbG9zZSIsImNvbnRlbnQiLCJsZWFmbGV0RGF0YSIsIkdlb1N2YyIsImZldGNoQmFzZUxvY2F0aW9uIiwibG9jYXRpb25zIiwiYmF0dGxlUmFkaXVzcyIsImxvY2F0ZUFkZHJlc3MiLCJnZXRHZW9FbmNvZGVkSW5mbyIsInJlcyIsIkoiLCJNIiwibWFya2VycyIsIm1haW5NYXJrZXIiLCJmb2N1cyIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsInIiLCJnZXREaXN0YW5jZSIsImJhdHRsZVJhZGl1cyIsImJhc2UiLCJ0byIsImZyb20iLCJkIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5vdGlmaWNhdGlvbnMiLCJkZWZhdWx0TG9jYXRpb24iLCJjdXJyZW50VGltZSIsImZpbHRlciIsImNyZWF0ZUF0IiwiJGludGVydmFsIiwiU3RNaXNzaW9uRmFjIiwiaXNDb2xsYXBzZWQiLCJtZW1iZXJzIiwicG9zaXRpb25zIiwicG9zaXRpb24iLCJwb3NzIiwic3QiLCJlcXVhbHMiLCJuZXdTdCIsImNvcHkiLCJzdHJpa2VUZWFtcyIsImRlcGxveXMiLCJpbml0VGFibGUiLCJkZXBsb3lEZXRhaWxzIiwiaW5pdERlcGxveSIsImZldGNoQnlDYXNlIiwibGltaXRUaW1lIiwiZHVyYXRpb24iLCJ3b3JraW5nVGltZSIsImZldGNoRGV0YWlscyIsImFwYXJ0bWVudCIsImNhc2VEZXRhaWwiLCJkZWZhdWx0UG9zIiwiZmxvb3JzIiwicmFuZ2UiLCJncm91cEJ5IiwiZGVwbG95QXJyYXkiLCJtYXAiLCJ0b3RhbE1lbWJlciIsInN0VG90YWwiLCJzdHMiLCJ5IiwieCIsImFyZWFzIiwiYXJlYSIsInN0SW5GbyIsIm51bWJlciIsImdyb3VwIiwiJG9uIiwiZXZlbnQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJwYWdlIiwiZmV0Y2hBbGwiLCJmZXRjaFJlbGF0aXZlQ2FzZSIsImNvbiIsImFjY2Vzc0xldmVsIiwiY2FzZV9pbmZvIiwidXBkYXRlZF9jYXNlIiwiZmV0Y2hPbmxpbmVVc2VyIiwidXNlcnMiLCJkaXNjb25uZWN0VXNlciIsInVzZXJuYW1lIiwibG9nb3V0VXNlciIsImRpcmVjdGl2ZSIsIiR0aW1lb3V0IiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZSIsIiRlbGVtZW50IiwibWluaW1hbGl6ZSIsIiQiLCJ0b2dnbGVDbGFzcyIsImhhc0NsYXNzIiwiaGlkZSIsInNldFRpbWVvdXQiLCJmYWRlSW4iLCJyZW1vdmVBdHRyIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsIm1ldGlzTWVudSIsInNob3doaWRlIiwiaWJveCIsImNsb3Nlc3QiLCJpY29uIiwiZmluZCIsInNsaWRlVG9nZ2xlIiwicmVzaXplIiwiY2xvc2Vib3giLCJyZW1vdmUiLCJpRWxlbWVudCIsImlBdHRycyIsImJpbmQiLCJ1c2VyQnJhbmNoIiwib25EdXR5VG90YWwiLCJtZW1iZXIiLCJvbkR1dHkiLCJNZW1iZXJTdmMiLCJpc0NvcnBzIiwic3BsaXQiLCJsZXZlbCIsInNhZmV0eU1hbmFnZXIiLCJzYWZldHlNYW5hZ2VycyIsImdyb3VwSWRzIiwiTWF0aCIsInJvdW5kIiwiZ3JvdXBJRCIsImdyb3VwSWQiLCJjaGVjayIsIkRpc3BhdGNoTnVtYmVyIiwiZGlyZWN0b3IiLCJkaXNwYXRjaE51bSIsImJyYW5jaExpc3QiLCJjYXJzRGF0YSIsImFkZE5ld0Nhc2UiLCJyZXNvbHZlIiwiZWRpdENhc2UiLCJqIiwicmFkaW9fY29kZSIsIiRxIiwiYnJhbmNoSWQiLCJnZXRHZW9sb2NhdGlvbkNvb3JkaW5hdGVzIiwiZGVmZXJyZWQiLCJkZWZlciIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiY29vcmRzIiwiZXJyb3IiLCJwcm9taXNlIiwiZ2VvY29kZXIiLCJnb29nbGUiLCJtYXBzIiwiR2VvY29kZXIiLCJnZW9jb2RlIiwicmVzdWx0cyIsInN0YXR1cyIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJnZW9tZXRyeSIsImZyb21fbG9jIiwidG9fbG9jIiwiTnVtYmVyIiwicHJvdG90eXBlIiwidG9SYWQiLCJQSSIsIlIiLCJkTGF0IiwiZExvbiIsImEiLCJzaW4iLCJjb3MiLCJjIiwiYXRhbjIiLCJzcXJ0Iiwic3RvcmUiLCJqd3RIZWxwZXIiLCJ0b2tlbiIsInNldCIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImluaXQiLCJlbWl0IiwiZGVjb2RlVG9rZW4iLCJyb2xlIiwic2xpY2UiLCJjb29yZCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZ2V0TWFwIiwiZHJhd25JdGVtcyIsImVkaXQiLCJmZWF0dXJlR3JvdXAiLCJlIiwibGF5ZXIiLCJhZGRMYXllciIsIkZlYXR1cmVDb2xsZWN0aW9ucyIsInRvR2VvSlNPTiIsImFjY291bnQiLCJwYXNzd29yZCIsImFjdGl2YXRlIiwidXBkYXRlVXNlciIsImZpbmRCeUJyYW5jaCIsImFsZXJ0cyIsIm1lbWJlckRlbGV0ZWQiLCJ0ZW1wRGVsTWVtYmVyIiwibWVtYmVySW5pdCIsImRpcmVjdG9ycyIsImFkZE5ld01lbWJlciIsIm1vZGFsSW5zdGFuY2UiLCJyZXN1bHQiLCJvbGRNZW1iZXIiLCJtZW1iZXJJZCIsInRpdGxlIiwibWludXRlcyIsInNlY29uZHMiLCJhY3RpdmF0ZUFjY291bnQiLCJpc1VzZXIiLCJkZUFjdGl2YXRlQWNjb3VudCIsImluZGV4IiwicmVtb3ZlVXNlciIsImNsb3NlQWxlcnQiLCJkZWxldGVNZW1iZXIiLCJjYW5jZWxEZWwiLCJkZWxldGVBbGVydCIsImV4ZWN1dGUiLCJkZUFjdGl2YXRlQWxlcnQiLCJpc051bGwiLCJ0aXRsZXMiLCJtaXNzaW9uIiwibWlzc2lvbnMiLCJjb3Jwc3MiLCJicmFuY2hBcnJ5IiwicmFkaW9Db2RlUHJlZml4Iiwic3VmZml4IiwicGFyc2VJbnQiLCJ1cGRhdGVNZW1iZXIiLCJ1cGRhdGVCeU1lbWJlcklkIiwiZmV0Y2hPbkR1dHkiLCJ1cGRhdGVPbkR1dHkiLCJ1cGRhdGVJc0NoZWNrZWQiLCJtZW1iZXJEYXRhIiwiaXNWYWxpZCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsImFic3RyYWN0IiwicmVxdWlyZWRMb2dpbiIsImRhdGUiLCJydW4iLCIkcm9vdFNjb3BlIiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImlzTG9nZ2VkSW4iLCJwcmV2ZW50RGVmYXVsdCIsIm9uRHV0eUJyYW5jaGVzIiwicGFyc2UiLCJkaXJlY3RvclJhZGlvQ29kZSIsIlN0cmluZyIsInNhZmV0eU1hbmFnZXJSYWRpb0NvZGUiLCJyYWRpdXMiLCJlc3RpbWF0ZWRBcnJpdmluZ1RpbWUiLCJ1c2VyQ29uZGl0aW9uIiwiZGlzcGF0Y2hCcmFuY2hlcyIsImlzQnJhbmNoTWVtYmVyIiwiQlJBTkNIIiwicXVpY2tTdGFydCIsIkFDQ0VTU0xFVkVMIiwiYnJhbmNoT3B0aW9ucyIsImRldGFpbHMiLCJfc3RJZCIsInN0SWQiLCJzdHJpa2VUZWFtIiwib3BlblNldHRpbmdNb2RhbCIsInF1aWNrT3JnYW5pemluZyIsImdyb3VwcyIsImRlZmF1bHRBcmVhIiwibWVtYmVySWRzIiwiY3JlYXRvciIsIm1pbiIsIm5ld01lbWJlcnMiLCJtZW1iZXJMaXN0IiwiYnJhbmNoTWVtYmVycyIsImFwcGx5IiwiY2hvb3NlQnJhbmNoIiwidW5jaGVjayIsImF1dGhUb2tlbiIsImlvIiwiY29ubmVjdCIsInF1ZXJ5IiwiZm9yY2VOZXciLCJzb2NrZXQiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJmYWN0b3J5Iiwic3F1YWRyb24iLCJwcmVTdCIsImZpbmRCeUlkIiwiZGlzbWlzc1N0IiwidXBkYXRlU3QiLCJ1cGRhdGVUaW1lUmVjb3JkIiwidGltZXJSdW5uaW5nIiwidGltZXIiLCJtaWxsaXMiLCJwcm9ncmVzcyIsInByb2dyZXNzU3RhdGUiLCJzdGFydFRpbWVyIiwiJGJyb2FkY2FzdCIsInN0b3BUaW1lciIsImxvY2FsZSIsImxvZ291dCIsImN1cnJlbnRBY2NvdW50Il0sIm1hcHBpbmdzIjoiQUFLQUEsUUFBQUMsT0FBQSxTQUFBLFlBQUEsZUFBQSxRQUFBLGtCQUFBLGNBQUEsb0JBQUEsbUJDR0FELFFBQUFDLE9BQUEsU0FDQUMsUUFBQSxhQUFBLFFBQUEsU0FBQUMsR0FFQUMsS0FBQUMsYUFBQSxTQUFBQyxHQUNBLE1BQUFILEdBQUFJLElBQUEsdUJBQUFELElBR0FGLEtBQUFJLFlBQUEsU0FBQUMsR0FDQSxNQUFBTixHQUFBSSxJQUFBLHdCQUFBRSxJQUdBTCxLQUFBTSxvQkFBQSxTQUFBRCxHQUNBLE1BQUFOLEdBQUFJLElBQUEsaUJBQUFFLElBR0FMLEtBQUFPLFdBQUEsU0FBQUMsR0FDQSxNQUFBVCxHQUFBSSxJQUFBLGlCQUFBSyxJQUdBUixLQUFBUyxvQkFBQSxTQUFBQyxHQUNBLE1BQUFYLEdBQUFZLEtBQUEsdUJBQUFELElBR0FWLEtBQUFZLE9BQUEsU0FBQUMsR0FDQSxNQUFBZCxH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cEYsRUFBQVEsWUFBQVQsRUFBQXRULElBQUEsUUFBQW1OLFlBQUEsR0FBQW9HLEVBQUFRLFlBQUFULEVBQUF0VCxJQUFBLFFBQUFFLFFBQUFBLElBQ0EsR0FNQSxHQUdBTCxLQUFBMlAsV0FBQSxXQUNBLE1BQUEzUCxNQUFBOFksV0FDQXBGLEVBQUFRLFlBQUFULEVBQUF0VCxJQUFBLFFBQUFFLE9BREEsUUFLQUwsS0FBQTRDLFVBQUEsV0FDQSxNQUFBNUMsTUFBQThZLFdBQ0FwRixFQUFBUSxZQUFBVCxFQUFBdFQsSUFBQSxRQUFBRCxNQURBLFFBS0FGLEtBQUFxRyxZQUFBLFdBQ0EsTUFBQXJHLE1BQUE4WSxXQUNBcEYsRUFBQVEsWUFBQVQsRUFBQXRULElBQUEsUUFBQXlOLFNBREEsUUFLQTVOLEtBQUEyYyxlQUFBLFdBQ0EsTUFBQTNjLE1BQUE4WSxXQUNBcEYsRUFBQVEsWUFBQVQsRUFBQXRULElBQUEsUUFBQThVLFFBREEsUUFLQWpWLEtBQUFzTixZQUFBLFdBQ0EsTUFBQXROLE1BQUE4WSxXQUNBcEYsRUFBQVEsWUFBQVQsRUFBQXRULElBQUEsUUFBQW1OLFlBREEsUUFLQXROLEtBQUFvRCxPQUFBLFdBQ0EsTUFBQXBELE1BQUE4WSxXQUNBcEYsRUFBQVEsWUFBQVQsRUFBQXRULElBQUEsUUFBQWlELE9BREEiLCJmaWxlIjoiaW5uZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEluTmV0IE1vZCd1aS5yb3V0ZSd1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnLCBbJ3VpLnJvdXRlcicsJ3VpLmJvb3RzdHJhcCcsICd0aW1lcicsJ2FuZ3VsYXItc3RvcmFnZScsICdhbmd1bGFyLWp3dCcsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ2FuZ3VsYXIuZmlsdGVyJ10pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0JyYW5jaFN2YycsIFsgJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaEJ5Q29ycHMgPSBmdW5jdGlvbihjb3Jwcyl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2hlcz9jb3Jwcz0nICsgY29ycHMpO1xuXHR9O1xuXG5cdHRoaXMuZmV0Y2hCeU5hbWUgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoZXM/YnJhbmNoPScgKyBicmFuY2gpO1xuXHR9O1xuXG5cdHRoaXMudG90YWxMaXN0RmluZEJ5TmFtZSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2hlcy8nICsgYnJhbmNoKVxuXHR9XG5cblx0dGhpcy5nZXREZXRhaWxzID0gZnVuY3Rpb24oaWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoZXMvJyArIGlkKTtcblx0fTtcblxuXHR0aGlzLmZldGNoT25EdXR5QnJhbmNoZXMgPSBmdW5jdGlvbihicmFuY2hlcyl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYnJhbmNoZXMvb25kdXR5JyxicmFuY2hlcylcblx0fVxuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9icmFuY2hlcy8nICsgZGF0YS5icmFuY2ggLCBkYXRhKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZU1pc3Npb24gPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2JyYW5jaGVzP2JyYW5jaD0nICsgZGF0YS5icmFuY2gsIGRhdGEpXG5cdH07XG5cdFxufV0pIiwiLyoqXG4qJ0luTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FyRWRpdEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXJJbmRleEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdDYXJTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoQnlDb3JwcyA9IGZ1bmN0aW9uKGNvcnBzKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhcnM/Y29ycHM9JyArIGNvcnBzKVxuXHR9XG5cblx0dGhpcy5mZXRjaEJ5QnJhbmNoID0gZnVuY3Rpb24oIGJyYW5jaCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2Fycz9icmFuY2g9JyArIGJyYW5jaCApXG5cdH1cblx0XG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXJzLycgKyBkYXRhLmlkICwgZGF0YSlcblx0fVxuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Nhc2VDb25maXJtQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnQ2FzZVN2YycsICckc3RhdGVQYXJhbXMnLCckc3RhdGUnLCckbW9kYWxJbnN0YW5jZScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIENhc2VTdmMsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCAkbW9kYWxJbnN0YW5jZSkge1xuXHRcblx0JHNjb3BlLnVzZXIgPSB7fTtcblx0JHNjb3BlLmNhc2VJbmZvID0ge1xuXHRcdGlkIDogJHN0YXRlUGFyYW1zLmlkLFxuXHRcdGVuZEF0IDogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NTS1ERCwgaDptbTpzcyBhJylcblx0fVxuXHQkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uKCl7XG5cdFx0VXNlclN2Yy5sb2dpbigkc2NvcGUudXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcblx0XHRcdENhc2VTdmMuY2xvc2VDYXNlKCRzY29wZS5jYXNlSW5mbykuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHRcdFx0JHN0YXRlLmdvKCdkdXR5RGVzay5jYXNlLmluZGV4Jyk7XG5cdFx0XHR9KVxuXHRcdH0pXG5cdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXNlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsICckbG9nJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJywgJyRsb2NhdGlvbicsXG5cdGZ1bmN0aW9uICgkc2NvcGUgLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgQ2FzZVN2YywgJGxvZywgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkbG9jYXRpb24pIHtcblxuXHQkc2NvcGUubWF4U2l6ZSA9IDU7XG5cdCRzY29wZS5pdGVtc1BlclBhZ2UgPSAxMDtcblx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcblx0XG5cdCRzY29wZS5wYWdlQ2hhbmdlZCA9IGZ1bmN0aW9uKCl7XG5cdFx0Q2FzZVN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpLCAkc2NvcGUuY3VycmVudFBhZ2UgLCAkc2NvcGUuaXRlbXNQZXJQYWdlICkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcblx0XHRcdCRzY29wZS5jYXNlcyA9IGRhdGEuY2FzZXM7XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnF1ZXJ5Q2FzZXMgPSBmdW5jdGlvbigpe1xuXHRcdENhc2VTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSwgJHNjb3BlLmN1cnJlbnRQYWdlLCAkc2NvcGUuaXRlbXNQZXJQYWdlKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0JHNjb3BlLmNhc2VzID0gZGF0YS5jYXNlcztcblx0XHRcdCRzY29wZS50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENhc2VzO1xuXHRcdH0pO1xuXHR9XG5cblx0JHNjb3BlLnF1ZXJ5Q2FzZXMoKVxuXG5cdFNvY2tldFN2Yy5vbignbmV3Q2FzZScsZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdCRzY29wZS5jYXNlcy51bnNoaWZ0KF9jYXNlKTtcblx0fSk7XG5cblx0U29ja2V0U3ZjLm9uKCdjYXNlTW9kaWZpZWQnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHQkc2NvcGUuY2FzZXNbX2Nhc2UuY2FzZUlkLTFdID0gX2Nhc2U7XG5cdH0pO1xuXG5cdCRzY29wZS5jaG9vc2UgPSBmdW5jdGlvbihpZCl7XG5cdFx0Q2FzZVN2Yy5mZXRjaEJ5SWQoJHNjb3BlLmNhc2VzW2lkXS5faWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0XHQkc2NvcGUuY2FzZURldGFpbHMgPSBfY2FzZTtcblx0XHR9KTtcblx0fTtcblxufV0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Nhc2VFZGl0Q3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdDYXNlU3ZjJywgJ0NhclN2YycsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsICckd2luZG93JywgJyRtb2RhbCcsJ050ZlN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgQ2FzZVN2YywgQ2FyU3ZjLCBVc2VyU3ZjLCBCcmFuY2hTdmMsICR3aW5kb3csICRtb2RhbCwgTnRmU3ZjICkge1xuXG5cdHZhciBkaXNwYXRjaENhcnMgPSBbXTtcblxuXHQgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIG5vd1Bvczoge1xuICAgICAgICAgICAgbGF0OiAyNC45ODgsXG4gICAgICAgICAgICBsbmc6IDEyMS41NzUyLFxuICAgICAgICAgICAgem9vbTogMTdcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbHM6IHtcbiAgICAgICAgICAgIGRyYXc6IHt9XG4gICAgICAgIH1cbiAgICB9KTtcblxuXHR2YXIgY2FzZUlkID0gJHN0YXRlUGFyYW1zLmlkO1xuXG5cdEJyYW5jaFN2Yy5mZXRjaEJ5Q29ycHMoVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0ICAgICRzY29wZS5jdXJyZW50QnJhbmNoID0gYnJhbmNoZXNbMF0ubmFtZVxuXHR9KTtcblxuXHQkc2NvcGUuc2VsZWN0QnJhbmNoID0gZnVuY3Rpb24oYnJhbmNoKXtcbiAgICBcdCRzY29wZS5jdXJyZW50QnJhbmNoID0gYnJhbmNoLm5hbWU7XG4gICAgfTtcblxuXHRCcmFuY2hTdmMuZmV0Y2hCeUNvcnBzKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHQgICAgJHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdCAgICAkc2NvcGUuY3VycmVudEJyYW5jaCA9IGJyYW5jaGVzWzBdLm5hbWVcblx0fSlcblxuXHRDYXNlU3ZjLmZldGNoQnlJZChjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdCRzY29wZS5jdXJyZW50Q2FzZSA9IF9jYXNlO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSBfLnBsdWNrKF9jYXNlLmNhcnMsICdyYWRpb0NvZGUnKS5qb2luKCcgJylcblx0XHQkc2NvcGUuY3VycmVudENhc2UuY2FySWRzID0gXy5wbHVjayhfY2FzZS5jYXJzLCdfaWQnKTtcblx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdENhclN2Yy5mZXRjaEJ5Q29ycHMoVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihjYXJzKXtcblx0XHRcdCRzY29wZS5jYXJzID0gY2Fyc1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY2Fycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoICRzY29wZS5jdXJyZW50Q2FzZS5jYXJJZHMuaW5kZXhPZigkc2NvcGUuY2Fyc1tpXS5faWQpID4gLTEgKSB7XG5cdFx0XHRcdFx0JHNjb3BlLmNhcnNbaV0uaXNDaGVja2VkID0gdHJ1ZTtcblx0XHRcdFx0XHRkaXNwYXRjaENhcnMucHVzaCgkc2NvcGUuY2Fyc1tpXSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0TnRmU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbihudGZzKXtcblx0XHRcdCRzY29wZS5udGZzID0gbnRmcztcblx0XHRcdCRzY29wZS5jdXJyZW50Q2FzZS5udGZzID0gXy5wbHVjayhudGZzLCd0eXBlJylcblx0XHRcdCRzY29wZS5jdXJyZW50Q2FzZS5udGYgID0gJHNjb3BlLmN1cnJlbnRDYXNlLm50ZnNbMF07XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGdldEJyYW5jaElkKGJyYW5jaGVzTGlzdCl7XG5cdFx0dmFyIGJyYW5jaGVzID0gXy51bmlxdWUoYnJhbmNoZXNMaXN0KTtcblx0XHR2YXIgYnJhbmNoSWRzID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChicmFuY2hlcy5pbmRleE9mKCRzY29wZS5icmFuY2hlc1tpXS5uYW1lKSA+IC0xKSB7XG5cdFx0XHRcdGJyYW5jaElkcy5wdXNoKCRzY29wZS5icmFuY2hlc1tpXS5faWQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiAgYnJhbmNoSWRzO1xuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaCA9IGZ1bmN0aW9uKCBjYXIgKXtcblx0XHRjYXIuaXNDaGVja2VkID0gdHJ1ZTsgXG5cdFx0ZGlzcGF0Y2hDYXJzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gXy5wbHVjayhkaXNwYXRjaENhcnMsICdyYWRpb0NvZGUnKS5qb2luKFwiIFwiKVxuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWxEaXNwYXRjaCA9IGZ1bmN0aW9uKGNhcil7XG5cdFx0Y2FyLmlzQ2hlY2tlZCA9IGZhbHNlO1xuXHRcdGRpc3BhdGNoQ2Fycy5zcGxpY2UoXy5wbHVjayhkaXNwYXRjaENhcnMsICdfaWQnKS5pbmRleE9mKGNhci5faWQpLDEpXG5cdFx0JHNjb3BlLmRpc3BhdGNoTGlzdCA9IF8ucGx1Y2soZGlzcGF0Y2hDYXJzLCAncmFkaW9Db2RlJykuam9pbihcIiBcIilcblx0fTtcblxuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHR2YXIgY3VycmVudE50ZjtcblxuXHRcdCRzY29wZS5udGZzLmZvckVhY2goZnVuY3Rpb24obnRmLGlkKXtcblx0XHRcdGlmIChudGYudHlwZSA9PSAkc2NvcGUuY3VycmVudENhc2UubnRmICkge1xuXHRcdFx0XHRjdXJyZW50TnRmICA9ICRzY29wZS5udGZzW2lkXTtcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0Q2FzZVN2Yy51cGRhdGUoe1xuXHRcdFx0Y2FzZUlkICAgIDogJHNjb3BlLmN1cnJlbnRDYXNlLl9pZCxcblx0XHRcdGFkZHJlc3MgICA6ICRzY29wZS5jdXJyZW50Q2FzZS5hZGRyZXNzIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRvZmZpY2VyUmVjZWl2ZXIgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgfHwgIFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY3VycmVudENhc2UudHlwZSB8fCBcIueBq+itplwiLFxuXHRcdFx0dHlwZXMgXHQgIDogJHNjb3BlLmN1cnJlbnRDYXNlLnR5cGVzLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmN1cnJlbnRDYXNlLnBob25lIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRicmFuY2hlcyAgOiBfLnVuaXF1ZShfLnBsdWNrKGRpc3BhdGNoQ2FycywgJ2JyYW5jaCcpKSxcblx0XHRcdGJyYW5jaElkcyA6IGdldEJyYW5jaElkKCRzY29wZS5jdXJyZW50Q2FzZS5icmFuY2hlcyksXG5cdCAgXHRcdGNhcnMgICAgICA6IF8ucGx1Y2soZGlzcGF0Y2hDYXJzLCdfaWQnKSxcblx0XHRcdGlzT25nb2luZyA6IHRydWUsXG5cdFx0XHRjb3JwcyBcdCAgOiBVc2VyU3ZjLnVzZXJDb3JwcygpLFxuXHRcdFx0ZW52IFx0ICA6ICRzY29wZS5jdXJyZW50Q2FzZS5lbnYsXG5cdFx0XHRlbnZzIFx0ICA6ICRzY29wZS5jdXJyZW50Q2FzZS5lbnZzLFxuXHRcdFx0Zmxvb3IgXHQgIDogJHNjb3BlLmN1cnJlbnRDYXNlLmZsb29yLFxuXHRcdFx0bnRmICAgICAgIDogY3VycmVudE50Zi5faWQsXG5cdFx0XHRsYXN0VXBkYXRlIDogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NTS1ERCBoOm1tOnNzIGEnKVxuXHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG5cdFx0fSlcblx0fTtcblxuXHQkc2NvcGUudGVybWluYXRlQ2FzZSA9IGZ1bmN0aW9uKCl7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICBcdHRlbXBsYXRlVXJsOiAndmlld3MvY2FzZS9jYXNlLmNvbmZpcm0ubW9kYWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlQ29uZmlybUN0cmwnLFxuXHRcdCAgICBzaXplOiBcIm1kXCJcdCAgICBcblx0XHR9KTtcblx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Nhc2VNb2RhbEN0cmwnLCBbJyRzY29wZScsICdDYXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnQ2FzZVN2YycsJyRzdGF0ZScsICdjYXNlSWQnLCdjYXNlRGV0YWlscycsICdTdFN2YycsICckd2luZG93JywgJ0JyYW5jaFN2YycsICdVc2VyU3ZjJywgJ050ZlN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIENhclN2YywgJG1vZGFsSW5zdGFuY2UsIENhc2VTdmMsICRzdGF0ZSwgY2FzZUlkLCBjYXNlRGV0YWlscywgU3RTdmMgLCAkd2luZG93LCBCcmFuY2hTdmMsIFVzZXJTdmMsIE50ZlN2Yykge1xuXG5cdGlmIChfLmlzRW1wdHkoY2FzZURldGFpbHMpKSB7XG5cdFx0JHNjb3BlLmlzTmV3ID0gdHJ1ZTtcblx0XHRjYXJPYmpzID0gW107XG5cblx0fWVsc2V7XG5cdFx0JHNjb3BlLmlzTmV3ID0gZmFsc2U7XG5cdFx0dmFyIGNhck9ianMgPSBjYXNlRGV0YWlscy5jYXJzO1xuXHR9O1xuXHRcblx0JHNjb3BlLm5mdE9wdGlvbiA9IHt9O1xuXG5cdE50ZlN2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24obmZ0cyl7XG5cdFx0JHNjb3BlLm5mdE9wdGlvbi5uZnRzID0gbmZ0cztcblx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdCRzY29wZS5uZnRPcHRpb24ubmZ0ID0gJHNjb3BlLm5mdE9wdGlvbi5uZnRzWzBdO1xuXHR9KVxuXG5cdEJyYW5jaFN2Yy5mZXRjaEJ5Q29ycHMoVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0fSk7XG5cblx0ZnVuY3Rpb24gZ2V0Q2Fyc0RldGFpbChvYmope1xuXHRcdHZhciBkaXNwYXRjaExpc3QgPSBbXTtcblx0XHR2YXIgY2FySWRzID0gW107XG5cdFx0dmFyIGJyYW5jaGVzID0gW107XG5cblx0XHRpZiAob2JqLmNhcnMpIHtcblx0XHRcdGZvciAodmFyIGkgPSBvYmouY2Fycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRkaXNwYXRjaExpc3QucHVzaChvYmouY2Fyc1tpXS5yYWRpb0NvZGUpO1xuXHRcdFx0XHRjYXJJZHMucHVzaChvYmouY2Fyc1tpXS5faWQpO1xuXHRcdFx0XHRicmFuY2hlcy5wdXNoKG9iai5jYXJzW2ldLmJyYW5jaCk7IFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiB7ZGlzcGF0Y2hMaXN0IDogZGlzcGF0Y2hMaXN0ICwgY2FySWRzIDogY2FySWRzICwgYnJhbmNoZXMgOiAgYnJhbmNoZXN9XG5cblx0XHR9ZWxzZXtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9O1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldEJyYW5jaElkKGJyYW5jaGVzTGlzdCl7XG5cdFx0dmFyIGJyYW5jaGVzID0gXy51bmlxdWUoYnJhbmNoZXNMaXN0KTtcblx0XHR2YXIgYnJhbmNoSWRzID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChicmFuY2hlcy5pbmRleE9mKCRzY29wZS5icmFuY2hlc1tpXS5uYW1lKSA+IC0xKSB7XG5cdFx0XHRcdGJyYW5jaElkcy5wdXNoKCRzY29wZS5icmFuY2hlc1tpXS5faWQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiAgYnJhbmNoSWRzO1xuXHR9O1xuXG5cdCRzY29wZS5jYXNlT2JqID0ge1xuXHRcdGFkZHJlc3MgOiBjYXNlRGV0YWlscy5hZGRyZXNzIHx8IG51bGwsXG5cdFx0cGhvbmUgOiBjYXNlRGV0YWlscy5waG9uZSB8fCBudWxsLFxuXHQgICAgdHlwZSA6IGNhc2VEZXRhaWxzLnR5cGUgfHwgIFwi54Gr6K2mXCIsIFxuXHQgICAgdHlwZXMgOiBbIFwi54Gr6K2mXCIsIFwi5pWR6K23XCIsIFwi54G95a6zXCIsIFwi5qqi6IiJXCIsXCLlhbbku5ZcIl0sXG5cdCAgICBlbnYgICA6IFwi5L2P5a6F54Gr6K2mXCIsXG5cdCAgICBlbnZzICA6IFtcIuS9j+WuheeBq+itplwiLFwi6auY5qiT44CB5Zyw5LiL6IiH5bel5bugXCIsXCLmkLbmlZHlm7Dpm6PljYBcIixcIuWFtuS7llwiXSxcblx0ICAgIGZsb29yIDogMSwgXG5cdCAgICBjYXJJZHMgOiBnZXRDYXJzRGV0YWlsKGNhc2VEZXRhaWxzKS5jYXJJZHMgIHx8IFtdLFxuXHQgICAgZGlzcGF0Y2hMaXN0IDogZ2V0Q2Fyc0RldGFpbChjYXNlRGV0YWlscykuZGlzcGF0Y2hMaXN0IHx8ICBbXSxcblx0ICAgIGJyYW5jaGVzIDogZ2V0Q2Fyc0RldGFpbChjYXNlRGV0YWlscykuYnJhbmNoZXMgfHwgIFtdXG5cdH07XG5cblx0JHNjb3BlLmRpc3BhdGNoTGlzdCA9ICRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5qb2luKFwiIFwiKTtcblxuXHQkc2NvcGUuZ2V0Q2FycyA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHQgQ2FyU3ZjLmZldGNoQnlCcmFuY2goYnJhbmNoLm5hbWUpLnN1Y2Nlc3MoZnVuY3Rpb24oY2Fycyl7XG5cdFx0IFx0Zm9yICh2YXIgaSA9IGNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgXHRcdGlmICgkc2NvcGUuY2FzZU9iai5jYXJJZHMuaW5kZXhPZihjYXJzW2ldLl9pZCkgPiAtMSApIHtcblx0XHQgXHRcdFx0Y2Fyc1tpXS5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHQgXHRcdH07XG5cdFx0IFx0fTtcblx0XHQgXHQkc2NvcGUuY2FycyA9IGNhcnM7XG5cdFx0IH0pO1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbERpc3BhdGNoID0gZnVuY3Rpb24oY2FyKXtcblx0XHRjYXIuaXNDaGVja2VkID0gZmFsc2U7XG5cdFx0Y2FyT2Jqcy5zcGxpY2UoY2FyT2Jqcy5pbmRleE9mKGNhciksMSlcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5faWQpLDEpO1xuXHRcdCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5zcGxpY2UoJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmluZGV4T2YoY2FyLnJhZGlvQ29kZSksMSk7XG5cdFx0JHNjb3BlLmNhc2VPYmouYnJhbmNoZXMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5icmFuY2gpLDEpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmRpc3BhdGNoID0gZnVuY3Rpb24oIGNhciApe1xuXHRcdGNhci5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHRjYXJPYmpzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMucHVzaChjYXIuX2lkKTtcblx0XHQkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QucHVzaChjYXIucmFkaW9Db2RlKTtcblx0XHQkc2NvcGUuY2FzZU9iai5icmFuY2hlcy5wdXNoKGNhci5icmFuY2gpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmNsb3NlQ2FzZSA9IGZ1bmN0aW9uKCl7XG5cdFx0U3RTdmMuY291bnQoY2FzZURldGFpbHMuX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKHRvdGFsKXtcblx0XHRcdGlmICh0b3RhbCA+IDAgKSB7XG5cdFx0XHRcdCR3aW5kb3cuYWxlcnQoXCLlsJrmnInpmorlk6HlnKjlronlhajnrqHliLZcIilcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRDYXNlU3ZjLmNsb3NlQ2FzZSh7XG5cdFx0XHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRcdFx0aXNPbmdvaW5nIDogZmFsc2Vcblx0XHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihtc2cpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG1zZylcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdFx0XHQkc3RhdGUucmVsb2FkKClcblx0XHRcdH07XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdENhc2VTdmMuY3JlYXRlKHtcblx0XHRcdGNhc2VJZCAgIDogY2FzZUlkICsgMSwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRvZmZpY2VyUmVjZWl2ZXIgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgfHwgIFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlIHx8IFwi5pWR6K23XCIsXG5cdFx0XHRwaG9uZSAgICAgOiAkc2NvcGUuY2FzZU9iai5waG9uZSB8fCBcIua4rOipplwiLFxuXHRcdFx0YnJhbmNoZXMgIDogXy51bmlxdWUoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHRcdFx0YnJhbmNoSWRzIDogZ2V0QnJhbmNoSWQoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHQgIFx0XHRjYXJzICAgICAgOiAkc2NvcGUuY2FzZU9iai5jYXJJZHMsXG5cdFx0XHRpc09uZ29pbmcgOiB0cnVlLFxuXHRcdFx0Y29ycHMgXHQgIDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRcdGVudiBcdCAgOiAkc2NvcGUuY2FzZU9iai5lbnYsXG5cdFx0XHRmbG9vciBcdCAgOiAkc2NvcGUuY2FzZU9iai5mbG9vclxuXHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24obmV3Q2FzZSl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZShuZXdDYXNlKVxuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBjb250ZW50ID0ge1xuXHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRjYXNlSWQgICA6IGNhc2VJZCwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzLFxuXHRcdFx0b2ZmaWNlclJlY2VpdmVyIDogVXNlclN2Yy5jdXJyZW50VXNlcigpIHx8IFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmNhc2VPYmoucGhvbmUsXG5cdFx0XHRicmFuY2hlcyAgOiBfLnVuaXF1ZSgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdFx0XHRicmFuY2hJZHMgOiBnZXRCcmFuY2hJZCgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdCAgXHRcdGNhcnMgICAgICA6ICRzY29wZS5jYXNlT2JqLmNhcklkcyxcblx0XHRcdGlzT25nb2luZyA6IHRydWUsXG5cdFx0XHRlbnYgXHQgIDogJHNjb3BlLmNhc2VPYmouZW52LFxuXHRcdFx0Zmxvb3IgXHQgIDogJHNjb3BlLmNhc2VPYmouZmxvb3Jcblx0XHR9O1xuXHRcdFxuXHRcdENhc2VTdmMudXBkYXRlKGNvbnRlbnQpO1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHR9O1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZU5ld0N0cmwnLCBbJyRzY29wZScsICdDYXJTdmMnLCAnQnJhbmNoU3ZjJywgJ050ZlN2YycsICdVc2VyU3ZjJywnJGxvY2F0aW9uJywnbGVhZmxldERhdGEnLCAnJHN0YXRlUGFyYW1zJywgJ0Nhc2VTdmMnLCAnJHdpbmRvdycsICckc3RhdGUnLCAnR2VvU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FyU3ZjLCBCcmFuY2hTdmMsIE50ZlN2YywgVXNlclN2YywgJGxvY2F0aW9uLGxlYWZsZXREYXRhLCAkc3RhdGVQYXJhbXMsIENhc2VTdmMsICR3aW5kb3csICRzdGF0ZSwgR2VvU3ZjKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cblx0R2VvU3ZjLmZldGNoQmFzZUxvY2F0aW9uKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24obG9jYXRpb25zKXtcblx0XHQkc2NvcGUubG9jYXRpb25zID0gbG9jYXRpb25zO1xuXHR9KTtcblxuXHR2YXIgYmF0dGxlUmFkaXVzcyA9IFtdOyBcblxuXHQkc2NvcGUubG9jYXRlQWRkcmVzcyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKCRzY29wZS5jdXJyZW50Q2FzZS5hZGRyZXNzKSB7XG5cdFx0XHRHZW9TdmMuZ2V0R2VvRW5jb2RlZEluZm8oJHNjb3BlLmN1cnJlbnRDYXNlLmFkZHJlc3MpLnRoZW4oZnVuY3Rpb24ocmVzKXtcblx0XHQgICAgICAgICRzY29wZS5ub3dQb3MubGF0ID0gcmVzLko7XG5cdFx0ICAgICAgICAkc2NvcGUubm93UG9zLmxuZyA9IHJlcy5NO1xuXHQgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5tYWluTWFya2VyID0ge1xuXHQgICAgICAgICAgICBcdGxhdDogcmVzLkosXG5cdCAgICAgICAgICAgICAgICBsbmc6IHJlcy5NLFxuXHQgICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG5cdCAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIuahiOS7tuaomeeahFwiLFxuXHQgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIGlmIChyZXMpIHtcblx0ICAgICAgICAgICAgXHQkc2NvcGUubG9jYXRpb25zLmZvckVhY2goZnVuY3Rpb24obG9jYXRpb24pe1xuXHRcdCAgICAgICAgICAgIFx0dmFyIHIgPSBHZW9TdmMuZ2V0RGlzdGFuY2UoIGxvY2F0aW9uLCB7IGxhdCA6IHJlcy5KICwgbG5nIDogcmVzLk0gfSApO1xuXHRcdCAgICAgICAgICAgIFx0dmFyIGJhdHRsZVJhZGl1cyA9ICB7IGJhc2UgOiBsb2NhdGlvbi5icmFuY2gsICB0byA6IHsgbGF0IDogcmVzLkosIGxuZyA6ICByZXMuTSB9LCBmcm9tIDogeyBsYXQgOiBsb2NhdGlvbi5sYXQsIGxuZyA6IGxvY2F0aW9uLmxuZyB9LCBkIDogciB9OyBcblx0XHQgICAgICAgICAgICBcdGJhdHRsZVJhZGl1c3MucHVzaCggSlNPTi5zdHJpbmdpZnkoYmF0dGxlUmFkaXVzKSk7XG5cdFx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH07XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9O1xuXHRcblx0dmFyIGRpc3BhdGNoQ2FycyA9IFtdO1xuXHR2YXIgbm90aWZpY2F0aW9ucztcblxuXHQkc2NvcGUuY3VycmVudENhc2UgPSB7XG5cdFx0cGhvbmUgXHQ6IG51bGwsXG5cdCAgICB0eXBlIFx0OiAn54Gr6K2mJywgXG5cdCAgICB0eXBlcyBcdDogWyAn54Gr6K2mJywgJ+aVkeittycsICfngb3lrrMnLCAn5qqi6IiJJywn5YW25LuWJ10sXG5cdCAgICBlbnYgICBcdDogJ+S9j+WuheeBq+itpicsXG5cdCAgICBlbnZzICBcdDogWyfkvY/lroXngavoraYnLCfpq5jmqJPjgIHlnLDkuIvoiIflt6Xlu6AnLCfmkLbmlZHlm7Dpm6PljYAnLCflhbbku5YnXSxcblx0ICAgIGZsb29yIFx0OiAxLCBcblx0ICAgIGNhcklkcyAgOiBbXSxcblx0ICAgIGRpc3BhdGNoTGlzdCA6IFtdLFxuXHQgICAgYnJhbmNoZXMgOiAgW10sXG5cdCAgICBsb2NhdGlvbiA6IEdlb1N2Yy5kZWZhdWx0TG9jYXRpb24oKVxuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY3VycmVudENhc2UuZGlzcGF0Y2hMaXN0LmpvaW4oJyAnKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBub3dQb3M6IHtcbiAgICAgICAgICAgIGxhdDogR2VvU3ZjLmRlZmF1bHRMb2NhdGlvbigpLmxhdCxcbiAgICAgICAgICAgIGxuZzogR2VvU3ZjLmRlZmF1bHRMb2NhdGlvbigpLmxuZyxcbiAgICAgICAgICAgIHpvb206IDE3XG4gICAgICAgIH0sXG4gICAgICAgbWFya2Vyczoge30sXG4gICAgfSk7XG4gICBcbiAgICAkc2NvcGUuc2VsZWN0QnJhbmNoID0gZnVuY3Rpb24oYnJhbmNoKXtcbiAgICBcdCRzY29wZS5jdXJyZW50QnJhbmNoID0gYnJhbmNoLm5hbWU7XG4gICAgfTtcblxuXHRCcmFuY2hTdmMuZmV0Y2hCeUNvcnBzKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHQgICAgJHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdCAgICAkc2NvcGUuY3VycmVudEJyYW5jaCA9IGJyYW5jaGVzWzBdLm5hbWVcblx0fSk7XG5cblx0Q2FyU3ZjLmZldGNoQnlDb3JwcyhVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGNhcnMpe1xuXHRcdCRzY29wZS5jYXJzID0gY2FyczsgXG5cdH0pO1xuXG5cdE50ZlN2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24obnRmcyl7XG5cdFx0bm90aWZpY2F0aW9ucyA9IG50ZnM7XG5cdFx0JHNjb3BlLmN1cnJlbnRDYXNlLm50ZnMgPSBfLnBsdWNrKG50ZnMsJ3R5cGUnKVxuXHRcdCRzY29wZS5jdXJyZW50Q2FzZS5udGYgID0gJHNjb3BlLmN1cnJlbnRDYXNlLm50ZnNbMF07XG5cdH0pO1xuXG5cdCRzY29wZS5jdXJyZW50VGltZSA9ICBtb21lbnQoKS5mb3JtYXQoJ2g6bW06c3MgYScpO1xuXG5cdCRzY29wZS5kaXNwYXRjaCA9IGZ1bmN0aW9uKCBjYXIgKXtcblx0XHRjYXIuaXNDaGVja2VkID0gdHJ1ZTsgXG5cdFx0ZGlzcGF0Y2hDYXJzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gXy5wbHVjayhkaXNwYXRjaENhcnMsICdyYWRpb0NvZGUnKS5qb2luKFwiIFwiKTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsRGlzcGF0Y2ggPSBmdW5jdGlvbihjYXIpe1xuXHRcdGNhci5pc0NoZWNrZWQgPSBmYWxzZTtcblx0XHRkaXNwYXRjaENhcnMuc3BsaWNlKF8ucGx1Y2soZGlzcGF0Y2hDYXJzLCAnX2lkJykuaW5kZXhPZihjYXIuX2lkKSwxKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gXy5wbHVjayhkaXNwYXRjaENhcnMsICdyYWRpb0NvZGUnKS5qb2luKFwiIFwiKTtcblx0XHQkc2NvcGUuZGlzcGF0Y2hMaXN0ID0gJHNjb3BlLmN1cnJlbnRDYXNlLmRpc3BhdGNoTGlzdC5qb2luKFwiIFwiKTtcblx0fTtcblxuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblxuXHRcdHZhciBjdXJyZW50TnRmO1xuXHRcdHZhciBicmFuY2hlcyAgPSBfLnVuaXF1ZShfLnBsdWNrKGRpc3BhdGNoQ2FycywgJ2JyYW5jaCcpKTtcblx0XHR2YXIgZGlzcGF0Y2ggPSAkc2NvcGUuYnJhbmNoZXMuZmlsdGVyKGZ1bmN0aW9uKGJyYW5jaCkgeyByZXR1cm4gYnJhbmNoZXMuaW5kZXhPZihicmFuY2gubmFtZSkgPiAtMSB9KTtcblxuXHRcdG5vdGlmaWNhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihudGYsaWQpe1xuXHRcdFx0aWYgKG50Zi50eXBlID09ICRzY29wZS5jdXJyZW50Q2FzZS5udGYgKXtcblx0XHRcdFx0Y3VycmVudE50ZiAgPSBub3RpZmljYXRpb25zW2lkXVxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdENhc2VTdmMuY3JlYXRlKHtcblx0XHRcdG9mZmljZXJSZWNlaXZlciA6IFVzZXJTdmMuY3VycmVudFVzZXIoKSB8fCAgJ+WKieabieabvCcsXG5cdFx0XHR0eXBlICAgICAgXHRcdDogJHNjb3BlLmN1cnJlbnRDYXNlLnR5cGUgfHwgJ+eBq+itpicsXG5cdFx0XHR0eXBlcyBcdCAgXHRcdDogJHNjb3BlLmN1cnJlbnRDYXNlLnR5cGVzLFxuXHRcdFx0cGhvbmUgICAgIFx0XHQ6ICRzY29wZS5jdXJyZW50Q2FzZS5waG9uZSB8fCAn5ris6KmmJyxcblx0XHRcdGJyYW5jaGVzICBcdFx0OiBfLnVuaXF1ZShfLnBsdWNrKGRpc3BhdGNoQ2FycywgJ2JyYW5jaCcpKSxcblx0XHRcdGJyYW5jaElkcyBcdFx0OiBfLnBsdWNrKGRpc3BhdGNoLCAnX2lkJyksXG5cdCAgXHRcdGNhcnMgICAgICBcdFx0OiBfLnBsdWNrKGRpc3BhdGNoQ2FycywnX2lkJyksXG5cdFx0XHRjb3JwcyBcdCAgXHRcdDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRcdGVudiBcdCAgXHRcdDogJHNjb3BlLmN1cnJlbnRDYXNlLmVudixcblx0XHRcdGVudnMgXHQgIFx0XHQ6ICRzY29wZS5jdXJyZW50Q2FzZS5lbnZzLFxuXHRcdFx0Zmxvb3IgXHQgIFx0XHQ6ICRzY29wZS5jdXJyZW50Q2FzZS5mbG9vcixcblx0XHRcdG50ZiAgICAgICBcdFx0OiBjdXJyZW50TnRmLl9pZCxcblx0XHRcdGNyZWF0ZUF0ICBcdFx0OiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU1NLURELCBoOm1tOnNzIGEnKSxcblx0XHRcdGxhc3RVcGRhdGUgXHRcdDogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NTS1ERCwgaDptbTpzcyBhJyksXG5cdFx0XHRsb2NhdGlvbiAgXHRcdDogIHtcblx0XHRcdFx0bGF0IFx0OiAkc2NvcGUuY3VycmVudENhc2UubG9jYXRpb24ubGF0LFxuXHRcdFx0XHRsbmcgXHQ6ICRzY29wZS5jdXJyZW50Q2FzZS5sb2NhdGlvbi5sbmcsXG5cdFx0XHRcdGFkZHJlc3MgOiAkc2NvcGUuY3VycmVudENhc2UubG9jYXRpb24uYWRkcmVzcyB8fCAn5ris6KmmJ1xuXHRcdFx0fSxcblx0XHRcdGJhdHRsZVJhZGl1c3MgXHQ6IGJhdHRsZVJhZGl1c3Ncblx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKCl7XG5cdFx0XHQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuXHRcdH0pO1xuXHR9O1xufV0pIiwiXG5cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZVNob3dDdHJsJywgWyckc2NvcGUnLCAnU3RTdmMnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnZhbCcsICckc3RhdGUnLCAnU29ja2V0U3ZjJywgJ0Nhc2VTdmMnLCAnQnJhbmNoU3ZjJywgJ1N0TWlzc2lvbkZhYycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFN0U3ZjLCAkc3RhdGVQYXJhbXMsICRpbnRlcnZhbCwgJHN0YXRlLCBTb2NrZXRTdmMsIENhc2VTdmMsIEJyYW5jaFN2YywgU3RNaXNzaW9uRmFjKSB7XG5cdFx0JHNjb3BlLmlzQ29sbGFwc2VkID0gdHJ1ZSA7XG5cdFx0JHNjb3BlLm1lbWJlcnMgPSBbXTtcblx0XHQkc2NvcGUucG9zaXRpb25zID0gU3RNaXNzaW9uRmFjLnBvc2l0aW9uKCkucG9zcztcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoIGFuZ3VsYXIuZXF1YWxzKGNhc2VJZCxzdC5jYXNlSWQpKSB7XG5cdFx0XHRcdHZhciBuZXdTdCA9IGFuZ3VsYXIuY29weShzdCk7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKG5ld1N0KTtcblx0XHRcdH07XG5cdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0JHNjb3BlLmRlcGxveURldGFpbHMgPSBpbml0RGVwbG95KCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ3VwZGF0ZVN0JywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZShjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMgPSBzdHJpa2VUZWFtcztcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRcdHN0LmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihzdC53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHRcdFx0JHNjb3BlLmRlcGxveURldGFpbHMgPSBpbml0RGVwbG95KCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblxuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdFN0U3ZjLmZldGNoQnlDYXNlKGNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyBcdCA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95cyBcdFx0ID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lEZXRhaWxzID0gaW5pdERlcGxveSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdHZhciBjYXNlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XG5cdFx0Q2FzZVN2Yy5mZXRjaERldGFpbHMoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdF9jYXNlLmVudiA9PSAn5L2P5a6F54Gr6K2mJyA/ICRzY29wZS5hcGFydG1lbnQgPSB0cnVlIDogJHNjb3BlLmFwYXJ0bWVudCA9IGZhbHNlO1xuXHRcdFx0JHNjb3BlLmNhc2VEZXRhaWwgPSBfY2FzZTtcblx0XHRcdCRzY29wZS5wb3NpdGlvbiA9IHtcblx0XHRcdFx0ZGVmYXVsdFBvcyBcdDogXCLnrKzkuIDpnaJcIixcblx0XHRcdFx0cG9zaXRpb25zIFx0OiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl0sXG5cdFx0XHRcdGZsb29yIFx0XHQ6ICRzY29wZS5jYXNlRGV0YWlsLmZsb29yLFxuXHRcdFx0XHRmbG9vcnMgIFx0OiAkc2NvcGUuY2FzZURldGFpbC5mbG9vciA8IDU/IF8ucmFuZ2UoMSw2LDEpIDogXy5yYW5nZSgkc2NvcGUuY2FzZURldGFpbC5mbG9vci0yLCRzY29wZS5jYXNlRGV0YWlsLmZsb29yKzMsMSlcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZShjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0aWYgKHN0cmlrZVRlYW1zKSB7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMuZm9yRWFjaChmdW5jdGlvbihzdCl7XG5cdFx0XHRcdFx0c3QubGltaXRUaW1lID0gbW9tZW50LmR1cmF0aW9uKHN0LndvcmtpbmdUaW1lLCdzZWNvbmRzJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95RGV0YWlscyA9aW5pdERlcGxveSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0XHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBcblx0XHRcdH07XG5cdFx0fSk7XG5cblxuXHRcdHZhciBpbml0RGVwbG95ID0gZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0cmV0dXJuICBfLmdyb3VwQnkoc3RyaWtlVGVhbXMsZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRcdHJldHVybiBzdC5wb3NpdGlvbjtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR2YXIgaW5pdFRhYmxlID0gIGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHQgIFx0dmFyIGRlcGxveUFycmF5ID0gXy5yYW5nZSg0KS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgcmV0dXJuIF8ucmFuZ2UoNSkubWFwKGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAgICAgICByZXR1cm4geyB0b3RhbE1lbWJlciA6IDAsIHN0VG90YWwgOiAwICwgc3RzIDogW10gfSA7XG5cdFx0ICAgICAgICB9KTtcblx0XHQgICAgfSk7XG5cblx0XHRcdGlmICggc3RyaWtlVGVhbXMgKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0dmFyIHRvdGFsTWVtYmVyID0gMDtcblx0XHRcdFx0XHR2YXIgeSA9IG51bGw7XG5cdFx0XHRcdFx0dmFyIHN0ID0gMDtcblx0XHRcdFx0XHR2YXIgeCA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5wb3NpdGlvbnMsIHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9uKTtcblx0XHRcdFx0XHQkc2NvcGUuYXBhcnRtZW50ID8geSA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5mbG9vcnMsIHN0cmlrZVRlYW1zW2ldLmZsb29yKSA6IHkgPSBfLmluZGV4T2Yoc3RyaWtlVGVhbXNbaV0uYXJlYXMsIHN0cmlrZVRlYW1zW2ldLmFyZWEpXG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0uc3RUb3RhbCArPSAxO1xuXHRcdFx0XHRcdGRlcGxveUFycmF5W3hdW3ldLnRvdGFsTWVtYmVyICs9IHN0cmlrZVRlYW1zW2ldLm1lbWJlcnMubGVuZ3RoO1xuXHRcdFx0XHRcdHZhciBzdEluRm8gPSB7fTtcblx0XHRcdFx0XHRzdEluRm8uaWQgPSBzdHJpa2VUZWFtc1tpXS5icmFuY2ggKyBzdHJpa2VUZWFtc1tpXS5pZFxuXHRcdFx0XHRcdHN0SW5Gby5udW1iZXIgPSBzdHJpa2VUZWFtc1tpXS5tZW1iZXJzLmxlbmd0aDtcblx0XHRcdFx0XHRzdEluRm8uZ3JvdXAgPSBzdHJpa2VUZWFtc1tpXS5ncm91cDtcblx0XHRcdFx0XHRkZXBsb3lBcnJheVt4XVt5XS5zdHMucHVzaChzdEluRm8pO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRlcGxveUFycmF5XG5cdFx0fTtcblx0XHRcblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0Nhc2VTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY29ycHMsIHBhZ2UsIGl0ZW1zUGVyUGFnZSl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcz9jb3Jwcz0nICsgY29ycHMgKyAnJnBhZ2U9JyArIHBhZ2UgKyAnJmlwcD0nICsgaXRlbXNQZXJQYWdlICk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEFsbCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9kZXRhaWxzJyk7XG5cdH07XG5cblx0dGhpcy5mZXRjaFJlbGF0aXZlQ2FzZSA9IGZ1bmN0aW9uKGNvbil7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9icmFuY2g/YnJhbmNoPScgKyBjb24uYnJhbmNoICsgJyZhY2Nlc3NMZXZlbD0nICsgY29uLmFjY2Vzc0xldmVsICsgJyZjb3Jwcz0nICsgY29uLmNvcnBzICk7XG5cdH1cblxuXHR0aGlzLmZldGNoRGV0YWlscyA9IGZ1bmN0aW9uKCBjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvZGV0YWlscy8nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQnlJZCA9IGZ1bmN0aW9uKCBjYXNlSWQgKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Nhc2VzLycgKyBjYXNlSWQgKTtcblx0fTtcblxuXHR0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhc2VfaW5mbyl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY2FzZXMnLCBjYXNlX2luZm8pO1xuXHR9O1xuXG5cdHRoaXMuZGVsZXRlID0gZnVuY3Rpb24oY2FzZUlkKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jYXNlcy8nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKHVwZGF0ZWRfY2FzZSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXNlcy8nICsgdXBkYXRlZF9jYXNlLmNhc2VJZCAsIHVwZGF0ZWRfY2FzZSk7XG5cdH07XG5cblx0dGhpcy5jbG9zZUNhc2UgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2Nhc2VzL2Nsb3NlP2lkPScgKyBkYXRhLmlkLCBkYXRhIClcblx0fVxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRGFzaGJvYXJkQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsICdCcmFuY2hTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIFNvY2tldFN2YywgVXNlclN2YywgQnJhbmNoU3ZjKSB7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2hCeUNvcnBzKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdFx0fSk7XG5cblx0XHRVc2VyU3ZjLmZldGNoT25saW5lVXNlcigpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gdXNlcnM7XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ2luJyxmdW5jdGlvbih1c2VyKXtcblx0XHRcdCRzY29wZS51c2Vycy5wdXNoKHVzZXIpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyRGlzY29ubmVjdCcsZnVuY3Rpb24oZGlzY29ubmVjdFVzZXIpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gJHNjb3BlLnVzZXJzLmZpbHRlcihmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRcdHJldHVybiB1c2VyLnVzZXJuYW1lICE9IGRpc2Nvbm5lY3RVc2VyLnVzZXJuYW1lXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ291dCcsZnVuY3Rpb24obG9nb3V0VXNlcil7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSAkc2NvcGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0cmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gbG9nb3V0VXNlci51c2VybmFtZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xuXG5cdCAgICBcblxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cblxuXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmRpcmVjdGl2ZSgnbWluaW1hbGl6YVNpZGViYXInLCBbICckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCkge1xuXHRyZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxhIGNsYXNzPVwibmF2YmFyLW1pbmltYWxpemUgbWluaW1hbGl6ZS1zdHlsLTIgYnRuIGJ0bi1wcmltYXJ5XCIgaHJlZj1cIlwiIG5nLWNsaWNrPVwibWluaW1hbGl6ZSgpXCI+PGkgY2xhc3M9XCJmYSBmYS1iYXJzXCI+PC9pPjwvYT4nLFxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCkge1xuICAgICAgICAgICAgJHNjb3BlLm1pbmltYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJtaW5pLW5hdmJhclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoISQoJ2JvZHknKS5oYXNDbGFzcygnbWluaS1uYXZiYXInKSB8fCAkKCdib2R5JykuaGFzQ2xhc3MoJ2JvZHktc21hbGwnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIG1lbnUgaW4gb3JkZXIgdG8gc21vb3RobHkgdHVybiBvbiB3aGVuIG1heGltaXplIG1lbnVcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHNtb290aGx5IHR1cm4gb24gbWVudVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ2ZpeGVkLXNpZGViYXInKSl7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGlubGluZSBzdHlsZSBmcm9tIGpxdWVyeSBmYWRlSW4gZnVuY3Rpb24gdG8gcmVzZXQgbWVudSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XSlcblxuLmRpcmVjdGl2ZSgnc2lkZU5hdmlnYXRpb24nLCBbICckdGltZW91dCcsIGZ1bmN0aW9uKCAkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBtZXRzaU1lbnUgcGx1Z2luIGFuZCBwbHVnIGl0IHRvIHNpZGViYXIgbmF2aWdhdGlvblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm1ldGlzTWVudSgpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnaWJveFRvb2xzJywgWyAnJHRpbWVvdXQnLGZ1bmN0aW9uICgkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbW1vbi9pYm94X3Rvb2xzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCkge1xuICAgICAgICAgICAgLy8gRnVuY3Rpb24gZm9yIGNvbGxhcHNlIGlib3hcbiAgICAgICAgICAgICRzY29wZS5zaG93aGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWJveCA9ICRlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5pYm94Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGljb24gPSAkZWxlbWVudC5maW5kKCdpOmZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBpYm94LmZpbmQoJ2Rpdi5pYm94LWNvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICBjb250ZW50LnNsaWRlVG9nZ2xlKDIwMCk7XG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIGljb24gZnJvbSB1cCB0byBkb3duXG4gICAgICAgICAgICAgICAgaWNvbi50b2dnbGVDbGFzcygnZmEtY2hldnJvbi11cCcpLnRvZ2dsZUNsYXNzKCdmYS1jaGV2cm9uLWRvd24nKTtcbiAgICAgICAgICAgICAgICBpYm94LnRvZ2dsZUNsYXNzKCcnKS50b2dnbGVDbGFzcygnYm9yZGVyLWJvdHRvbScpO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWJveC5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWJveC5maW5kKCdbaWRePW1hcC1dJykucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbiBmb3IgY2xvc2UgaWJveFxuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZWJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlib3ggPSAkZWxlbWVudC5jbG9zZXN0KCdkaXYuaWJveCcpO1xuICAgICAgICAgICAgICAgICAgICBpYm94LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnYmFjaycsIFsnJHdpbmRvdycgLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgaUVsZW1lbnQsIGlBdHRycykge1xuICAgICAgICAgICAgaUVsZW1lbnQuYmluZCgnY2xpY2snLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9O1xufV0pXG4iLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdEaXJEdXR5TGlzdEN0cmwnLCBbJyRzY29wZScsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsIFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjLCBCcmFuY2hTdmMpIHtcblxuXHRcdHZhciBicmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblx0XHRcblx0XHRCcmFuY2hTdmMuZmV0Y2hCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0XHQkc2NvcGUuYnJhbmNoID0gYnJhbmNoO1xuXHRcdFx0JHNjb3BlLm9uRHV0eVRvdGFsID0gJHNjb3BlLmJyYW5jaC5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIG1lbWJlci5vbkR1dHkgPT0gdHJ1ZSBcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0RpckR1dHlMaXN0RWRpdEN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnJHN0YXRlUGFyYW1zJywnTWVtYmVyU3ZjJywgJyRsb2NhdGlvbicsICckd2luZG93JywgJ1VzZXJTdmMnLCAnQ2FyU3ZjJywgJ1N0TWlzc2lvbkZhYycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIEJyYW5jaFN2YywgJHN0YXRlUGFyYW1zLCBNZW1iZXJTdmMsICRsb2NhdGlvbiwgJHdpbmRvdywgVXNlclN2YywgQ2FyU3ZjLCBTdE1pc3Npb25GYWMpIHtcblxuXHRcdHZhciBicmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblxuXHRcdEJyYW5jaFN2Yy5mZXRjaEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdCRzY29wZS5icmFuY2ggPSBicmFuY2g7XG5cdFx0XHQkc2NvcGUuaXNDb3JwcyA9ICB0cnVlID8gYnJhbmNoLm5hbWUuc3BsaXQoXCLmlZHngb3mlZHorbdcIilbMV0gOiBmYWxzZSBcblx0XHRcdHZhciBtZW1iZXJzID0gXy5wbHVjayhicmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7IHJldHVybiBtZW1iZXIubGV2ZWwgPCAyLjQgfSksICduYW1lJylcblx0XHRcdCRzY29wZS5icmFuY2guc2FmZXR5TWFuYWdlciBcdD0gYnJhbmNoLnNhZmV0eU1hbmFnZXI7XG5cdFx0XHQkc2NvcGUuYnJhbmNoLnNhZmV0eU1hbmFnZXJzIFx0PSBtZW1iZXJzO1xuXHRcdFx0JHNjb3BlLm9uRHV0eVRvdGFsID0gMDtcblx0XHRcdF8ubWFwKCRzY29wZS5icmFuY2gubWVtYmVycyxmdW5jdGlvbihtZW1iZXIpeyBcblx0XHRcdFx0bWVtYmVyLmdyb3VwSWRzID0gXy5yYW5nZSgxLE1hdGgucm91bmQoJHNjb3BlLmJyYW5jaC5tZW1iZXJzLmxlbmd0aC82KSwxKTtcblx0XHRcdFx0bWVtYmVyLmdyb3VwSUQgPSBtZW1iZXIuZ3JvdXAgKyBtZW1iZXIuZ3JvdXBJZCBcblx0XHRcdH0pXG5cdFx0fSlcblxuXHRcdCRzY29wZS5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRtZW1iZXIub25EdXR5ID0gIW1lbWJlci5vbkR1dHk7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0XHRtZW1iZXIuZ3JvdXBJRCA9IG1lbWJlci5ncm91cCArIG1lbWJlci5ncm91cElkXG5cdFx0fTtcblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblxuXHRcdFx0dmFyIERpc3BhdGNoTnVtYmVyID0gJHNjb3BlLmJyYW5jaC5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIG1lbWJlci5vbkR1dHlcblx0XHRcdH0pO1xuXG5cdFx0XHRCcmFuY2hTdmMudXBkYXRlTWlzc2lvbih7XG5cdFx0XHRcdGJyYW5jaCAgIFx0XHQ6ICRzY29wZS5icmFuY2gubmFtZSxcblx0XHRcdFx0ZGlyZWN0b3IgXHRcdDogJHNjb3BlLmJyYW5jaC5kaXJlY3Rvcixcblx0XHRcdFx0ZGlzcGF0Y2hOdW0gXHQ6IERpc3BhdGNoTnVtYmVyLmxlbmd0aCxcblx0XHRcdFx0c2FmZXR5TWFuYWdlciBcdDogJHNjb3BlLmJyYW5jaC5zYWZldHlNYW5hZ2VyLFxuXHRcdFx0XHRtZW1iZXJzIFx0XHQ6ICRzY29wZS5icmFuY2gubWVtYmVyc1xuXHRcdFx0fSk7XG5cdFx0XHQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuXHRcdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdEaXNwYXRjaEN0cmwnLCBbJyRzY29wZScsJyRzdGF0ZVBhcmFtcycsJyRtb2RhbCcsJ0Nhc2VTdmMnLCdCcmFuY2hTdmMnLCAnQ2FyU3ZjJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlICwgJHN0YXRlUGFyYW1zLCAkbW9kYWwsIENhc2VTdmMsIEJyYW5jaFN2YywgQ2FyU3ZjLCBVc2VyU3ZjKSB7XG5cblx0Q2FzZVN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGNhc2VzKXtcblx0XHQkc2NvcGUuY2FzZXMgPSBjYXNlcztcblx0XHRDYXNlU3ZjLmZldGNoQnlJZCgkc2NvcGUuY2FzZXNbJHN0YXRlUGFyYW1zLmNhc2VJZF0uX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdFx0JHNjb3BlLmNhc2VEZXRhaWxzID0gX2Nhc2Vcblx0XHR9KVxuXHR9KVxuXG5cdEJyYW5jaFN2Yy5mZXRjaEJ5Q29ycHMoVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoTGlzdCA9IGJyYW5jaGVzO1xuXG5cdCB9KVxuXG5cdENhclN2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG5cdCAgICAkc2NvcGUuY2Fyc0RhdGEgPSBkYXRhXG5cdH0pXG5cblx0JHNjb3BlLmFkZE5ld0Nhc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvY2FzZVBhbmVsL2Nhc2VBZGRNb2RhbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlQWRkTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmlkID0gXCLmlrDlop7moYjku7ZcIlxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0YnJhbmNoTGlzdCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmJyYW5jaExpc3Rcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhcnNEYXRhIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2Fyc0RhdGFcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGlzTmV3IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiB0cnVlXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4ge31cblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oKXtcblx0IFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Nhc2VQYW5lbC9jYXNlQWRkTW9kYWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZUFkZE1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5pZCA9ICRzY29wZS5jYXNlc1skc3RhdGVQYXJhbXMuY2FzZUlkXS5jYXNlSWQgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRicmFuY2hMaXN0IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuYnJhbmNoTGlzdFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2Fyc0RhdGEgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5jYXJzRGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdCAgICBcdFx0XHRmb3IgKHZhciBqID0gJHNjb3BlLmNhc2VEZXRhaWxzLmNhcnMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcblx0XHQgICAgXHRcdFx0XHRpZiAoICRzY29wZS5jYXJzRGF0YVtpXS5yYWRpb0NvZGUgPT09ICRzY29wZS5jYXNlRGV0YWlscy5jYXJzW2pdLnJhZGlvX2NvZGUpIHtcblx0XHQgICAgXHRcdFx0XHRcdCRzY29wZS5jYXJzRGF0YVtpXS5pc0NoZWNrZWQgPSB0cnVlIFxuXHRcdCAgICBcdFx0XHRcdH07XG5cdFx0ICAgIFx0XHRcdH07XHRcdCAgICBcdFx0XHRcblx0XHQgICAgXHRcdH07XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhcnNEYXRhXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRpc05ldyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gZmFsc2UgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhc2VEZXRhaWxzXG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0IH07XG5cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0R1dHlMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnJHEnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkcSkge1xuXG5cdFx0dmFyIGJyYW5jaElkID0gJHN0YXRlUGFyYW1zLmJyYW5jaDtcblx0XHRCcmFuY2hTdmMudG90YWxMaXN0RmluZEJ5TmFtZShicmFuY2hJZCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9ICRzY29wZS5icmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIub25EdXR5ID09IHRydWVcblx0XHRcdH0pO1xuXHRcdH0pO1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRHV0eUxpc3RFZGl0Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCdNZW1iZXJTdmMnLCAnJGxvY2F0aW9uJywgJyR3aW5kb3cnLCAnVXNlclN2YycsICdDYXJTdmMnLCAnU3RNaXNzaW9uRmFjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsIE1lbWJlclN2YywgJGxvY2F0aW9uLCAkd2luZG93LCBVc2VyU3ZjLCBDYXJTdmMsIFN0TWlzc2lvbkZhYykge1xuXG5cdFx0dmFyIGJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2hcblxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5pc0NvcnBzID0gIHRydWUgPyBicmFuY2gubmFtZS5zcGxpdChcIuaVkeeBveaVkeitt1wiKVsxXSA6IGZhbHNlIFxuXHRcdFx0dmFyIG1lbWJlcnMgPSBfLnBsdWNrKGJyYW5jaC5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHsgcmV0dXJuIG1lbWJlci5sZXZlbCA8IDIuNCB9KSwgJ25hbWUnKVxuXHRcdFx0JHNjb3BlLmJyYW5jaC5zYWZldHlNYW5hZ2VyIFx0PSBicmFuY2guc2FmZXR5TWFuYWdlcjtcblx0XHRcdCRzY29wZS5icmFuY2guc2FmZXR5TWFuYWdlcnMgXHQ9IG1lbWJlcnM7XG5cdFx0XHQkc2NvcGUub25EdXR5VG90YWwgPSAwO1xuXHRcdFx0Xy5tYXAoJHNjb3BlLmJyYW5jaC5tZW1iZXJzLGZ1bmN0aW9uKG1lbWJlcil7IFxuXHRcdFx0XHRtZW1iZXIuZ3JvdXBJZHMgPSBfLnJhbmdlKDEsTWF0aC5yb3VuZCgkc2NvcGUuYnJhbmNoLm1lbWJlcnMubGVuZ3RoLzYpLDEpO1xuXHRcdFx0XHRtZW1iZXIuZ3JvdXBJRCA9IG1lbWJlci5ncm91cCArIG1lbWJlci5ncm91cElkIFxuXHRcdFx0fSlcblx0XHR9KVxuXG5cdFx0JHNjb3BlLmNoZWNrID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdG1lbWJlci5vbkR1dHkgPSAhbWVtYmVyLm9uRHV0eTtcblx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSAhbWVtYmVyLmlzQ2hlY2tlZDtcblx0XHRcdG1lbWJlci5ncm91cElEID0gbWVtYmVyLmdyb3VwICsgbWVtYmVyLmdyb3VwSWRcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gdmFyIGJyYW5jaEdyb3VwcyA9ICBfLmdyb3VwQnkoJHNjb3BlLmJyYW5jaC5tZW1iZXJzLGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHQvLyBcdG1lbWJlci5ncm91cElEID0gbWVtYmVyLmdyb3VwICsgbWVtYmVyLmdyb3VwSWQ7XG5cdFx0XHQvLyBcdC8vIG1lbWJlci5pc0NoZWNrZWQgPSB0cnVlO1xuXHRcdFx0Ly8gXHRpZiAobWVtYmVyLm9uRHV0eSkgeyByZXR1cm4gbWVtYmVyLmdyb3VwSUQgfSBlbHNlIHsgcmV0dXJuICdvZmZEdXR5JyB9O1xuXHRcdFx0Ly8gfSk7XG5cdFx0XHQvLyBkZWxldGUgYnJhbmNoR3JvdXBzWydvZmZEdXR5J107IFxuXG5cdFx0IC8vICAgIHZhciBwcmVTdHJpa2VUZWFtcyAgPSBbXTtcblx0XHQgLy8gICAgdmFyIHN0cmlrZVRlYW1NZW1iZXJzID0gW107XG5cdFx0IC8vICAgIHZhciBjb250cm9sTGlzdCA9IFN0TWlzc2lvbkZhYy5ncm91cHMoKS5wcmVTdDsgXG5cdFx0IC8vICAgIGZvciAodmFyIGtleSBpbiBicmFuY2hHcm91cHMpIHtcblx0XHQgLy8gICAgXHR2YXIgc3RyaWtlVGVhbSA9IHtcblx0XHQgLy8gICAgICBcdFx0Y2FzZUlkICAgICAgOiAncGVuZGluZycsXG5cdFx0IC8vICAgICAgXHRcdGJyYW5jaCAgICAgIDogYnJhbmNoLFxuXHRcdCAvLyAgICAgIFx0XHRkaXJlY3RvciAgICA6ICRzY29wZS5icmFuY2guZGlyZWN0b3IsXG5cdFx0IC8vICAgICAgXHRcdHBvc2l0aW9uICAgIDogU3RNaXNzaW9uRmFjLnBvc2l0aW9uKCkuZGVmYXVsdFBvcyxcblx0XHQgLy8gICAgICBcdFx0cG9zaXRpb25zICAgOiBTdE1pc3Npb25GYWMucG9zaXRpb24oKS5wb3NzLFxuXHRcdCAvLyAgICAgIFx0XHRncm91cHMgICAgICA6IFN0TWlzc2lvbkZhYy5ncm91cHMoKS5icmFuY2gsIFxuXHRcdCAvLyAgICAgIFx0XHRhcmVhIFx0XHQ6IFN0TWlzc2lvbkZhYy5hcmVhKCkuZGVmYXVsdEFyZWEsXG5cdFx0IC8vICAgICAgXHRcdGFyZWFzIFx0XHQ6IFN0TWlzc2lvbkZhYy5hcmVhKCkuYXJlYXMsXG5cdFx0IC8vICAgICAgXHRcdGZsb29yIFx0XHQ6IDEsXG5cdFx0IC8vICAgICAgXHRcdGZsb29ycyBcdFx0OiBbMV0sXG5cdFx0IC8vICAgICAgXHRcdGNyZWF0b3IgXHQ6IFVzZXJTdmMuY3VycmVudFVzZXIoKSBcdFxuXHRcdFx0Ly8gICAgICB9O1xuXHRcdCAgICBcdFxuXHRcdFx0Ly8gICAgIGlmICggY29udHJvbExpc3QuaW5kZXhPZihrZXkuc2xpY2UoMCwga2V5Lmxlbmd0aC0xICkpID4gLTEgKSB7XG5cdFx0XHQgICAgXG5cdFx0XHQvLyBcdFx0c3RyaWtlVGVhbS5tZW1iZXJzID0gXy5wbHVjayhicmFuY2hHcm91cHNba2V5XSwnX2lkJyk7XG5cdFx0XHQvLyBcdFx0c3RyaWtlVGVhbS5ncm91cCA9IGtleTtcblx0XHRcdC8vIFx0XHRzdHJpa2VUZWFtLndvcmtpbmdUaW1lID0gXy5taW4oYnJhbmNoR3JvdXBzW2tleV0sIGZ1bmN0aW9uKG1lbWJlcil7IHJldHVybiBtZW1iZXIud29ya2luZ1RpbWUgfSkud29ya2luZ1RpbWU7XG5cdFx0XHQvLyBcdFx0cHJlU3RyaWtlVGVhbXMucHVzaChzdHJpa2VUZWFtKVxuXHRcdFx0Ly8gXHRcdHN0cmlrZVRlYW1NZW1iZXJzLnB1c2guYXBwbHkoc3RyaWtlVGVhbU1lbWJlcnMsc3RyaWtlVGVhbS5tZW1iZXJzKVxuXHRcdFx0Ly8gXHR9O1xuXHRcdCAvLyAgICB9O1xuXG5cdFx0XHR2YXIgRGlzcGF0Y2hOdW1iZXIgPSAkc2NvcGUuYnJhbmNoLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdFx0XHRyZXR1cm4gbWVtYmVyLm9uRHV0eVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vICRzY29wZS5icmFuY2gubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHQvLyBcdG1lbWJlci5pc0NoZWNrZWQgPSB0cnVlID8gc3RyaWtlVGVhbU1lbWJlcnMuaW5kZXhPZihtZW1iZXIuX2lkKSA+IC0xIDogZmFsc2Vcblx0XHRcdC8vIH0pO1xuXHRcdFx0XG5cdFx0XHRCcmFuY2hTdmMudXBkYXRlTWlzc2lvbih7XG5cdFx0XHRcdGJyYW5jaCAgIFx0XHQ6ICRzY29wZS5icmFuY2gubmFtZSxcblx0XHRcdFx0ZGlyZWN0b3IgXHRcdDogJHNjb3BlLmJyYW5jaC5kaXJlY3Rvcixcblx0XHRcdFx0ZGlzcGF0Y2hOdW0gXHQ6IERpc3BhdGNoTnVtYmVyLmxlbmd0aCxcblx0XHRcdFx0c2FmZXR5TWFuYWdlciBcdDogJHNjb3BlLmJyYW5jaC5zYWZldHlNYW5hZ2VyLFxuXHRcdFx0XHRtZW1iZXJzIFx0XHQ6ICRzY29wZS5icmFuY2gubWVtYmVyc1xuXHRcdFx0fSk7XG5cdFx0XHQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuXHRcdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdHZW9TdmMnLCBbICckcScsICckaHR0cCcsXG5cdGZ1bmN0aW9uICggJHEgLCAkaHR0cCkge1xuXG5cdHRoaXMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgICAgICAgZnVuY3Rpb24ocG9zaXRpb24pIHsgZGVmZXJyZWQucmVzb2x2ZShwb3NpdGlvbi5jb29yZHMpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsgZGVmZXJyZWQucmVzb2x2ZShudWxsKTsgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRHZW9FbmNvZGVkSW5mbyA9IGZ1bmN0aW9uKGFkZHJlc3Mpe1xuICAgIFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICBcdC8vIHJldHVybiAkaHR0cC5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24/YWRkcmVzcz0nKyBhZGRyZXNzICsnJmtleT1BSXphU3lBeHEtWmt4UnIxWkFyQlhGRE9vOHhnaTRDbDJQZWl0QW8nKVxuICAgIFx0dmFyIGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gICAgXHRpZiAoZ2VvY29kZXIpIHtcblx0ICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7ICdhZGRyZXNzJzogYWRkcmVzcyB9LCBmdW5jdGlvbiAocmVzdWx0cywgc3RhdHVzKSB7XG5cdCAgICAgICAgIGlmIChzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuT0spIHtcblx0ICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uKSBcblx0ICAgICAgICAgfVxuXHQgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSggXCJHZW9jb2RpbmcgZmFpbGVkOiBcIiArIHN0YXR1cyApXG5cdCAgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgIH0gXG5cdCAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlOyAgXG4gICAgfTtcblxuICAgIHRoaXMuZmV0Y2hCYXNlTG9jYXRpb24gPSBmdW5jdGlvbihjb3Jwcyl7XG4gICAgXHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dlb2xvY2F0aW9ucz9jb3Jwcz0nICsgY29ycHMpXG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiggZnJvbV9sb2MgLCB0b19sb2MgKXtcblxuICAgIFx0aWYgKHR5cGVvZihOdW1iZXIucHJvdG90eXBlLnRvUmFkKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdCAgTnVtYmVyLnByb3RvdHlwZS50b1JhZCA9IGZ1bmN0aW9uKCkge1xuXHRcdCAgICByZXR1cm4gdGhpcyAqIE1hdGguUEkgLyAxODA7XG5cdFx0ICB9XG5cdFx0fVxuXHRcdHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxuXHRcdHZhciBkTGF0ID0gKHRvX2xvYy5sYXQgLSBmcm9tX2xvYy5sYXQgKS50b1JhZCgpOyAgLy8gSmF2YXNjcmlwdCBmdW5jdGlvbnMgaW4gcmFkaWFuc1xuXHRcdHZhciBkTG9uID0gKHRvX2xvYy5sbmcgLSBmcm9tX2xvYy5sbmcgKS50b1JhZCgpOyBcblx0XHR2YXIgYSA9IE1hdGguc2luKGRMYXQvMikgKiBNYXRoLnNpbihkTGF0LzIpICtcblx0XHQgICAgICAgIE1hdGguY29zKGZyb21fbG9jLmxhdC50b1JhZCgpKSAqIE1hdGguY29zKHRvX2xvYy5sYXQudG9SYWQoKSkgKiBcblx0XHQgICAgICAgIE1hdGguc2luKGRMb24vMikgKiBNYXRoLnNpbihkTG9uLzIpOyBcblx0XHR2YXIgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEtYSkpOyBcblx0XHRyZXR1cm4gUiAqIGM7XG4gICAgfTtcblxuICAgIHRoaXMuZGVmYXVsdExvY2F0aW9uID0gZnVuY3Rpb24oKXtcbiAgICBcdHJldHVybiB7IGxhdCA6IDI1LjA5MjcyOTcgLCBsbmcgOiAgMTIxLjQ2MDg2MzksIGFkZHJlc3MgOiBudWxsfTtcbiAgICB9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywnVXNlclN2YycsICdzdG9yZScsICckc3RhdGUnLCdqd3RIZWxwZXInLCckaHR0cCcsICdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjLCBzdG9yZSwgJHN0YXRlLCBqd3RIZWxwZXIsICRodHRwLCBTb2NrZXRTdmMpIHtcblxuXHR2YXIgdG9rZW4gPSBudWxsO1xuXHQkc2NvcGUudXNlciA9IHt9O1xuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpe1xuXHRcdFVzZXJTdmMubG9naW4oJHNjb3BlLnVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdHN0b3JlLnNldCgnand0JywgZGF0YS50b2tlbik7XG5cdFx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyd4LWFjY2Vzcy10b2tlbiddID0gZGF0YS50b2tlbjtcblx0XHRcdFx0dG9rZW4gPSBkYXRhLnRva2VuO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicGFzc3dvcmQgaXMgbm90IGV4aXN0ZWQhXCIpO1xuXHRcdFx0fTtcblx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRTb2NrZXRTdmMuaW5pdCh0b2tlbik7XG5cdFx0XHRTb2NrZXRTdmMuZW1pdCgnbG9naW4nKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKS5yb2xlID09IFwiYWRtaW5cIikge1xuXG5cdFx0XHRcdHZhciB1c2VyQnJhbmNoID0gand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKS5icmFuY2g7XG5cdFx0XHRcdGlmICh1c2VyQnJhbmNoLnNsaWNlKHVzZXJCcmFuY2gubGVuZ3RoLTIgLHVzZXJCcmFuY2gubGVuZ3RoKSA9PSBcIuWkp+mailwiKSB7XG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdkdXR5RGVzay5jb3JwcycpXG5cdFx0XHRcdH0gZWxzZXtcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2R1dHlEZXNrLmJyYW5jaCcpXG5cdFx0XHRcdH07XG5cblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc3RhdGUuZ28oJ2RpcmVjdG9yLnNhZmV0eS5pbmRleCcpXG5cdFx0XHR9XG5cdFx0fSlcblx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01hcEluZGV4Q3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ0dlb1N2YycsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgbGVhZmxldERhdGEsIEdlb1N2Yykge1xuICAgICAgICBcbiAgICBHZW9TdmMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcygpLnRoZW4oZnVuY3Rpb24oY29vcmQpe1xuICAgICAgICAkc2NvcGUubm93UG9zLmxhdCA9IGNvb3JkLmxhdGl0dWRlO1xuICAgICAgICAkc2NvcGUubm93UG9zLmxuZyA9IGNvb3JkLmxvbmdpdHVkZTtcbiAgICAgICAgJHNjb3BlLm5vd1Bvcy56b29tID0gMTc7XG4gICAgfSlcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBub3dQb3M6IHtcbiAgICAgICAgICAgIGxhdDogMjQuOTg4LFxuICAgICAgICAgICAgbG5nOiAxMjEuNTc1MixcbiAgICAgICAgICAgIHpvb206IDE3XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBkcmF3OiB7fVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgZHJhd25JdGVtcyA9ICRzY29wZS5jb250cm9scy5lZGl0LmZlYXR1cmVHcm91cDtcbiAgICAgIG1hcC5vbignZHJhdzpjcmVhdGVkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gZS5sYXllcjtcbiAgICAgICAgZHJhd25JdGVtcy5hZGRMYXllcihsYXllcik7XG4gICAgICAgIFxuICAgICAgICBGZWF0dXJlQ29sbGVjdGlvbnMucHVzaChsYXllci50b0dlb0pTT04oKSlcbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9KVxuXG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQWNjb3VudE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnTWVtYmVyU3ZjJywgJ21lbWJlcicsICckbW9kYWxJbnN0YW5jZScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIE1lbWJlclN2YywgbWVtYmVyLCAkbW9kYWxJbnN0YW5jZSkge1xuXG5cdCRzY29wZS51c2VyID0gbWVtYmVyO1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRpZiAoXy5pc0VtcHR5KCRzY29wZS51c2VyKSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJwbGVhc2UgZW50ZXIgeW91ciBhY2NvdW50IGFuZCBwYXNzd29yZCFcIilcblx0XHR9IGVsc2V7XG5cdFx0XHRpZiAoISRzY29wZS51c2VyLmFjY291bnQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJhY2NvdW50IGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHRpZiAoISRzY29wZS51c2VyLnBhc3N3b3JkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29kIGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29yZCBjYW4ndCBiZSBibGFua1wiKVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdFVzZXJTdmMuYWN0aXZhdGUoJHNjb3BlLnVzZXIpO1xuXHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlVXNlcihtZW1iZXIubmFtZSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS51c2VyKTtcblx0XHRcdH07XG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0fVxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQ3RybCcsIFsnJHNjb3BlJywgJ01lbWJlclN2YycsICckc3RhdGVQYXJhbXMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBNZW1iZXJTdmMsICRzdGF0ZVBhcmFtcykge1xuXG5cdFx0JHNjb3BlLmJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2g7XG5cblx0XHRNZW1iZXJTdmMuZmluZEJ5QnJhbmNoKCRzdGF0ZVBhcmFtcy5icmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24obWVtYmVycyl7XG5cdFx0XHQkc2NvcGUubWVtYmVycyA9IG1lbWJlcnM7XG5cdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdG1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlckVkaXRDdHJsJywgWyckc2NvcGUnLCAnTWVtYmVyU3ZjJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnJHdpbmRvdycsJyRtb2RhbCcsICckc3RhdGUnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIE1lbWJlclN2YywgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRtb2RhbCwgJHN0YXRlLCBVc2VyU3ZjKSB7XG5cblx0XHQkc2NvcGUuYWxlcnRzID0gW107XG5cdFx0JHNjb3BlLm1lbWJlckRlbGV0ZWQgPSBmYWxzZTtcblx0XHR2YXIgdGVtcERlbE1lbWJlciA9IG51bGw7XG5cdFx0JHNjb3BlLmFjY2Vzc0xldmVsID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXHRcdFxuXHRcdHZhciBtZW1iZXJJbml0ID0gZnVuY3Rpb24oKXtcblx0XHRcdE1lbWJlclN2Yy5maW5kQnlCcmFuY2goJHN0YXRlUGFyYW1zLmJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihtZW1iZXJzKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBtZW1iZXJzO1xuXHRcdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLndvcmtpbmdUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRtZW1iZXJJbml0KCk7XG5cblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBkaXJlY3RvcnMgPSBfLnBsdWNrKCAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7IHJldHVybiBtZW1iZXIubGV2ZWwgPiAxLjMgIH0pICwgJ25hbWUnKTtcblx0XHRcdEJyYW5jaFN2Yy51cGRhdGUoe1xuXHRcdFx0XHRicmFuY2ggOiAkc3RhdGVQYXJhbXMuYnJhbmNoLFxuXHRcdFx0XHRtZW1iZXJzIDogXy5wbHVjayggJHNjb3BlLm1lbWJlcnMgLCAnX2lkJyksXG5cdFx0XHRcdGRpcmVjdG9ycyA6IGRpcmVjdG9ycyxcblx0XHRcdFx0ZGlyZWN0b3IgOiBkaXJlY3RvcnNbMF0sXG5cdFx0XHRcdHNhZmV0eU1hbmFnZXIgOiBkaXJlY3RvcnNbMF1cblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcblx0XHRcdH0pO1x0XHRcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmFkZE5ld01lbWJlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL21lbWJlci9tZW1iZXIubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlck1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRicmFuY2ggOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4gJHN0YXRlUGFyYW1zLmJyYW5jaCBcblx0XHRcdCAgICBcdH0sXG5cdFx0XHQgICAgXHRtZW1iZXIgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4geyB3b3JraW5nVGltZSA6IG51bGwgfTtcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXG5cdFx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obWVtYmVyKXtcblx0XHQgICAgXHRpZiAobWVtYmVyKSB7XG5cdFx0ICAgIFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0ICAgIFx0fVxuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcInN1Y2Nlc3NcIiAsICBtc2c6ICfkurrlk6HmlrDlop7miJDlip/vvIEgJyArIG1lbWJlci5uYW1lICsgJyDlt7LliqDlhaUgJyArIG1lbWJlci5icmFuY2h9KTtcblx0XHQgICAgfSlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgb2xkTWVtYmVyID0gbWVtYmVyO1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tZW1iZXIvbWVtYmVyLm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzdGF0ZVBhcmFtcy5icmFuY2ggXG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIHtcblx0XHRcdCAgICBcdFx0XHRtZW1iZXJJZCA6IG1lbWJlci5faWQsXG5cdFx0XHQgICAgXHRcdFx0aWQgOiBtZW1iZXIuaWQsXG5cdFx0XHQgICAgXHRcdFx0bmFtZSA6IG1lbWJlci5uYW1lLFxuXHRcdFx0ICAgIFx0XHRcdHRpdGxlIDogbWVtYmVyLnRpdGxlLFxuXHRcdFx0ICAgIFx0XHRcdGJyYW5jaGVzIDogbWVtYmVyLmJyYW5jaGVzLFxuXHRcdFx0ICAgIFx0XHRcdGNvcnBzIDogbWVtYmVyLmNvcnBzLFxuXHRcdFx0ICAgIFx0XHRcdHJhZGlvQ29kZSA6IG1lbWJlci5yYWRpb0NvZGUsIFxuXHRcdFx0ICAgIFx0XHRcdHdvcmtpbmdUaW1lIDogbWVtYmVyLndvcmtpbmdUaW1lLm1pbnV0ZXMoKSAqIDYwICsgbWVtYmVyLndvcmtpbmdUaW1lLnNlY29uZHMoKVxuXHRcdFx0ICAgIFx0XHR9XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblxuXHRcdCAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0ICAgIFx0bWVtYmVySW5pdCgpO1xuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcImluZm9cIiAsICBtc2c6ICBvbGRNZW1iZXIubmFtZSArICfkv67mlLnmiJDlip8hJyB9KTtcblx0XHQgICAgfSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5hY3RpdmF0ZUFjY291bnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh1c2Vycy5sZW5ndGggPCAzICkge1xuXHRcdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWVtYmVyL21lbWJlci5hY2NvdW50Lmh0bWwnLFxuXHRcdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlckFjY291bnRNb2RhbEN0cmwnLFxuXHRcdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdFx0ICAgIFx0XHRyZXR1cm4gbWVtYmVyXG5cdFx0XHRcdCAgICBcdH1cblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0XHRcdG1lbWJlckluaXQoKTtcblx0XHRcdFx0XHQkc2NvcGUuYWxlcnRzLnB1c2goeyB0eXBlIDogXCJpbmZvXCIgLCBtc2cgOiBtZW1iZXIubmFtZSArIFwiIOW3sumWi+mAmueCuuS9v+eUqOiAhVwiIH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgdHlwZSA6IFwid2FybmluZ1wiICwgbXNnIDogXCLnhKHms5XplovpgJpcIiArIG1lbWJlci5uYW1lICsgXCIg5Zug54K65L2/55So6ICF5bey6LaF6YGOM+S9je+8jOiri+ino+mZpOWFtuS7luS6uuW4s+iZn+W+jOWGjemWi+mAmiBcIn0pO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0dmFyIGRlQWN0aXZhdGVBY2NvdW50ID0gZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0VXNlclN2Yy5yZW1vdmVVc2VyKHRlbXBEZWxNZW1iZXIubmFtZSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyKXtcblx0XHRcdFx0TWVtYmVyU3ZjLnJlbW92ZVVzZXIodXNlci51c2VybmFtZSk7XG5cdFx0XHRcdCRzY29wZS5jbG9zZUFsZXJ0KGluZGV4KTtcblx0XHRcdFx0bWVtYmVySW5pdCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIGRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5tZW1iZXJEZWxldGVkID0gdHJ1ZTtcblx0XHRcdE1lbWJlclN2Yy5kZWxldGVNZW1iZXIodGVtcERlbE1lbWJlcikuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUuY2xvc2VBbGVydChpbmRleCk7XG5cdFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0fTtcblxuXHRcdHZhciBjYW5jZWxEZWwgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0JHNjb3BlLmNsb3NlQWxlcnQoaW5kZXgpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuZGVsZXRlQWxlcnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXHRcblx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIgLCAgXG5cdFx0XHRcdG1zZzogJ+aYr+WQpueiuuWumuimgeWIqumZpO+8gScgKyBtZW1iZXIubmFtZSwgXG5cdFx0XHRcdGV4ZWN1dGUgOiBkZWxldGVNZW1iZXIsXG5cdFx0XHRcdGNhbmNlbCA6ICBjYW5jZWxEZWxcblx0XHRcdH0pO1xuXHRcdFx0dGVtcERlbE1lbWJlciA9IG1lbWJlcjtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmRlQWN0aXZhdGVBbGVydCA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAodXNlcnMubGVuZ3RoID09IDEgKSB7XG5cdFx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IFxuXHRcdFx0XHRcdHR5cGUgOiBcIndhcm5pbmdcIiwgIFxuXHRcdFx0XHRcdG1zZzogJ+avj+WIhumaiuiHs+WwkeimgeaciTHlgIvkvb/nlKjogIXvvIznhKHms5Xlj5bmtognICsgbWVtYmVyLm5hbWUgKyBcIueahOeZu+WFpeasiumZkFwiLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZXtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXG5cdFx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIsICBcblx0XHRcdFx0XHRtc2c6ICfmmK/lkKbnorrlrpropoHop6PpmaQnICsgbWVtYmVyLm5hbWUgKyBcIueZu+WFpeasiumZkFwiLFxuXHRcdFx0XHRcdGV4ZWN1dGUgOiBkZUFjdGl2YXRlQWNjb3VudCxcblx0XHRcdFx0XHRjYW5jZWwgOiBjYW5jZWxEZWxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRlbXBEZWxNZW1iZXIgPSBtZW1iZXI7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2xvc2VBbGVydCA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5hbGVydHMuc3BsaWNlKGluZGV4LDEpXG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ2JyYW5jaCcsICdNZW1iZXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlJywgJ21lbWJlcicsJ0JyYW5jaFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgYnJhbmNoLCBNZW1iZXJTdmMsICRtb2RhbEluc3RhbmNlLCAkc3RhdGUsIG1lbWJlciwgQnJhbmNoU3ZjLCBVc2VyU3ZjKSB7XG5cdFxuXHQkc2NvcGUuYWxlcnRzID0gW107XG5cdCRzY29wZS5pc05ldyA9IF8uaXNOdWxsKG1lbWJlci53b3JraW5nVGltZSk7XG5cblx0JHNjb3BlLm1lbWJlciA9IHtcblx0XHRpZCBcdFx0IFx0OiBtZW1iZXIuaWQgfHwgIFwiXCIsIFxuXHRcdG5hbWUgXHQgXHQ6IG1lbWJlci5uYW1lIHx8IG51bGwgLCBcblx0XHR0aXRsZSAgICBcdDogXCLmtojpmLLpmorlk6FcIixcblx0XHR0aXRsZXMgICBcdDogW1wi5raI6Ziy6ZqK5ZOhXCIsXCLlsI/pmorplbdcIixcIuWIhumaiumVt1wiLFwi5Lit6ZqK6ZW3XCIsXCLlpKfpmorplbdcIixcIuWJr+Wkp+maiumVt1wiXSxcblx0XHRicmFuY2ggICBcdDogbWVtYmVyLmJyYW5jaCB8fCBicmFuY2gsXG5cdFx0d29ya2luZ1RpbWUgOiBtZW1iZXIud29ya2luZ1RpbWUgfHwgIDEyMDAsXG5cdFx0cmFkaW9Db2RlIFx0OiBtZW1iZXIucmFkaW9Db2RlIHx8ICBudWxsLCBcblx0XHRtaXNzaW9uICBcdDogXCLnnoTlrZDmiYtcIixcblx0XHRtaXNzaW9ucyBcdDogW1wi556E5a2Q5omLXCIsXCLlia/nnoTlrZDmiYtcIixcIuWPuOapn1wiLFwi5bCP57WE6ZW3XCIsXCLlronlhajnrqHliLblk6FcIixcIuiBr+e1oeWumFwiLF0sXG5cdFx0Y29ycHNcdCBcdDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRjb3Jwc3MgXHQgXHQ6IFtcIuesrOS4gOaVkeeBveaVkeitt+Wkp+mailwiLFwi56ys5LiJ5pWR54G95pWR6K235aSn6ZqKXCJdLFxuXHR9O1xuXG5cdEJyYW5jaFN2Yy5mZXRjaEJ5Q29ycHMoVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7IFxuXHRcdGlmICghJHNjb3BlLmlzTmV3KSB7XG5cdFx0XHR2YXIgYnJhbmNoQXJyeSA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IGJyYW5jaGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGJyYW5jaEFycnkucHVzaChicmFuY2hlc1tpXS5uYW1lKTtcblx0XHRcdH07XG5cdFx0XHQkc2NvcGUubWVtYmVyLmJyYW5jaGVzID0gYnJhbmNoQXJyeTtcblx0XHR9OyBcblx0fSk7XG5cblx0dmFyIHJhZGlvQ29kZVByZWZpeCA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0dmFyIHN1ZmZpeCA9ICBicmFuY2guc3BsaXQoJycpLnNsaWNlKC0yKS5qb2luKCcnKTtcblx0XHRpZiAoc3VmZml4ID09IFwi5aSn6ZqKXCIgfHwgc3VmZml4ID09IFwi5Lit6ZqKXCIpIHtcblx0XHRcdHJldHVybiBcIuWMl+a1t1wiO1xuXHRcdH0gZWxzZXtcblx0XHRcdHJldHVybiBicmFuY2guc3BsaXQoJycpLnNsaWNlKDAsMikuam9pbignJyk7XG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKCRzY29wZS5tZW1iZXIubmFtZSkge1xuXHRcdFx0JHNjb3BlLm1lbWJlci5yYWRpb0NvZGVQcmVmaXggPSByYWRpb0NvZGVQcmVmaXgoJHNjb3BlLm1lbWJlci5icmFuY2gpO1xuXHRcdFx0TWVtYmVyU3ZjLmNyZWF0ZSgkc2NvcGUubWVtYmVyKS5zdWNjZXNzKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCRzY29wZS5tZW1iZXIud29ya2luZ1RpbWUgPSBtb21lbnQuZHVyYXRpb24ocGFyc2VJbnQoJHNjb3BlLm1lbWJlci53b3JraW5nVGltZSksJ3NlY29uZHMnKTtcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UoJHNjb3BlLm1lbWJlcik7XG5cdFx0XHR9KVxuXHRcdH0gZWxzZXtcblxuXHRcdH07XG5cdH07XG5cblx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgdXBkYXRlTWVtYmVyID0ge1xuXHRcdFx0ICBtZW1iZXJJZCAgOiBtZW1iZXIubWVtYmVySWQsXG5cdFx0XHQgIGlkIFx0XHQ6IFwiXCIsXG5cdFx0XHQgIG5hbWUgXHRcdDogJHNjb3BlLm1lbWJlci5uYW1lLFxuXHRcdFx0ICBjb3JwcyBcdDogJHNjb3BlLm1lbWJlci5jb3Jwcyxcblx0XHRcdCAgYnJhbmNoIFx0OiAkc2NvcGUubWVtYmVyLmJyYW5jaCxcblx0XHRcdCAgdGl0bGUgXHQ6ICRzY29wZS5tZW1iZXIudGl0bGUsXG5cdFx0XHQgIHdvcmtpbmdUaW1lIDogJHNjb3BlLm1lbWJlci53b3JraW5nVGltZSxcblx0XHRcdCAgcmFkaW9Db2RlICA6ICRzY29wZS5tZW1iZXIucmFkaW9Db2RlLFxuXHRcdFx0ICByYWRpb0NvZGVQcmVmaXggOiByYWRpb0NvZGVQcmVmaXgoJHNjb3BlLm1lbWJlci5icmFuY2gpXG5cdFx0fVxuXG5cdFx0aWYgKCRzY29wZS5tZW1iZXIubmFtZSkge1xuXHRcdFx0TWVtYmVyU3ZjLnVwZGF0ZUJ5TWVtYmVySWQodXBkYXRlTWVtYmVyKTtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKHVwZGF0ZU1lbWJlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFxuXHRcdH07XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnTWVtYmVyU3ZjJywgWyckaHR0cCcsZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzJylcblx0fTtcblxuXHR0aGlzLmZpbmRCeUJyYW5jaCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbWJlcnMvJyArIGJyYW5jaCApXG5cdH07XG5cblx0dGhpcy5mZXRjaE9uRHV0eSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzL29uRHV0eT9icmFuY2g9JyArIGJyYW5jaCk7XG5cdH07XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyKVxuXHR9O1xuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyLmlkKVxuXHR9O1xuXG5cdHRoaXMudXBkYXRlT25EdXR5ID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvb25EdXR5L2ZpbmRCeUlkP21lbWJlcklkPScgKyBtZW1iZXIubWVtYmVySWQsIG1lbWJlcik7XG5cdH07XG5cblx0dGhpcy51cGRhdGVCeU1lbWJlcklkID0gZnVuY3Rpb24odXBkYXRlTWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvZmluZEJ5SWQvJyArIHVwZGF0ZU1lbWJlci5tZW1iZXJJZCAsIHVwZGF0ZU1lbWJlcilcblx0fVxuXG5cdHRoaXMudXBkYXRlSXNDaGVja2VkID0gZnVuY3Rpb24obWVtYmVyRGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzP2lkPScgKyBtZW1iZXJEYXRhLm1lbWJlcklkLCBtZW1iZXJEYXRhKVxuXHR9O1xuXG5cdHRoaXMudXBkYXRlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvdXNlcj91c2VybmFtZT0nKyB1c2VybmFtZSk7XG5cdH07XG5cblx0dGhpcy5yZW1vdmVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy91c2VyL3JlbW92ZT91c2VybmFtZT0nICsgdXNlcm5hbWUpXG5cdH07XG5cblx0dGhpcy5kZWxldGVNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWVtYmVycy8nICsgbWVtYmVyLl9pZClcblx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ05hdkN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnc3RvcmUnLCAnand0SGVscGVyJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsIHN0b3JlLCBqd3RIZWxwZXIsIFVzZXJTdmMpIHtcblxuXHQkc2NvcGUudXNlcm5hbWUgPSBVc2VyU3ZjLmN1cnJlbnRVc2VyKCk7XG5cdCRzY29wZS5icmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblxuXHRCcmFuY2hTdmMuZmV0Y2hCeUNvcnBzKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdCRzY29wZS5icmFuY2hlcyA9IGJyYW5jaGVzO1xuXHR9KTtcblxuXHQkc2NvcGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuIFVzZXJTdmMuaXNWYWxpZChicmFuY2gpO1xuXHR9O1xuXG5cdCRzY29wZS5pc0NvcnBzID0gdHJ1ZSA/ICRzY29wZS5icmFuY2guc2xpY2UoJHNjb3BlLmJyYW5jaC5sZW5ndGgtMiwkc2NvcGUuYnJhbmNoLmxlbmd0aCkgPT0gJ+Wkp+maiicgOiBmYWxzZTtcblx0XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnTnRmU3ZjJywgWyAnJGh0dHAnLCBmdW5jdGlvbiAoICRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9uZnRzJyk7XHRcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBcbiAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlclxuICAgICAgICAub3RoZXJ3aXNlKCcvbG9naW4nKTtcblxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgIC5zdGF0ZSgnYW5vbicse1xuICAgICAgICAgICAgdXJsIDogXCJcIixcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhbm9uLmxvZ2luJyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9sb2dpblwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOlwidmlld3MvbG9naW4uaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTG9naW5DdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYW5vbi40MDQnLHtcbiAgICAgICAgICAgIHVybCA6IFwiLzQwNFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzLzQwNC5odG1sXCJcbiAgICAgICAgfSlcblxuICAgIC8vIGR1dHkgZGVzayBcblx0JHN0YXRlUHJvdmlkZXJcblx0XHQuc3RhdGUoJ2R1dHlEZXNrJywge1xuICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlEZXNrXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9jb21tb24vY29udGVudC5odG1sXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJhZG1pblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNvcnBzJywge1xuICAgICAgICAgICAgdXJsOiBcIi9jb3Jwc1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZGFzaGJvYXJkL2NvcnBzLmRhc2hib2FyZC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEYXNoYm9hcmRDdHJsXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJhZG1pblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmJyYW5jaCcse1xuICAgICAgICAgICAgdXJsIDogXCIvYnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvZGFzaGJvYXJkL2JyYW5jaC5kYXNoYm9hcmQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRGFzaGJvYXJkQ3RybFwiLFxuICAgICAgICAgICAgZGF0ZSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1wiYWRtaW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXNlJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXNlLmluZGV4Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9jYXNlXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9jYXNlL2Nhc2UuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiQ2FzZUN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXNlLm5ldycse1xuICAgICAgICAgICAgdXJsIDogXCIvY2FzZS9uZXdcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXNlL2Nhc2UubmV3Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhc2VOZXdDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXNlLnNob3cnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2Nhc2UvOmlkL3Nob3dcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXNlL2Nhc2Uuc2hvdy5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXNlU2hvd0N0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhc2UuZWRpdCcse1xuICAgICAgICAgICAgdXJsIDogXCIvY2FzZS86aWQvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2Nhc2UvY2FzZS5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhc2VFZGl0Q3RybFwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suc2FmZXR5Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9jYXNlLzppZFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3N1bW1hcnkvc3VtbWFyeS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTdW1tYXJ5Q3RybFwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZHV0eWxpc3QnLHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0LnNob3cnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlsaXN0LzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2R1dHlsaXN0LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkR1dHlMaXN0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0LmVkaXQnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlsaXN0LzpicmFuY2gvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZHV0eWxpc3QuZWRpdC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEVkaXRDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2subWVtYmVyJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5tZW1iZXIuc2hvdycsIHtcbiAgICAgICAgICAgIHVybDogXCIvbWVtYmVyLzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL21lbWJlci9tZW1iZXIuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWVtYmVyQ3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLm1lbWJlci5lZGl0Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9tZW1iZXIvOmJyYW5jaC9lZGl0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9tZW1iZXIvbWVtYmVyLmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWVtYmVyRWRpdEN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXInLCB7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5jYXIuc2hvdycse1xuICAgICAgICAgICAgdXJsOiBcIi9jYXIvOmJyYW5jaFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2NhcnMvY2FyLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhckluZGV4Q3RybFwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FyLmVkaXQnLHtcbiAgICAgICAgICAgIHVybDogXCIvY2FyLzpicmFuY2gvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2NhcnMvY2FyLmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiQ2FyRWRpdEN0cmxcIlxuICAgICAgICB9KVxuICAgIC8vIGRpcmVjdG9yIFxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3InLHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHVybCA6IFwiXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvZGlyZWN0b3IvZGlyZWN0b3IuY29udGVudC5odG1sXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJ1c2VyXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIi9zYWZldHlcIixcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIiBcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5zYWZldHkuaW5kZXgnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2luZGV4XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc2FmZXR5L3NhZmV0eS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTYWZldHlJbmRleEN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5jbWRTaG93Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9jbWQvOmNhc2VJZC9zaG93XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc2FmZXR5L3NhZmV0eS5jbWQuc2hvdy5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTYWZldHlDbWRTaG93Q3RybFwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5LmJyYW5jaFNob3cnLHtcbiAgICAgICAgICAgIHVybCA6IFwiLzpjYXNlSWQvc2hvd1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3NhZmV0eS9zYWZldHkuYnJhbmNoLnNob3cuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5U2hvd0N0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5tYW5hZ2VtZW50Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi86Y2FzZUlkL21hbmFnZVwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3NhZmV0eS9zYWZldHkubWFuYWdlLmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIlNhZmV0eU1hbmFnZUN0cmxcIiAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5zdW1tYXJ5Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi86Y2FzZUlkL3N1bW1hcnlcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zdW1tYXJ5L3N1bW1hcnkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU3VtbWFyeUN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIi9kdXR5bGlzdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiIFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0LmluZGV4Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZGlyZWN0b3IuZHV0eWxpc3QuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRGlyRHV0eUxpc3RDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3IuZHV0eWxpc3QuZWRpdCcse1xuICAgICAgICAgICAgdXJsIDogXCIvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZGlyZWN0b3IuZHV0eWxpc3QuZWRpdC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEaXJEdXR5TGlzdEVkaXRDdHJsXCIsXG4gICAgICAgIH0pXHRcbn1dKVxuXG4ucnVuKFsgJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICdzdG9yZScsICdqd3RIZWxwZXInLCAnVXNlclN2YycsICdTb2NrZXRTdmMnLFxuICAgIGZ1bmN0aW9uICggJHJvb3RTY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIHN0b3JlLCBqd3RIZWxwZXIsIFVzZXJTdmMsIFNvY2tldFN2Yykge1xuXG4gICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JyxmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG5cbiAgICAgICAgaWYgKHRvU3RhdGUubmFtZSA9PSBcImFub24ubG9naW5cIikge1xuICAgICAgICAgICAgc3RvcmUucmVtb3ZlKCdqd3QnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZiAodG9TdGF0ZS5kYXRhICYmIHRvU3RhdGUuZGF0YS5yZXF1aXJlZExvZ2luKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIVVzZXJTdmMuaXNMb2dnZWRJbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYW5vbi5sb2dpbicpO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9TdGF0ZS5kYXRhLnJvbGUuaW5kZXhPZihqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkucm9sZSkgPT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcImFub24ubG9naW5cIilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTsgXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufV0pIiwiXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eUNtZFNob3dDdHJsJywgWyckc2NvcGUnLCAnQ2FzZVN2YycsICdCcmFuY2hTdmMnLCAnVXNlclN2YycsICckc3RhdGVQYXJhbXMnLCAnR2VvU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FzZVN2YywgQnJhbmNoU3ZjLCBVc2VyU3ZjLCAkc3RhdGVQYXJhbXMsIEdlb1N2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdFxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBicmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdG1lbWJlci5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24obWVtYmVyLndvcmtpbmdUaW1lLCAnc2Vjb25kcycpO1xuXHRcdFx0XHRyZXR1cm4gbWVtYmVyLm9uRHV0eSA9PSB0cnVlIFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRDYXNlU3ZjLmZldGNoRGV0YWlscygkc3RhdGVQYXJhbXMuY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdCRzY29wZS5jYXNlRGV0YWlsID0gX2Nhc2U7XG5cdFx0XHQkc2NvcGUub25EdXR5QnJhbmNoZXMgPSBfY2FzZS5icmFuY2hJZHM7XG5cdFx0XHRpZiAoX2Nhc2UubG9jYXRpb24pIHtcblx0XHRcdFx0dmFyIGxvY2F0aW9uID0gSlNPTi5wYXJzZShfY2FzZS5sb2NhdGlvbik7XG5cdFx0XHRcdCRzY29wZS5tYXJrZXJzLm1haW5NYXJrZXIgPSB7XG5cdFx0XHRcdFx0bGF0IDogTnVtYmVyKGxvY2F0aW9uLmxhdCksXG5cdFx0XHRcdFx0bG5nIDogTnVtYmVyKGxvY2F0aW9uLmxuZyksXG5cdFx0XHRcdFx0bWVzc2FnZSA6IFwi5qGI5Lu25qiZ55qEXCJcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkc2NvcGUuYmF0dGxlUmFkaXVzcyA9IF9jYXNlLmJhdHRsZVJhZGl1c3M7XG5cdFx0XHR9O1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdCRzY29wZS5vbkR1dHlCcmFuY2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0XHRcdGJyYW5jaC5tZW1iZXJzLmZvckVhY2goZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRpZiAoYnJhbmNoLmRpcmVjdG9yID09IG1lbWJlci5uYW1lICkge1xuXHRcdFx0XHRcdFx0YnJhbmNoLmRpcmVjdG9yUmFkaW9Db2RlID0gbWVtYmVyLnJhZGlvQ29kZVByZWZpeCArICBTdHJpbmcobWVtYmVyLnJhZGlvQ29kZSk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpZiAoYnJhbmNoLnNhZmV0eU1hbmFnZXIgPT0gbWVtYmVyLm5hbWUpIHtcblx0XHRcdFx0XHRcdGJyYW5jaC5zYWZldHlNYW5hZ2VyUmFkaW9Db2RlID0gbWVtYmVyLnJhZGlvQ29kZVByZWZpeCArIFN0cmluZyhtZW1iZXIucmFkaW9Db2RlKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoJHNjb3BlLmJhdHRsZVJhZGl1cykge1xuXHRcdFx0XHRcdCRzY29wZS5iYXR0bGVSYWRpdXNzLmZvckVhY2goZnVuY3Rpb24oYmF0dGxlUmFkaXVzKXtcblx0XHRcdFx0XHRcdHZhciByYWRpdXMgPSBKU09OLnBhcnNlKGJhdHRsZVJhZGl1cylcblx0XHRcdFx0XHRcdGlmIChicmFuY2gubmFtZSA9PSByYWRpdXMuYmFzZSkge1xuXHRcdFx0XHRcdFx0XHRicmFuY2guZXN0aW1hdGVkQXJyaXZpbmdUaW1lID0gIE1hdGgucm91bmQoKCByYWRpdXMuZCAvIDUwICkgKiA2MCk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0pXHRcdFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cbiAgICAgICBHZW9TdmMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcygpLnRoZW4oZnVuY3Rpb24oY29vcmQpe1xuXHQgICAgICAgICRzY29wZS5ub3dQb3MubGF0ID0gY29vcmQubGF0aXR1ZGU7XG5cdCAgICAgICAgJHNjb3BlLm5vd1Bvcy5sbmcgPSBjb29yZC5sb25naXR1ZGU7XG5cdCAgICAgICAgJHNjb3BlLm5vd1Bvcy56b29tID0gMTc7XG5cdCAgICAgICAgJHNjb3BlLm1hcmtlcnMubm93UG9zID0ge1xuXHQgICAgICAgIFx0bGF0IDogJHNjb3BlLm5vd1Bvcy5sYXQsXG5cdCAgICAgICAgXHRsbmcgOiAkc2NvcGUubm93UG9zLmxuZyxcblx0ICAgICAgICBcdG1lc3NhZ2UgOiBcIuePvuWcqOS9jee9rlwiXG5cdCAgICAgICAgfVxuXHQgICAgfSlcblxuXHQgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG5cdCAgICAgICAgbm93UG9zOiB7XG5cdCAgICAgICAgICAgIGxhdDogMjQuOTg4LFxuXHQgICAgICAgICAgICBsbmc6IDEyMS41NzUyLFxuXHQgICAgICAgICAgICB6b29tOiAxM1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbWFya2Vyczoge30sXG5cdCAgICB9KTtcdFx0XG5cdFxufV0pIiwiYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTYWZldHlJbmRleEN0cmwnLCBbJyRzY29wZScsICdDYXNlU3ZjJywgJ1VzZXJTdmMnLCBcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FzZVN2YywgVXNlclN2Yykge1xuXG5cdHZhciB1c2VyQ29uZGl0aW9uID0ge1xuXHRcdGJyYW5jaCBcdFx0OiBVc2VyU3ZjLnVzZXJCcmFuY2goKSxcblx0XHRhY2Nlc3NMZXZlbCA6IFVzZXJTdmMuYWNjZXNzTGV2ZWwoKSxcblx0XHRjb3JwcyBcdFx0OiBVc2VyU3ZjLnVzZXJDb3JwcygpXG5cdH07XG5cblx0Q2FzZVN2Yy5mZXRjaFJlbGF0aXZlQ2FzZSh1c2VyQ29uZGl0aW9uKS5zdWNjZXNzKGZ1bmN0aW9uKGNhc2VzKXsgXG5cdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdFx0Y2FzZXMuZm9yRWFjaChmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRfY2FzZS5kaXNwYXRjaEJyYW5jaGVzID0gJydcblx0XHRcdF9jYXNlLmJyYW5jaGVzLmZvckVhY2goZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdFx0X2Nhc2UuZGlzcGF0Y2hCcmFuY2hlcyArPSBicmFuY2ggKyAnICdcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcblxuXHQkc2NvcGUuaXNCcmFuY2hNZW1iZXIgPSB0cnVlID8gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpIDwgMiAgOiBmYWxzZSA7IFxuXHRcblxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TWFuYWdlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywgJyRtb2RhbCcsICdTdFN2YycsICckc3RhdGUnLCAnTWVtYmVyU3ZjJywnJGxvZycsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsICdTb2NrZXRTdmMnLCAnQ2FzZVN2YycsICdTdE1pc3Npb25GYWMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgU3RTdmMsICRzdGF0ZSwgTWVtYmVyU3ZjLCAkbG9nLCBVc2VyU3ZjLCBCcmFuY2hTdmMsIFNvY2tldFN2YywgQ2FzZVN2YywgU3RNaXNzaW9uRmFjKSB7XG5cblx0XHR2YXIgQlJBTkNIIFx0XHQ9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdHZhciBjYXNlRGV0YWlsIFx0PSBudWxsO1xuXG5cdFx0JHNjb3BlLnF1aWNrU3RhcnQgXHQ9IGZhbHNlO1xuXHRcdCRzY29wZS5hcGFydG1lbnQgXHQ9IHRydWU7IFxuXHRcdCRzY29wZS5BQ0NFU1NMRVZFTCBcdD0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXG5cdFx0JHNjb3BlLmJyYW5jaE9wdGlvbnMgPSB7XG5cdFx0XHRicmFuY2ggOiBCUkFOQ0gsXG5cdFx0XHRicmFuY2hlcyA6IFtdXG5cdFx0fTtcblxuXHRcdENhc2VTdmMuZmV0Y2hCeUlkKCRzdGF0ZVBhcmFtcy5jYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0Y2FzZURldGFpbCA9IF9jYXNlO1xuXHRcdFx0X2Nhc2UuZW52ID09ICfkvY/lroXngavoraYnPyAkc2NvcGUuYXBhcnRtZW50ID0gdHJ1ZSA6ICRzY29wZS5hcGFydG1lbnQgPSBmYWxzZTsgXG5cdFx0XHQkc2NvcGUuYnJhbmNoT3B0aW9ucy5icmFuY2hlcyA9IF9jYXNlLmJyYW5jaGVzXG5cdFx0XHQkc2NvcGUuYnJhbmNoT3B0aW9ucy5icmFuY2hlcy5zcGxpY2UoMCwwLEJSQU5DSCk7XG5cdFx0fSk7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2hCeU5hbWUoQlJBTkNIKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRldGFpbHMgPSBkZXRhaWxzO1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdGlmICgkc2NvcGUuQUNDRVNTTEVWRUwgPiAxICkge1xuXHRcdFx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZSgkc3RhdGVQYXJhbXMuY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cyl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RzOyBcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRTdFN2Yy5mZXRjaCgkc3RhdGVQYXJhbXMuY2FzZUlkLEJSQU5DSCkuc3VjY2VzcyhmdW5jdGlvbihzdHMpe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cztcblx0XHRcdFx0XHRpZiAoJHNjb3BlLmRldGFpbHMuZGlzcGF0Y2hOdW0gPCA4ICYmIF8uaXNFbXB0eSgkc2NvcGUuc3RyaWtlVGVhbXMpKSB7ICRzY29wZS5xdWlja1N0YXJ0ID0gdHJ1ZSAgfTsgXG5cdFx0XHRcdH0pOyBcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ25ld1N0JywgZnVuY3Rpb24oc3Qpe1xuXHRcdFx0aWYgKCRzY29wZS5BQ0NFU1NMRVZFTCA+IDEgJiYgYW5ndWxhci5lcXVhbHMoJHN0YXRlUGFyYW1zLmNhc2VJZCxzdC5jYXNlSWQpICkge1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKHN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChhbmd1bGFyLmVxdWFscyhCUkFOQ0gsc3QuYnJhbmNoKSAmJiBhbmd1bGFyLmVxdWFscygkc3RhdGVQYXJhbXMuY2FzZUlkLHN0LmNhc2VJZCkgKSB7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLnB1c2goc3QpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXBkYXRlU3QnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciBtZW1iZXJzID0gYW5ndWxhci5jb3B5KGRhdGEubWVtYmVycyk7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsZGF0YS5pZCkpe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wb3NpdGlvbiBcdD0gZGF0YS5wb3NpdGlvbjtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0uYXJlYSBcdFx0PSBkYXRhLmFyZWE7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLmZsb29yIFx0PSBkYXRhLmZsb29yO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5taXNzaW9uIFx0PSBkYXRhLm1pc3Npb247XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHR2YXIgX3N0SWQgPSBzdC5zdElkO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gJHNjb3BlLnN0cmlrZVRlYW1zLmZpbHRlcihmdW5jdGlvbihzdCkge1x0XHRcdFx0XG5cdFx0XHRcdHJldHVybiBzdC5faWQgIT0gX3N0SWQ7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRcblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgXHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhZmV0eS9zYWZldHkubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ1NhZmV0eU1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRzdElkIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0aWYgKCBfLmlzRW1wdHkoJHNjb3BlLnN0cmlrZVRlYW1zKSkge1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAwXG5cdFx0XHQgICAgXHRcdH0gZWxzZXtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gJHNjb3BlLnN0cmlrZVRlYW1zWyRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGgtMV0uaWQ7XG5cdFx0XHQgICAgXHRcdH07XG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5icmFuY2hPcHRpb25zLmJyYW5jaDtcblx0XHRcdCAgICBcdH0sXG5cdFx0XHQgICAgXHRjYXNlRGV0YWlsIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIGNhc2VEZXRhaWxcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXHRcdH07XG5cblx0XHQkc2NvcGUub3BlblNldHRpbmdNb2RhbCA9IGZ1bmN0aW9uKHN0cmlrZVRlYW0sIGlkKXtcblx0ICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zYWZldHkvc2FmZXR5LnNldHRpbmcubW9kYWwuaHRtbCcsXG5cdCAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTYWZldHlTZXR0aW5nQ3RybCcsXG5cdCAgICAgICAgICAgIHNpemU6IFwibGdcIixcblx0ICAgICAgICAgICAgcmVzb2x2ZToge1xuXHQgICAgICAgICAgICAgICAgc3RyaWtlVGVhbSA6IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmlrZVRlYW07XG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgY2FzZURldGFpbCA6IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgICAgICAgICBcdHJldHVybiBjYXNlRGV0YWlsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXG5cdFx0JHNjb3BlLmRpc21pc3MgPSBmdW5jdGlvbihzdHJpa2VUZWFtICwgaWQpe1xuXG5cdFx0XHRTb2NrZXRTdmMuZW1pdChcImRpc21pc3NTdHJpa2VUZWFtXCIse1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLFxuXHRcdFx0XHRtZW1iZXJzIDogc3RyaWtlVGVhbS5tZW1iZXJzIFxuXHRcdFx0fSk7XG5cdCAgICAgICBcdCRzY29wZS5zdHJpa2VUZWFtcy5zcGxpY2UoaWQsMSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5xdWlja09yZ2FuaXppbmcgPSBmdW5jdGlvbigpe1xuXHRcdFx0JHNjb3BlLnF1aWNrU3RhcnQgPSBmYWxzZTtcblx0XHRcblx0XHRcdHZhciBtZW1iZXJzID0gICRzY29wZS5kZXRhaWxzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdFx0XHRpZiAoIG1lbWJlci5taXNzaW9uID09ICflj7jmqZ8nIHx8IG1lbWJlci5taXNzaW9uID09ICflronlhajnrqHliLblk6EnIHx8IG1lbWJlci5taXNzaW9uID09ICfmlZHorbfkurrlk6EnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlICBcblx0XHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHJldHVybiBtZW1iZXIub25EdXR5O1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIHN0cmlrZVRlYW0gPSB7XG5cdFx0XHRcdGlkIFx0XHQgIDogMSxcblx0XHRcdFx0Y2FzZUlkIFx0ICA6IGNhc2VEZXRhaWwuX2lkLFxuXHRcdFx0XHRicmFuY2ggXHQgIDogVXNlclN2Yy51c2VyQnJhbmNoKCksXG5cdFx0XHRcdGRpcmVjdG9yICA6IF8ucGx1Y2sobWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7IHJldHVybiBtZW1iZXIubWlzc2lvbiA9PSAn5bi26ZqK5a6YJ30pLCduYW1lJylbMF0sXG5cdFx0XHRcdHBvc2l0aW9uICA6IFN0TWlzc2lvbkZhYy5wb3NpdGlvbigpLmRlZmF1bHRQb3MsXG5cdFx0XHRcdHBvc2l0aW9ucyA6IFN0TWlzc2lvbkZhYy5wb3NpdGlvbigpLnBvc3MsXG5cdFx0XHRcdGdyb3VwICAgICA6IFN0TWlzc2lvbkZhYy5ncm91cHMoKS5icmFuY2hbMV0sXG5cdFx0XHRcdGdyb3VwcyAgICA6IFN0TWlzc2lvbkZhYy5ncm91cHMoKS5icmFuY2gsXG5cdFx0XHRcdGFyZWEgXHQgIDogU3RNaXNzaW9uRmFjLmFyZWEoKS5kZWZhdWx0QXJlYSxcblx0XHRcdFx0YXJlYXMgXHQgIDogU3RNaXNzaW9uRmFjLmFyZWEoKS5hcmVhcyxcblx0XHRcdFx0Zmxvb3IgXHQgIDogMSwgXG5cdFx0XHRcdGZsb29ycyAgICA6IFsxLDIsMyw0LDVdLFxuXHRcdFx0XHRtZW1iZXJJZHMgOiBfLnBsdWNrKG1lbWJlcnMsJ19pZCcpLFxuXHRcdFx0XHRtZW1iZXJzICAgOiBtZW1iZXJzLFxuXHRcdFx0XHRjcmVhdG9yICAgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCksXG5cdFx0XHR9O1xuXHQgICAgICBcdFNvY2tldFN2Yy5lbWl0KFwiY3JlYXRlU3RyaWtlVGVhbVwiLCBzdHJpa2VUZWFtKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICBTb2NrZXRTdmMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdCAgICB9KVxuXG5cdCAgICBcblxuXG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TW9kYWxDdHJsJywgWyckc2NvcGUnLCckbW9kYWxJbnN0YW5jZScsICckc3RhdGVQYXJhbXMnLCdTdFN2YycsICdNZW1iZXJTdmMnLCAnJHN0YXRlJywgJyR3aW5kb3cnLCAnVXNlclN2YycsICdCcmFuY2hTdmMnLCdTb2NrZXRTdmMnLCdicmFuY2gnLCAnY2FzZURldGFpbCcsICdTdE1pc3Npb25GYWMnLCAnc3RJZCcsXG5cdGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlLCAkc3RhdGVQYXJhbXMsIFN0U3ZjLCBNZW1iZXJTdmMsICRzdGF0ZSwgJHdpbmRvdywgVXNlclN2YywgIEJyYW5jaFN2YywgU29ja2V0U3ZjLCBicmFuY2gsIGNhc2VEZXRhaWwsIFN0TWlzc2lvbkZhYywgc3RJZCkge1xuXG5cdFx0JHNjb3BlLmFsZXJ0cyA9IFtdO1xuXHRcdGNhc2VEZXRhaWwuZW52ID09ICfkvY/lroXngavoraYnPyAkc2NvcGUuYXBhcnRtZW50ID0gIHRydWUgIDogJHNjb3BlLmFwYXJ0bWVudCA9IGZhbHNlIFxuIFxuXHRcdCRzY29wZS50aXRsZSA9IGJyYW5jaCArICAoIHN0SWQgKyAgMSApO1xuXHRcdFxuXG5cdFx0QnJhbmNoU3ZjLmZldGNoQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kZXRhaWxzID0gZGV0YWlscztcblx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoICRzY29wZS5kZXRhaWxzKSB7XG5cdFx0XHRcdCRzY29wZS5kZXRhaWxzLm1lbWJlcnMgPSAkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0XHRcdHJldHVybiBtZW1iZXIub25EdXR5OyAgXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkc2NvcGUuZGV0YWlscy5tZW1iZXJzID0gJHNjb3BlLmRldGFpbHMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzQ2hlY2tlZDsgIFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRldGFpbHMubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsICdzZWNvbmRzJyk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSB7XG5cdFx0XHRwb3NpdGlvbiAgOiBTdE1pc3Npb25GYWMucG9zaXRpb24oKS5kZWZhdWx0UG9zLFxuXHRcdFx0cG9zaXRpb25zIDogU3RNaXNzaW9uRmFjLnBvc2l0aW9uKCkucG9zcyxcblx0XHRcdGdyb3VwICAgICA6IFN0TWlzc2lvbkZhYy5ncm91cHMoKS5icmFuY2hbMV0sXG5cdFx0XHRncm91cHMgICAgOiBTdE1pc3Npb25GYWMuZ3JvdXBzKCkuYnJhbmNoLFxuXHRcdFx0YXJlYSBcdCAgOiBTdE1pc3Npb25GYWMuYXJlYSgpLmRlZmF1bHRBcmVhLFxuXHRcdFx0YXJlYXMgXHQgIDogU3RNaXNzaW9uRmFjLmFyZWEoKS5hcmVhcyxcblx0XHRcdGZsb29yIFx0ICA6IGNhc2VEZXRhaWwuZmxvb3IsIFxuXHRcdFx0Zmxvb3JzICAgIDogY2FzZURldGFpbC5mbG9vciA8IDU/IF8ucmFuZ2UoMSw2LDEpIDogXy5yYW5nZShjYXNlRGV0YWlsLmZsb29yLTIsY2FzZURldGFpbC5mbG9vciszLDEpXG5cdFx0fTtcblxuXHRcdCRzY29wZS5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdFx0fTtcblxuXHQgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXG5cdCAgICBcdHZhciBtZW1iZXJzID0gJHNjb3BlLmRldGFpbHMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7IHJldHVybiBtZW1iZXIuaXNDaGVja2VkID09PSB0cnVlIH0pO1xuXHQgICAgXHRpZiAobWVtYmVycy5sZW5ndGggPiAyICkge1xuXHRcdCAgICBcdHZhciBzdHJpa2VUZWFtID0ge1xuXHRcdCAgICAgIFx0XHRpZCBcdFx0ICAgIDogc3RJZCArIDEgfHwgMCAsIFxuXHRcdCAgICAgIFx0XHRjYXNlSWQgICAgICA6ICRzdGF0ZVBhcmFtcy5jYXNlSWQsXG5cdFx0ICAgICAgXHRcdGJyYW5jaCAgICAgIDogJHNjb3BlLmRldGFpbHMubmFtZSxcblx0XHQgICAgICBcdFx0ZGlyZWN0b3IgICAgOiAkc2NvcGUuZGV0YWlscy5kaXJlY3Rvcixcblx0XHQgICAgICBcdFx0cG9zaXRpb24gICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5wb3NpdGlvbixcblx0XHQgICAgICBcdFx0cG9zaXRpb25zICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5wb3NpdGlvbnMsXG5cdFx0ICAgICAgXHRcdGdyb3VwICAgICAgIDogJHNjb3BlLnN0cmlrZVRlYW0uZ3JvdXAsXG5cdFx0ICAgICAgXHRcdGdyb3VwcyAgICAgIDogJHNjb3BlLnN0cmlrZVRlYW0uZ3JvdXBzLCBcblx0XHQgICAgICBcdFx0YXJlYSBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhLFxuXHRcdCAgICAgIFx0XHRhcmVhcyBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhcyxcblx0XHQgICAgICBcdFx0Zmxvb3IgXHRcdDogJHNjb3BlLnN0cmlrZVRlYW0uZmxvb3IsXG5cdFx0ICAgICAgXHRcdGZsb29ycyBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5mbG9vcnMsXG5cdFx0ICAgICAgXHRcdG1lbWJlcklkcyAgIDogXy5wbHVjayhtZW1iZXJzLCAnX2lkJyksXG5cdFx0ICAgICAgXHRcdG1lbWJlcnMgICAgIDogbWVtYmVycyxcblx0XHQgICAgICBcdFx0d29ya2luZ1RpbWUgOiBfLm1pbihtZW1iZXJzLCBmdW5jdGlvbihtZW1iZXIpeyByZXR1cm4gbWVtYmVyLndvcmtpbmdUaW1lOyB9KS53b3JraW5nVGltZSxcblx0XHQgICAgICBcdFx0Y3JlYXRvciBcdDogVXNlclN2Yy5jdXJyZW50VXNlcigpIFx0XG5cdFx0ICAgICAgXHR9O1xuXHRcdCAgICAgIFx0U29ja2V0U3ZjLmVtaXQoXCJjcmVhdGVTdHJpa2VUZWFtXCIsIHN0cmlrZVRlYW0pXG5cdFx0ICAgICAgXHQkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcImRhbmdlclwiICwgIG1zZzogJ+WFqeS6uuS7peS4iuaJjeiDvee3qOe1hCd9KTtcblx0ICAgIFx0fTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNsb3NlQWxlcnQgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUuYWxlcnRzLnNwbGljZShpbmRleCwxKVxuXHRcdH07XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5U2V0dGluZ0N0cmwnLCBbJyRzY29wZScsICdzdHJpa2VUZWFtJywgJyRtb2RhbEluc3RhbmNlJywgJ1N0U3ZjJywgJyRzdGF0ZScsICdNZW1iZXJTdmMnLCAnQ2FzZVN2YycsICckc3RhdGVQYXJhbXMnLCAnU29ja2V0U3ZjJywgJ2Nhc2VEZXRhaWwnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBzdHJpa2VUZWFtLCAkbW9kYWxJbnN0YW5jZSwgU3RTdmMsICRzdGF0ZSwgTWVtYmVyU3ZjLCBDYXNlU3ZjLCAkc3RhdGVQYXJhbXMsIFNvY2tldFN2YywgY2FzZURldGFpbCApIHtcblx0XHRcblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IHN0cmlrZVRlYW07XG5cdFx0Y2FzZURldGFpbC5lbnYgPT0gJ+S9j+WuheeBq+itpic/ICRzY29wZS5hcGFydG1lbnQgPSAgdHJ1ZSAgOiAkc2NvcGUuYXBhcnRtZW50ID0gZmFsc2UgXG5cblx0XHR2YXIgbmV3TWVtYmVycyA9IFtdO1xuXG5cdFx0Q2FzZVN2Yy5mZXRjaERldGFpbHMoJHN0YXRlUGFyYW1zLmNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kaXNwYXRjaCA9IGRldGFpbHMuYnJhbmNoSWRzO1xuXHRcdFx0JHNjb3BlLmN1cnJlbnRCcmFuY2ggPSAkc2NvcGUuZGlzcGF0Y2hbMF0ubmFtZTtcblx0XHRcdHZhciBtZW1iZXJMaXN0ID0gXy5wbHVjayhkZXRhaWxzLmJyYW5jaElkcywnbWVtYmVycycpO1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBbXVxuXHRcdFx0bWVtYmVyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGJyYW5jaE1lbWJlcnMpe1xuXHRcdFx0XHQkc2NvcGUubWVtYmVycy5wdXNoLmFwcGx5KCRzY29wZS5tZW1iZXJzLCBicmFuY2hNZW1iZXJzKVxuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUubWVtYmVycyA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHsgcmV0dXJuICFtZW1iZXIuaXNDaGVja2VkIH0pO1xuXHRcdH0pXG5cblx0XHQkc2NvcGUuY2hvb3NlQnJhbmNoID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdCRzY29wZS5jdXJyZW50QnJhbmNoID0gYnJhbmNoO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdFx0bmV3TWVtYmVycy5wdXNoKG1lbWJlcilcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnVuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIsIGlkKXtcblx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSAhbWVtYmVyLmlzQ2hlY2tlZDtcblx0XHRcdG5ld01lbWJlcnMuc3BsaWNlKF8ucGx1Y2sobmV3TWVtYmVycywgJ19pZCcpLmluZGV4T2YobWVtYmVyLl9pZCksMSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtLm1lbWJlcnMucHVzaC5hcHBseSgkc2NvcGUuc3RyaWtlVGVhbS5tZW1iZXJzLCBuZXdNZW1iZXJzKVxuXG5cdFx0XHRTb2NrZXRTdmMuZW1pdCgndXBkYXRlU3RyaWtlVGVhbScse1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLCBcblx0XHRcdFx0cG9zaXRpb24gOiBzdHJpa2VUZWFtLnBvc2l0aW9uLFxuXHRcdFx0XHRhcmVhIDogc3RyaWtlVGVhbS5hcmVhLCBcblx0XHRcdFx0Zmxvb3IgOiBzdHJpa2VUZWFtLmZsb29yLFxuXHRcdFx0XHRncm91cCA6IHN0cmlrZVRlYW0uZ3JvdXAsXG5cdFx0XHRcdG1lbWJlcklkcyA6IF8ucGx1Y2soJHNjb3BlLnN0cmlrZVRlYW0ubWVtYmVycywnX2lkJyksIFxuXHRcdFx0XHRtZW1iZXJzIDogJHNjb3BlLnN0cmlrZVRlYW0ubWVtYmVyc1xuXHRcdFx0fSlcblxuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UoJ2Rpc21pc3MnKTtcdFx0XHRcblx0XHR9O1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5U2hvd0N0cmwnLCBbJyRzY29wZScsICdDYXNlU3ZjJywgJ1VzZXJTdmMnLCAnU29ja2V0U3ZjJywnR2VvU3ZjJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBDYXNlU3ZjLCBVc2VyU3ZjLCBTb2NrZXRTdmMsIEdlb1N2YywgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMpIHtcblx0XHRcblx0XHR2YXIgYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7XG5cdFx0XG5cdFx0QnJhbmNoU3ZjLmZldGNoQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBicmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdG1lbWJlci5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24obWVtYmVyLndvcmtpbmdUaW1lLCAnc2Vjb25kcycpO1xuXHRcdFx0XHRyZXR1cm4gbWVtYmVyLm9uRHV0eSA9PSB0cnVlIFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRDYXNlU3ZjLmZldGNoRGV0YWlscygkc3RhdGVQYXJhbXMuY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdCRzY29wZS5jYXNlRGV0YWlsID0gX2Nhc2U7XG5cdFx0XHRpZiAoX2Nhc2UubG9jYXRpb24pIHtcblx0XHRcdFx0dmFyIGxvY2F0aW9uID0gSlNPTi5wYXJzZShfY2FzZS5sb2NhdGlvbik7XG5cdFx0XHRcdCRzY29wZS5tYXJrZXJzLm1haW5NYXJrZXIgPSB7XG5cdFx0XHRcdFx0bGF0IDogTnVtYmVyKGxvY2F0aW9uLmxhdCksXG5cdFx0XHRcdFx0bG5nIDogTnVtYmVyKGxvY2F0aW9uLmxuZyksXG5cdFx0XHRcdFx0bWVzc2FnZSA6IFwi5qGI5Lu25qiZ55qEXCJcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fSk7XG5cbiAgICAgICBHZW9TdmMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcygpLnRoZW4oZnVuY3Rpb24oY29vcmQpe1xuXHQgICAgICAgICRzY29wZS5ub3dQb3MubGF0ID0gY29vcmQubGF0aXR1ZGU7XG5cdCAgICAgICAgJHNjb3BlLm5vd1Bvcy5sbmcgPSBjb29yZC5sb25naXR1ZGU7XG5cdCAgICAgICAgJHNjb3BlLm5vd1Bvcy56b29tID0gMTc7XG5cdCAgICAgICAgJHNjb3BlLm1hcmtlcnMubm93UG9zID17XG5cdCAgICAgICAgXHRsYXQgOiAkc2NvcGUubm93UG9zLmxhdCxcblx0ICAgICAgICBcdGxuZyA6ICRzY29wZS5ub3dQb3MubG5nLFxuXHQgICAgICAgIFx0bWVzc2FnZSA6IFwi54++5Zyo5L2N572uXCJcblx0ICAgICAgICB9XG5cdCAgICB9KVxuXG5cdCAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcblx0ICAgICAgICBub3dQb3M6IHtcblx0ICAgICAgICAgICAgbGF0OiAyNC45ODgsXG5cdCAgICAgICAgICAgIGxuZzogMTIxLjU3NTIsXG5cdCAgICAgICAgICAgIHpvb206IDEzXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBtYXJrZXJzOiB7fSxcblx0ICAgIH0pO1x0XHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1NvY2tldFN2YycsWyAnJHJvb3RTY29wZScsICdzdG9yZScsICckcScsICckdGltZW91dCcsXG4gIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBzdG9yZSwgJHEsICR0aW1lb3V0KSB7XG5cbiAgdGhpcy5pbml0ID0gIGZ1bmN0aW9uKHRva2VuKXtcbiAgICB2YXIgYXV0aFRva2VuID0gbnVsbFxuICAgIGlmICh0b2tlbikge1xuICAgICAgYXV0aFRva2VuID0gdG9rZW4gXG4gICAgfSBlbHNlIHtcbiAgICAgIGF1dGhUb2tlbiA9IHN0b3JlLmdldCgnand0JylcbiAgICB9O1xuICAgIHJldHVybiBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAnLHsgcXVlcnkgOiAndG9rZW49JyArIGF1dGhUb2tlbiAsICdmb3JjZU5ldyc6dHJ1ZSB9KTtcbiAgfVxuXG4gIHZhciBzb2NrZXQgPSB0aGlzLmluaXQoKTtcblxuICB0aGlzLm9uID0gIGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7ICBcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmVtaXQgPSAgZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXQoKS5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7IFxuICB9XG4gIFxufV0pIiwiXG5cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uZmFjdG9yeSgnU3RNaXNzaW9uRmFjJywgWyAgZnVuY3Rpb24gKCkge1xuXHRcblx0cmV0dXJuIHtcblx0XHRncm91cHM6IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjb3JwcyA6IFsgXCLoga/ntaHntYRcIiAsIFwi5rC05rqQ57WEXCIgLCBcIuW+jOWLpOe1hFwiXSxcblx0XHRcdFx0c3F1YWRyb24gOiBbXCJcIl0sXG5cdFx0XHRcdGJyYW5jaCA6IFtcIuW4tumaiuWumFwiLFwi5ruF54Gr5bCP57WEXCIsXCLmkJzmlZHlsI/ntYRcIixcIuaQtuaVkeWwj+e1hFwiLFwi5b6M5Yuk5bCP57WEXCJdLFxuXHRcdFx0XHRwcmVTdCAgOiBbXCLmkJzmlZHlsI/ntYRcIixcIuaQtuaVkeWwj+e1hFwiLFwi5ruF54Gr5bCP57WEXCJdXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwb3NpdGlvbiA6IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRkZWZhdWx0UG9zIDogXCLnrKzkuIDpnaJcIixcblx0XHRcdFx0cG9zcyA6IFtcIuesrOS4gOmdolwiLFwi56ys5LqM6Z2iXCIsXCLnrKzkuInpnaJcIixcIuesrOWbm+mdolwiXVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YXJlYSA6IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRkZWZhdWx0QXJlYSA6IFwi56ys5LiA5Y2AXCIsXG5cdFx0XHRcdGFyZWFzIDogW1wi56ys5LiA5Y2AXCIsXCLnrKzkuozljYBcIixcIuesrOS4ieWNgFwiLFwi56ys5Zub5Y2AXCIsXCLnrKzkupTljYBcIl1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cbn1dKSIsIi8qKlxuKiBJbk5ldyBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1N0U3ZjJywgWyAnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKGNhc2VJZCwgYnJhbmNoKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zP2Nhc2VJZD0nICsgY2FzZUlkICsgJyZicmFuY2g9JyArIGJyYW5jaCk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEJ5Q2FzZSA9IGZ1bmN0aW9uKGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9zdHJpa2VUZWFtcy90b3RhbD9jYXNlSWQ9JyArIGNhc2VJZCk7XG5cdH07XG5cblx0dGhpcy5maW5kQnlJZCA9IGZ1bmN0aW9uKGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9zdHJpa2VUZWFtcy8nICsgY2FzZUlkKTtcblx0fVxuXG5cdHRoaXMuZGlzbWlzc1N0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy9kaXNtaXNzP2lkPScgKyBkYXRhLmlkKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVN0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy91cGRhdGU/aWQ9JyArIGRhdGEuaWQsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlVGltZVJlY29yZCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvdGltZT9pZD0nICsgZGF0YS5pZCwgZGF0YSk7XG5cdH07XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihzdHJpa2VUZWFtKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zdHJpa2VUZWFtcycsIHN0cmlrZVRlYW0pO1xuXHR9O1xuXG5cdHRoaXMuY291bnQgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXMvY291bnQ/Y2FzZUlkPScgKyBjYXNlSWQpO1xuXHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1N1bW1hcnlDdHJsJywgWyckc2NvcGUnLCAnU3RTdmMnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnZhbCcsICckc3RhdGUnLCAnU29ja2V0U3ZjJywgJ0Nhc2VTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBTdFN2YywgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICRzdGF0ZSwgU29ja2V0U3ZjLCBDYXNlU3ZjKSB7XG5cdFx0JHNjb3BlLmlzQ29sbGFwc2VkID0gdHJ1ZSA7XG5cdFx0JHNjb3BlLm1lbWJlcnMgPSBbXTtcblxuXHRcdFNvY2tldFN2Yy5vbigndGltZXJSdW5uaW5nJyxmdW5jdGlvbihzdCl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBzdC5zdElkKSl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnRpbWVyUnVubmluZyA9IHN0LnRpbWVyUnVubmluZztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCdwcm9ncmVzc1VwZGF0ZScsZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBkYXRhLmlkKSApe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS50aW1lclx0PSBtb21lbnQuZHVyYXRpb24oZGF0YS5taWxsaXMpOyBcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3MgID0gZGF0YS5wcm9ncmVzcztcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3NTdGF0ZSA9ICBkYXRhLnByb2dyZXNzU3RhdGU7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoIGFuZ3VsYXIuZXF1YWxzKGNhc2VJZCxzdC5jYXNlSWQpKSB7XG5cdFx0XHRcdHZhciBuZXdTdCA9IGFuZ3VsYXIuY29weShzdCk7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKG5ld1N0KTtcblx0XHRcdH07XG5cdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdH0pO1xuXG5cdFx0XG5cblx0XHRTb2NrZXRTdmMub24oJ3VwZGF0ZVN0JywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZShjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMgPSBzdHJpa2VUZWFtcztcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRcdHN0LmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihzdC53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHRcdH0pO1xuXG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbignZGlzbWlzcycsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXG5cdFx0dmFyIGNhc2VJZCA9ICRzdGF0ZVBhcmFtcy5jYXNlSWQ7XG5cdFx0Q2FzZVN2Yy5mZXRjaEJ5SWQoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdF9jYXNlLmVudiA9PSAn5L2P5a6F54Gr6K2mJyA/ICRzY29wZS5hcGFydG1lbnQgPSB0cnVlIDogJHNjb3BlLmFwYXJ0bWVudCA9IGZhbHNlO1xuXHRcdFx0JHNjb3BlLmNhc2VEZXRhaWwgPSBfY2FzZTtcblx0XHRcdCRzY29wZS5wb3NpdGlvbiA9IHtcblx0XHRcdFx0ZGVmYXVsdFBvcyBcdDogXCLnrKzkuIDpnaJcIixcblx0XHRcdFx0cG9zaXRpb25zIFx0OiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl0sXG5cdFx0XHRcdGZsb29yIFx0XHQ6ICRzY29wZS5jYXNlRGV0YWlsLmZsb29yLFxuXHRcdFx0XHRmbG9vcnMgIFx0OiAkc2NvcGUuY2FzZURldGFpbC5mbG9vciA8IDU/IF8ucmFuZ2UoMSw2LDEpIDogXy5yYW5nZSgkc2NvcGUuY2FzZURldGFpbC5mbG9vci0yLCRzY29wZS5jYXNlRGV0YWlsLmZsb29yKzMsMSlcblx0XHRcdH07XG5cdFx0fSlcblxuXHRcdFN0U3ZjLmZldGNoQnlDYXNlKGNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0XHRpZiAoc3RyaWtlVGVhbXMpIHtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtcblx0XHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cblxuXHRcdHZhciBpbml0VGFibGUgPSAgZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdCAgXHR2YXIgZGVwbG95QXJyYXkgPSBfLnJhbmdlKDQpLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXy5yYW5nZSg1KS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICAgIHJldHVybiB7IHRvdGFsTWVtYmVyIDogMCwgc3RUb3RhbCA6IDAgLCBzdHMgOiBbXSB9IDtcblx0XHQgICAgICAgIH0pO1xuXHRcdCAgICB9KTtcblxuXHRcdFx0aWYgKCBzdHJpa2VUZWFtcyApe1xuXHRcdFx0XHRmb3IgKHZhciBpID0gc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHR2YXIgdG90YWxNZW1iZXIgPSAwO1xuXHRcdFx0XHRcdHZhciB5ID0gbnVsbDtcblx0XHRcdFx0XHR2YXIgc3QgPSAwO1xuXHRcdFx0XHRcdHZhciB4ID0gXy5pbmRleE9mKHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9ucywgc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24pO1xuXHRcdFx0XHRcdCRzY29wZS5hcGFydG1lbnQgPyB5ID0gXy5pbmRleE9mKHN0cmlrZVRlYW1zW2ldLmZsb29ycywgc3RyaWtlVGVhbXNbaV0uZmxvb3IpIDogeSA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5hcmVhcywgc3RyaWtlVGVhbXNbaV0uYXJlYSlcblx0XHRcdFx0XHRkZXBsb3lBcnJheVt4XVt5XS5zdFRvdGFsICs9IDE7XG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0udG90YWxNZW1iZXIgKz0gc3RyaWtlVGVhbXNbaV0ubWVtYmVycy5sZW5ndGg7XG5cdFx0XHRcdFx0dmFyIHN0SW5GbyA9IHt9O1xuXHRcdFx0XHRcdHN0SW5Gby5pZCA9IHN0cmlrZVRlYW1zW2ldLmJyYW5jaCArIHN0cmlrZVRlYW1zW2ldLmlkXG5cdFx0XHRcdFx0c3RJbkZvLm51bWJlciA9IHN0cmlrZVRlYW1zW2ldLm1lbWJlcnMubGVuZ3RoO1xuXHRcdFx0XHRcdHN0SW5Gby5ncm91cCA9IHN0cmlrZVRlYW1zW2ldLmdyb3VwO1xuXHRcdFx0XHRcdGRlcGxveUFycmF5W3hdW3ldLnN0cy5wdXNoKHN0SW5Gbyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGVwbG95QXJyYXlcblx0XHR9O1xuXHRcdFxuXHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgU29ja2V0U3ZjLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHQgICAgfSk7XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignVGltZXJDdHJsJywgWyckc2NvcGUnLCAnU29ja2V0U3ZjJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsIFNvY2tldFN2Yyl7XG5cblx0JHNjb3BlLnRpbWVyUnVubmluZyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbihzdCwgaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0YXJ0Jyk7XG4gICAgXHQkc2NvcGUudGltZXJSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiB0cnVlIH0gKVxuICAgIH07XG5cbiAgICAkc2NvcGUuc3RvcFRpbWVyID0gZnVuY3Rpb24oc3QsaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0b3AnKTtcbiAgICBcdCRzY29wZS50aW1lclJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiBmYWxzZSB9IClcbiAgICB9O1xuXHRcbn1dKTsiLCIvKipcbiogIE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignVG9wTmF2Q3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsJyRzdGF0ZScsICckaW50ZXJ2YWwnLCAnc3RvcmUnLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCckd2luZG93Jyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCRzdGF0ZSwgJGludGVydmFsLCBzdG9yZSwgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkd2luZG93KSB7XG5cblx0JHNjb3BlLmN1cnJlbnRUaW1lID0gIG1vbWVudCgpLmZvcm1hdCgnTU1NIERvLCBoOm1tOnNzIGEnKTtcblx0JGludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0bW9tZW50LmxvY2FsZSgnemgtdHcnKTtcblx0XHQkc2NvcGUuY3VycmVudFRpbWUgPSAgbW9tZW50KCkuZm9ybWF0KCdNTU0gRG8sIGg6bW06c3MgYScpO1xuXHR9LCAxMDAwKTtcblxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKXtcblx0XHR2YXIgYWNjb3VudCA9IFVzZXJTdmMuY3VycmVudEFjY291bnQoKTtcblx0XHRTb2NrZXRTdmMuZW1pdCgnbG9nb3V0Jyk7XG5cdFx0JHN0YXRlLmdvKCdhbm9uLmxvZ2luJyk7XG5cdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnVXNlclN2YycsIFsgJyRodHRwJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsIGZ1bmN0aW9uICgkaHR0cCwgc3RvcmUsIGp3dEhlbHBlcikge1xuXG5cdHRoaXMuZmV0Y2hPbmxpbmVVc2VyID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3VzZXJTdGF0ZScpO1xuXHR9O1xuXG5cdHRoaXMuYWN0aXZhdGUgPSBmdW5jdGlvbih1c2VyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHVzZXIpO1xuXHR9O1xuXG5cdHRoaXMucmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL3VzZXJzL2RlbGV0ZT91c2VybmFtZT0nICsgdXNlcm5hbWUpO1xuXHR9O1xuXG5cdHRoaXMubG9naW4gPSBmdW5jdGlvbih1c2VyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9hdXRoZW50aWNhdGUnLCB1c2VyKTtcblx0fTtcblxuXHR0aGlzLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiBzdG9yZS5nZXQoJ2p3dCcpO1xuXHR9O1xuXG5cdHRoaXMuaXNWYWxpZCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRpZiAoand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmFjY2Vzc0xldmVsID4gMSAgIHx8IGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5icmFuY2ggPT0gYnJhbmNoKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlOyBcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGZhbHNlIFxuXHR9O1xuXG5cdHRoaXMudXNlckJyYW5jaCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5icmFuY2g7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLnVzZXJDb3JwcyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5jb3Jwcztcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMuY3VycmVudFVzZXIgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkudXNlcm5hbWU7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmN1cnJlbnRBY2NvdW50ID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmFjY291bnQ7XG5cdFx0fTsgXG5cdH07XG5cblx0dGhpcy5hY2Nlc3NMZXZlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2Nlc3NMZXZlbDtcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMuY2FzZUlkID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmNhc2VJZDtcblx0XHR9O1xuXHR9O1xuXG59XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9