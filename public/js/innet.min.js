angular.module("InNet",["ui.router","ui.bootstrap","timer","angular-storage","angular-jwt","leaflet-directive","angular.filter"]),angular.module("InNet").service("BranchSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/branch?corps="+t)},this.fetchByName=function(t){return e.get("/api/branch/name?branch="+t)},this.totalListFindByName=function(t){return e.get("/api/branch/name/total?branch="+t)},this.getDetails=function(t){return e.get("/api/branch/"+t)},this.update=function(t){return e.put("/api/branch/"+t.branch,t)},this.updateDirector=function(t){return e.put("/api/branch?branch="+t.branch,t)}}]),angular.module("InNet").controller("CarEditCtrl",["$scope",function(e){}]),angular.module("InNet").controller("CarIndexCtrl",["$scope",function(e){}]),angular.module("InNet").service("CarSvc",["$http",function(e){this.fetch=function(){return e.get("/api/cars")},this.findByBranch=function(t){return e.get("/api/cars/"+t)},this.update=function(t){return e.put("/api/cars/"+t.id,t)}}]),angular.module("InNet").controller("CaseCtrl",["$scope","$stateParams","$modal","CaseSvc","$log","SocketSvc","UserSvc",function(e,t,n,s,r,i,a){e.maxSize=5,e.bigTotalItems=175,e.bigCurrentPage=1,s.fetch(a.userCorps()).success(function(t){e.cases=t}),i.on("newCase",function(t){e.cases.unshift(t)}),i.on("caseModified",function(t){e.cases[t.caseId-1]=t}),e.choose=function(t){s.findById(e.cases[t]._id).success(function(t){e.caseDetails=t})},e.addNewCase=function(){var t=n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return _.isEmpty(e.cases)?0:e.cases[0].caseId},caseDetails:function(){return{}}}});t.result.then(function(e){console.log(e)},function(){r.info("Modal dismissed at: "+new Date)})},e.editCase=function(t){n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return t},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("CaseModalCtrl",["$scope","CarSvc","$modalInstance","CaseSvc","$state","caseId","caseDetails","StSvc","$window","BranchSvc","UserSvc","NtfSvc",function(e,t,n,s,r,i,a,o,c,u,l,m){function d(e){var t=[],n=[],s=[];if(e.cars){for(var r=e.cars.length-1;r>=0;r--)t.push(e.cars[r].radioCode),n.push(e.cars[r]._id),s.push(e.cars[r].branch);return{dispatchList:t,carIds:n,branches:s}}return{}}function f(t){for(var n=_.unique(t),s=[],r=0;r<e.branches.length;r++)n.indexOf(e.branches[r].name)>-1&&s.push(e.branches[r]._id);return s}if(_.isEmpty(a))e.isNew=!0,h=[];else{e.isNew=!1;var h=a.cars}e.nftOption={},m.fetch().success(function(t){e.nftOption.nfts=t}).then(function(){e.nftOption.nft=e.nftOption.nfts[0]}),u.fetch(l.userCorps()).success(function(t){e.branches=t}),e.caseObj={address:a.address||null,phone:a.phone||null,type:a.type||"火警",types:["火警","救護","災害","檢舉","其他"],env:"住宅火警",envs:["住宅火警","高樓、地下與工廠","搶救困難區","其他"],floor:1,carIds:d(a).carIds||[],dispatchList:d(a).dispatchList||[],branches:d(a).branches||[]},e.dispatchList=e.caseObj.dispatchList.join(" "),e.getCars=function(n){t.findByBranch(n.name).success(function(t){for(var n=t.length-1;n>=0;n--)e.caseObj.carIds.indexOf(t[n]._id)>-1&&(t[n].isChecked=!0);e.cars=t})},e.cancel=function(){n.dismiss("cancel")},e.cancelDispatch=function(t){t.isChecked=!1,h.splice(h.indexOf(t),1),e.caseObj.carIds.splice(e.caseObj.dispatchList.indexOf(t._id),1),e.caseObj.dispatchList.splice(e.caseObj.dispatchList.indexOf(t.radioCode),1),e.caseObj.branches.splice(e.caseObj.dispatchList.indexOf(t.branch),1),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.dispatch=function(t){t.isChecked=!0,h.push(t),e.caseObj.carIds.push(t._id),e.caseObj.dispatchList.push(t.radioCode),e.caseObj.branches.push(t.branch),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.closeCase=function(){o.count(a._id).success(function(e){e>0?c.alert("尚有隊員在安全管制"):(s.closeCase({id:a._id,isOngoing:!1}).success(function(e){console.log(e)}),n.dismiss("cancel"),r.reload())})},e.save=function(){s.create({caseId:i+1,address:e.caseObj.address||"測試",officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type||"救護",phone:e.caseObj.phone||"測試",branches:_.unique(e.caseObj.branches),branchIds:f(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,corps:l.userCorps(),env:e.caseObj.env,floor:e.caseObj.floor}).success(function(e){n.close(e)})},e.update=function(){var t={id:a._id,caseId:i,address:e.caseObj.address,officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type,phone:e.caseObj.phone,branches:_.unique(e.caseObj.branches),branchIds:f(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,env:e.caseObj.env,floor:e.caseObj.floor};s.update(t),n.dismiss("cancel")}}]),angular.module("InNet").service("CaseSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/cases?corps="+t)},this.fetchAll=function(){return e.get("/api/cases/details")},this.fetchRelativeCase=function(t){return e.get("/api/cases/branch?branch="+t.branch+"&accessLevel="+t.accessLevel+"&corps="+t.corps)},this.fetchDetails=function(t){return e.get("/api/cases/details/"+t)},this.findById=function(t){return e.get("/api/cases/"+t)},this.create=function(t){return e.post("/api/cases",t)},this.update=function(t){return e.put("/api/cases/"+t.id,t)},this["delete"]=function(t){return e.post("/api/cases/"+t)},this.closeCase=function(t){return e.put("/api/cases/close?id="+t.id,t)}}]),angular.module("InNet").controller("DashboardCtrl",["$scope","$location","SocketSvc","UserSvc","BranchSvc",function(e,t,n,s,r){r.fetch(s.userCorps()).success(function(t){e.branches=t}),s.fetchOnlineUser().success(function(t){e.users=t}),n.on("userLogin",function(t){e.users.push(t)}),n.on("userDisconnect",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),n.on("userLogout",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),e.$on("$destroy",function(e){n.removeAllListeners()})}]),angular.module("InNet").directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e,t){e.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}]}}]).directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n.metisMenu()})}}}]).directive("iboxTools",["$timeout",function(e){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(t,n){t.showhide=function(){var t=n.closest("div.ibox"),s=n.find("i:first"),r=t.find("div.ibox-content");r.slideToggle(200),s.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),e(function(){t.resize(),t.find("[id^=map-]").resize()},50)},t.closebox=function(){var e=n.closest("div.ibox");e.remove()}}]}}]).directive("back",["$window",function(e){return{restrict:"A",link:function(t,n,s){n.bind("click",function(){e.history.back()})}}}]),angular.module("InNet").controller("DirDutyListCtrl",["$scope","UserSvc","BranchSvc",function(e,t,n){var s=t.userBranch();n.totalListFindByName(s).success(function(t){e.branch=t,e.onDutyTotal=e.branch.members.filter(function(e){return 1==e.onDuty})})}]),angular.module("InNet").controller("DispatchCtrl",["$scope","$stateParams","$modal","CaseSvc","BranchSvc","CarSvc","UserSvc",function(e,t,n,s,r,i,a){s.fetch(a.userCorps()).success(function(n){e.cases=n,s.findById(e.cases[t.caseId]._id).success(function(t){e.caseDetails=t})}),r.fetch(a.userCorps()).success(function(t){e.branchList=t}),i.fetch().success(function(t){e.carsData=t}),e.addNewCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id="新增案件"},branchList:function(){return e.branchList},carsData:function(){return e.carsData},isNew:function(){return!0},caseDetails:function(){return{}}}})},e.editCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id=e.cases[t.caseId].caseId},branchList:function(){return e.branchList},carsData:function(){for(var t=e.carsData.length-1;t>=0;t--)for(var n=e.caseDetails.cars.length-1;n>=0;n--)e.carsData[t].radioCode===e.caseDetails.cars[n].radio_code&&(e.carsData[t].isChecked=!0);return e.carsData},isNew:function(){return!1},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("DutyListCtrl",["$scope","BranchSvc","$stateParams","SocketSvc","UserSvc","$q",function(e,t,n,s,r,i){var a=n.branch;t.totalListFindByName(a).success(function(t){e.branch=t,e.onDutyTotal=e.branch.members.filter(function(e){return 1==e.onDuty})})}]),angular.module("InNet").controller("DutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc",function(e,t,n,s,r,i,a){if(a.accessLevel()<2)var o=a.userBranch();else var o=n.branch;t.totalListFindByName(o).success(function(t){e.branch=t,e.onDutyTotal=0}),e.check=function(e){e.onDuty=!e.onDuty},e.save=function(){var n=e.branch.members.filter(function(e){return e.onDuty});t.updateDirector({branch:e.branch.name,director:e.branch.director,dispatchNum:n.length}).success(function(){for(var t=0;t<e.branch.members.length;t++)s.updateOnDuty({memberId:e.branch.members[t]._id,onDuty:e.branch.members[t].onDuty,mission:e.branch.members[t].mission})}).then(function(){i.history.back()})}}]),angular.module("InNet").service("GeoSvc",["$q",function(e){this.getGeolocationCoordinates=function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){t.resolve(e.coords)},function(e){t.resolve(null)}),t.promise}}]),angular.module("InNet").controller("LoginCtrl",["$scope","UserSvc","store","$state","jwtHelper","$http","SocketSvc",function(e,t,n,s,r,i,a){var o=null;e.user={},e.login=function(){t.login(e.user).success(function(e){e.success?(n.set("jwt",e.token),i.defaults.headers.common["x-access-token"]=e.token,o=e.token):console.log("password is not existed!")}).then(function(){a.init(o),a.emit("login")}).then(function(){s.go("admin"==r.decodeToken(o).role?"dutyDesk.dashboard":"director.safety.index")})}}]),angular.module("InNet").controller("MapIndexCtrl",["$scope","leafletData","GeoSvc",function(e,t,n){n.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}}),t.getMap().then(function(t){var n=e.controls.edit.featureGroup;t.on("draw:created",function(e){var t=e.layer;n.addLayer(t),FeatureCollections.push(t.toGeoJSON())})})}]),angular.module("InNet").controller("MemberAccountModalCtrl",["$scope","UserSvc","MemberSvc","member","$modalInstance",function(e,t,n,s,r){e.user=s,e.save=function(){_.isEmpty(e.user)?console.log("please enter your account and password!"):e.user.account?e.user.password?(t.activate(e.user),n.updateUser(s.name),r.close(e.user)):console.log("password can't be blank"):(console.log("account can't be blank!"),e.user.password||console.log("passwod can't be blank!"))},e.cancel=function(){r.dismiss("cancel")}}]),angular.module("InNet").controller("MemberCtrl",["$scope","MemberSvc","$stateParams",function(e,t,n){e.branch=n.branch,t.findByBranch(n.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})}]),angular.module("InNet").controller("MemberEditCtrl",["$scope","MemberSvc","BranchSvc","$stateParams","$window","$modal","$state","UserSvc",function(e,t,n,s,r,i,a,o){e.alerts=[],e.memberDeleted=!1;var c=null;e.accessLevel=o.accessLevel();var u=function(){t.findByBranch(s.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})};u(),e.save=function(){for(var t=[],i=[],a=0;a<e.members.length;a++)t.push(e.members[a]._id),i.push(e.members[a].name),("分隊長"==e.members[a].title||"小隊長"==e.members[a].title||"中隊長"==e.members[a].title||"大隊長"==e.members[a].title)&&(director=e.members[a].name);n.update({branch:s.branch,members:t,directors:i,director:director}),r.history.back()},e.addNewMember=function(){var t=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{workingTime:null}}}});t.result.then(function(t){t&&u(),e.alerts.push({type:"success",msg:"人員新增成功！ "+t.name+" 已加入 "+t.branch})})},e.update=function(t){var n=t,r=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{memberId:t._id,id:t.id,name:t.name,title:t.title,branches:t.branches,corps:t.corps,radioCode:t.radioCode,workingTime:60*t.workingTime.minutes()+t.workingTime.seconds()}}}});r.result.then(function(t){u(),e.alerts.push({type:"info",msg:n.name+"修改成功!"})})},e.activateAccount=function(t){var n=e.members.filter(function(e){return e.isUser});if(n.length<3){var s=i.open({templateUrl:"views/member/member.account.html",controller:"MemberAccountModalCtrl",size:"md",resolve:{member:function(){return t}}});s.result.then(function(t){u(),e.alerts.push({type:"info",msg:t.name+" 已開通為使用者"})})}else e.alerts.push({type:"warning",msg:"無法開通"+t.name+" 因為使用者已超過3位，請解除其他人帳號後再開通 "})};var l=function(n){o.removeUser(c.name).success(function(s){t.removeUser(s.username),e.closeAlert(n),u()})},m=function(n){e.memberDeleted=!0,t.deleteMember(c).success(function(){e.memberDeleted=!1}),e.closeAlert(n),u()},d=function(t){e.memberDeleted=!1,e.closeAlert(t)};e.deleteAlert=function(t){e.alerts.push({type:"danger",msg:"是否確定要刪除！"+t.name,execute:m,cancel:d}),c=t},e.deActivateAlert=function(t){var n=e.members.filter(function(e){return e.isUser});1==n.length?e.alerts.push({type:"warning",msg:"每分隊至少要有1個使用者，無法取消"+t.name+"的登入權限"}):(e.alerts.push({type:"danger",msg:"是否確定要解除"+t.name+"登入權限",execute:l,cancel:d}),c=t)},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("MemberModalCtrl",["$scope","branch","MemberSvc","$modalInstance","$state","member","BranchSvc","UserSvc",function(e,t,n,s,r,i,a,o){e.alerts=[],e.isNew=_.isNull(i.workingTime),e.member={id:i.id||"",name:i.name||null,title:"消防隊員",titles:["消防隊員","小隊長","分隊長","中隊長","大隊長","副大隊長"],branch:i.branch||t,workingTime:i.workingTime||1200,radioCode:i.radioCode||null,mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","小組長","安全管制員","聯絡官"],corps:o.userCorps(),corpss:["第一救災救護大隊","第三救災救護大隊"]},a.fetch(o.userCorps()).success(function(t){if(e.branches=t,!e.isNew){for(var n=[],s=t.length-1;s>=0;s--)n.push(t[s].name);e.member.branches=n}});var c=function(e){var t=e.split("").slice(-2).join("");return"大隊"==t||"中隊"==t?"北海":e.split("").slice(0,2).join("")};e.save=function(){e.member.name&&(e.member.radioCodePrefix=c(e.member.branch),n.create(e.member).success(function(){e.member.workingTime=moment.duration(parseInt(e.member.workingTime),"seconds")}).then(function(){s.close(e.member)}))},e.update=function(){var t={memberId:i.memberId,id:"",name:e.member.name,corps:e.member.corps,branch:e.member.branch,title:e.member.title,workingTime:e.member.workingTime,radioCode:e.member.radioCode,radioCodePrefix:c(e.member.branch)};e.member.name&&(n.updateByMemberId(t),s.close(t))},e.cancel=function(){s.dismiss("cancel")}}]),angular.module("InNet").service("MemberSvc",["$http",function(e){this.fetch=function(){return e.get("/api/members")},this.findByBranch=function(t){return e.get("/api/members/"+t)},this.fetchOnDuty=function(t){return e.get("/api/members/onDuty?branch="+t)},this.updateOnDuty=function(t){return e.put("/api/members/onDuty/findById?memberId="+t.memberId,t)},this.create=function(t){return e.post("/api/members/",t)},this.update=function(t){return e.put("/api/members/",t.id)},this.updateByMemberId=function(t){return e.put("/api/members/findById/"+t.memberId,t)},this.updateIsChecked=function(t){return e.put("/api/members?id="+t.memberId,t)},this.updateUser=function(t){return e.put("/api/members/user?username="+t)},this.removeUser=function(t){return e.put("/api/members/user/remove?username="+t)},this.deleteMember=function(t){return e["delete"]("/api/members/"+t._id)}}]),angular.module("InNet").controller("NavCtrl",["$scope","BranchSvc","store","jwtHelper","UserSvc",function(e,t,n,s,r){e.username=r.currentUser(),e.branch=r.userBranch(),t.fetch(r.userCorps()).success(function(t){e.branches=t}),e.isValid=function(e){return r.isValid(e)}}]),angular.module("InNet").service("NtfSvc",["$http",function(e){this.fetch=function(){return e.get("/api/nfts")}}]),angular.module("InNet").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/login"),e.state("anon",{url:"","abstract":!0,template:"<ui-view>"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.404",{url:"/404",templateUrl:"views/404.html"}),e.state("dutyDesk",{"abstract":!0,url:"/dutyDesk",templateUrl:"views/common/content.html",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.case",{url:"/case",templateUrl:"views/case/case.index.html",controller:"CaseCtrl"}).state("dutyDesk.safety",{url:"/case/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("dutyDesk.dutylist",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.dutylist.show",{url:"/dutylist/:branch",templateUrl:"views/dutylist/dutylist.index.html",controller:"DutyListCtrl"}).state("dutyDesk.dutylist.edit",{url:"/dutylist/:branch/edit",templateUrl:"views/dutylist/dutylist.edit.html",controller:"DutyListEditCtrl"}).state("dutyDesk.member",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.member.show",{url:"/member/:branch",templateUrl:"views/member/member.index.html",controller:"MemberCtrl"}).state("dutyDesk.member.edit",{url:"/member/:branch/edit",templateUrl:"views/member/member.edit.html",controller:"MemberEditCtrl"}).state("dutyDesk.car",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.car.show",{url:"/car/:branch",templateUrl:"views/cars/car.index.html",controller:"CarIndexCtrl"}).state("dutyDesk.car.edit",{url:"/car/:branch/edit",templateUrl:"views/cars/car.edit.html",controller:"CarEditCtrl"}),e.state("director",{"abstract":!0,url:"",templateUrl:"views/director/director.content.html",data:{requiredLogin:!0,role:["user"]}}).state("director.safety",{"abstract":!0,url:"/safety",template:"<ui-view>"}).state("director.safety.index",{url:"/index",templateUrl:"views/safety/safety.index.html",controller:"SafetyIndexCtrl"}).state("director.safety.management",{url:"/index/:id",templateUrl:"views/safety/safety.manage.html",controller:"SafetyManageCtrl"}).state("director.safety.summary",{url:"/summary/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("director.map",{url:"/map",templateUrl:"views/map/map.index.html",controller:"MapIndexCtrl"}).state("director.dutylist",{"abstract":!0,url:"/dutylist",template:"<ui-view>"}).state("director.dutylist.index",{url:"/index",templateUrl:"views/dutylist/director.dutylist.index.html",controller:"DirDutyListCtrl"}).state("director.dutylist.edit",{url:"/edit",templateUrl:"views/dutylist/director.dutylist.edit.html",controller:"DutyListEditCtrl"})}]).run(["$rootScope","$state","$stateParams","store","jwtHelper","UserSvc","SocketSvc",function(e,t,n,s,r,i,a){e.$on("$stateChangeStart",function(e,n,a,o,c){"anon.login"==n.name?s.remove("jwt"):n.data&&n.data.requiredLogin&&(i.isLoggedIn()?-1==n.data.role.indexOf(r.decodeToken(s.get("jwt")).role)&&(e.preventDefault(),t.go("anon.login")):(e.preventDefault(),t.go("anon.login")))}),e.$on("$stateChangeError",function(e){e.preventDefault()})}]),angular.module("InNet").controller("SafetyIndexCtrl",["$scope","CaseSvc","UserSvc","SocketSvc","$rootScope",function(e,t,n,s,r){s.on("newCase",function(t){e.cases.push(t)}),s.on("caseClose",function(t){t.isOngoing||(e.cases=e.cases.filter(function(e){return e._id!=t.caseId}))});var i={branch:n.userBranch(),accessLevel:n.accessLevel(),corps:n.userCorps()};t.fetchRelativeCase(i).success(function(t){e.cases=t}),e.$on("$destroy",function(e){s.removeAllListeners()}),e.accessLevel=n.accessLevel()}]),angular.module("InNet").controller("SafetyManageCtrl",["$scope","$stateParams","$modal","StSvc","$state","MemberSvc","$log","UserSvc","BranchSvc","SocketSvc","CaseSvc",function(e,t,n,s,r,i,a,o,c,u,l){var m=o.userBranch(),d=null;e.quickStart=!1,e.apartment=!0,e.ACCESSLEVEL=o.accessLevel(),e.branchOptions={branch:m,branches:[]},l.findById(t.id).success(function(t){d=t,e.apartment="住宅火警"==t.env?!0:!1,e.branchOptions.branches=t.branches,e.branchOptions.branches.splice(0,0,m)}),c.fetchByName(m).success(function(t){e.details=t}).then(function(){e.ACCESSLEVEL>1?s.fetchByCase(t.id).success(function(t){e.strikeTeams=t}):s.fetch(t.id,m).success(function(t){e.strikeTeams=t,e.details.members.length<8&&_.isEmpty(e.strikeTeams)&&(e.quickStart=!0)})}),u.on("newSt",function(n){e.ACCESSLEVEL>1&&angular.equals(t.id,n.caseId)?e.strikeTeams.push(n):angular.equals(m,n.branch)&&angular.equals(t.id,n.caseId)&&e.strikeTeams.push(n)}),u.on("updateSt",function(t){for(var n=angular.copy(t.members),s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.id)&&(e.strikeTeams[s].position=t.position,e.strikeTeams[s].area=t.area,e.strikeTeams[s].members.push.apply(e.strikeTeams[s].members,n))}),u.on("dismiss",function(t){var n=t.stId;e.strikeTeams=e.strikeTeams.filter(function(e){return e._id!=n})}),e.strikeTeam=function(){n.open({templateUrl:"views/safety/safety.modal.html",controller:"SafetyModalCtrl",size:"md",resolve:{stId:function(){return _.isEmpty(e.strikeTeams)?0:e.strikeTeams[e.strikeTeams.length-1].id},branch:function(){return e.branchOptions.branch},caseDetail:function(){return d}}})},e.openSettingModal=function(t,s){var r=n.open({templateUrl:"views/safety/safety.setting.modal.html",controller:"SafetySettingCtrl",size:"lg",resolve:{strikeTeam:function(){return t}}});r.result.then(function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].position=t.position,e.strikeTeams[n].area=t.area,e.strikeTeams[n].members.push.apply(e.strikeTeams[n].members,t.members))},function(){a.info("Modal dismissed at: "+new Date)})},e.dismiss=function(t,n){s.dismissSt({id:t._id}).success(function(){for(var e=t.members.length-1;e>=0;e--)i.updateIsChecked({memberId:t.members[e]._id,mission:t.members[e].mission,isChecked:!1})}),e.strikeTeams.splice(n,1)},e.quickOrganizing=function(){e.quickStart=!1;for(var n=e.details.members.filter(function(e){return"司機"==e.mission||"安全管制員"==e.mission||"救護人員"==e.mission?!1:!0}),s={id:1,caseId:t.id,branch:e.details.name,director:e.details.director,position:"第一面",positions:["第一面","第二面","第三面","第四面"],mission:"滅火小組",missions:["滅火小組","破壞小組","搜救小組"],area:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"],members:n,isDismissed:!1,workingTime:_.min(n,function(e){return e.workingTime}).workingTime,creator:o.currentUser()},r=n.length-1;r>=0;r--)i.updateIsChecked({memberId:n[r]._id,isChecked:!0,mission:n[r].mission});u.emit("createStrikeTeam",s)},e.$on("$destroy",function(e){u.removeAllListeners()})}]),angular.module("InNet").controller("SafetyModalCtrl",["$scope","$modalInstance","$stateParams","StSvc","MemberSvc","$state","$window","stId","UserSvc","BranchSvc","SocketSvc","branch","caseDetail",function(e,t,n,s,r,i,a,o,c,u,l,m,d){e.alerts=[],e.apartment="住宅火警"==d.env?!0:!1,e.title=m+(o+1),u.fetchByName(m).success(function(t){e.details=t}).then(function(){e.details&&(e.details.members=e.details.members.filter(function(e){return 1!=e.isChecked}),e.details.members.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}))}),e.strikeTeam={position:"第一面",positions:["第一面","第二面","第三面","第四面"],mission:"滅火小組",missions:["滅火小組","破壞小組","搜救小組"],area:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"],floor:d.floor,floors:d.floor<5?_.range(1,6,1):_.range(d.floor-2,d.floor+3,1)},e.check=function(e){e.isChecked=!e.isChecked},e.cancel=function(){t.dismiss("cancel")},e.save=function(){var s=e.details.members.filter(function(e){return e.isChecked===!0});if(s.length>2){for(var i={id:o+1||0,caseId:n.id,branch:e.details.name,director:e.details.director,position:e.strikeTeam.position,positions:e.strikeTeam.positions,mission:e.strikeTeam.mission,missions:e.strikeTeam.missions,area:e.strikeTeam.area,areas:e.strikeTeam.areas,floor:e.strikeTeam.floor,floors:e.strikeTeam.floors,members:s,isDismissed:!1,workingTime:_.min(s,function(e){return e.workingTime}).workingTime,creator:c.currentUser()},a=s.length-1;a>=0;a--)r.updateIsChecked({memberId:s[a]._id,isChecked:s[a].isChecked,mission:s[a].mission});l.emit("createStrikeTeam",i),t.close()}else e.alerts.push({type:"danger",msg:"兩人以上才能編組"})},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("SafetySettingCtrl",["$scope","strikeTeam","$modalInstance","StSvc","$state","MemberSvc","CaseSvc","$stateParams","SocketSvc",function(e,t,n,s,r,i,a,o,c){var u=[],l=[];e.strikeTeam=t,a.fetchDetails(o.id).success(function(t){e.dispatch=t.branchIds}),e.chooseBranch=function(t){e.members=e.dispatch[t].members;for(var n=e.members.length-1;n>=0;n--)e.members[n].isChecked&&e.members.splice(n,1)},e.cancel=function(){n.dismiss("cancel")},e.check=function(e){e.isChecked=!e.isChecked,u.push(e._id),l.push(e)},e.uncheck=function(e,t){e.isChecked=!e.isChecked,u.splice(t,1),l.splice(t,1)},e.save=function(){s.updateSt({id:t._id,position:t.position,area:t.area,mission:t.mission,memberIds:u}).success(function(){for(var e=u.length-1;e>=0;e--)i.updateIsChecked({memberId:l[e]._id,mission:l[e].mission,isChecked:!0})}),n.close({id:t._id,position:t.position,area:t.area,members:l,caseId:t.caseId})}}]),angular.module("InNet").service("SocketSvc",["$rootScope","store","$q","$timeout",function(e,t,n,s){this.init=function(e){var n=null;return n=e?e:t.get("jwt"),io.connect("http://localhost:3000",{query:"token="+n,forceNew:!0})};var r=this.init();this.on=function(t,n){this.init().on(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})},this.emit=function(t,n,s){this.init().emit(t,n,function(){var t=arguments;e.$apply(function(){s&&s.apply(r,t)})})},this.removeAllListeners=function(t,n){this.init().removeAllListeners(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})}}]),angular.module("InNet").service("StSvc",["$http",function(e){this.fetch=function(t,n){return e.get("/api/strikeTeams?caseId="+t+"&branch="+n)},this.fetchByCase=function(t){return e.get("/api/strikeTeams/total?caseId="+t)},this.findById=function(t){return e.get("/api/strikeTeams/"+t)},this.dismissSt=function(t){return e.put("/api/strikeTeams/dismiss?id="+t.id)},this.updateSt=function(t){return e.put("/api/strikeTeams/update?id="+t.id,t)},this.updateTimeRecord=function(t){return e.put("/api/strikeTeams/time?id="+t.id,t)},this.create=function(t){return e.post("/api/strikeTeams",t)},this.count=function(t){return e.get("/api/strikeTeams/count?caseId="+t)}}]),angular.module("InNet").controller("SummaryCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc","CaseSvc",function(e,t,n,s,r,i,a){i.on("timerRunning",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.stId)&&(e.strikeTeams[n].timerRunning=t.timerRunning)}),i.on("progressUpdate",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].timer=moment.duration(t.millis),e.strikeTeams[n].progress=t.progress,e.strikeTeams[n].progressState=t.progressState)}),i.on("newSt",function(t){if(angular.equals(o,t.caseId)){var n=angular.copy(t);e.strikeTeams.push(n)}e.deploys=c(e.strikeTeams)}),i.on("updateSt",function(n){t.fetchByCase(o).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)})}),i.on("dismiss",function(n){t.fetchByCase(o).success(function(t){e.strikeTeams=t,e.deploys=c(e.strikeTeams)})});var o=n.id;a.findById(o).success(function(t){e.apartment="住宅火警"==t.env?!0:!1,e.caseDetail=t,e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"],floor:e.caseDetail.floor,floors:e.caseDetail.floor<5?_.range(1,6,1):_.range(e.caseDetail.floor-2,e.caseDetail.floor+3,1)}}),t.fetchByCase(o).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)});var c=function(t){var n=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0}})});if(t)for(var s=t.length-1;s>=0;s--){var r=null,i=_.indexOf(t[s].positions,t[s].position);r=e.apartment?_.indexOf(t[s].floors,t[s].floor):_.indexOf(t[s].areas,t[s].area),n[i][r].stTotal+=1,n[i][r].totalMember+=t[s].members.length}return n};console.log(c(e.strikeTeams)),e.$on("$destroy",function(e){i.removeAllListeners()})}]),angular.module("InNet").controller("TimerCtrl",["$scope","SocketSvc",function(e,t){e.timerRunning=!1,e.startTimer=function(n,s){e.$broadcast("timer-start"),e.timerRunning=!0,t.emit("timer",{stId:n._id,timerRunning:!0})},e.stopTimer=function(n,s){e.$broadcast("timer-stop"),e.timerRunning=!1,t.emit("timer",{stId:n._id,timerRunning:!1})}}]),angular.module("InNet").controller("TopNavCtrl",["$scope","$location","$state","$interval","store","SocketSvc","UserSvc","$window",function(e,t,n,s,r,i,a,o){e.currentTime=moment().format("MMM Do, h:mm:ss a"),s(function(){moment.locale("zh-tw"),e.currentTime=moment().format("MMM Do, h:mm:ss a")},1e3),e.logout=function(){a.currentAccount();i.emit("logout"),n.go("anon.login")}}]),angular.module("InNet").service("UserSvc",["$http","store","jwtHelper",function(e,t,n){this.fetchOnlineUser=function(){return e.get("/api/users/userState")},this.activate=function(t){return e.post("/api/users",t)},this.removeUser=function(t){return e["delete"]("/api/users/delete?username="+t)},this.login=function(t){return e.post("/api/users/authenticate",t)},this.isLoggedIn=function(){return t.get("jwt")},this.isValid=function(e){return this.isLoggedIn&&(n.decodeToken(t.get("jwt")).accessLevel>1||n.decodeToken(t.get("jwt")).branch==e)?!0:!1},this.userBranch=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).branch:void 0},this.userCorps=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).corps:void 0},this.currentUser=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).username:void 0},this.currentAccount=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).account:void 0},this.accessLevel=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).accessLevel:void 0},this.caseId=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).caseId:void 0}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImJyYW5jaC5zdmMuanMiLCJjYXIuZWRpdC5jdHJsLmpzIiwiY2FyLmluZGV4LmN0cmwuanMiLCJjYXJzLnN2Yy5qcyIsImNhc2UuY3RybC5qcyIsImNhc2UubW9kYWwuY3RybC5qcyIsImNhc2Uuc3ZjLmpzIiwiZGFzaGJvYXJkLmN0cmwuanMiLCJkaXJlY3RpdmVzLmpzIiwiZGlyZWN0b3IuZHV0eWxpc3QuY3RybC5qcyIsImRpc3BhdGNoLmN0cmwuanMiLCJkdXR5bGlzdC5jdHJsLmpzIiwiZHV0eWxpc3QuZWRpdC5jdHJsLmpzIiwiZ2VvLnN2Yy5qcyIsImxvZ2luLmN0cmwuanMiLCJtYXAuaW5kZXguY3RybC5qcyIsIm1lbWJlci5hY2NvdW50Lm1vZGFsLmN0cmwuanMiLCJtZW1iZXIuY3RybC5qcyIsIm1lbWJlci5lZGl0LmN0cmwuanMiLCJtZW1iZXIubW9kYWwuY3RybC5qcyIsIm1lbWJlci5zdmMuanMiLCJuYXYuY3RybC5qcyIsIm50Zi5zdmMuanMiLCJyb3V0ZXIuanMiLCJzYWZldHkuaW5kZXguY3RybC5qcyIsInNhZmV0eS5tYW5hZ2UuY3RybC5qcyIsInNhZmV0eS5tb2RhbC5jdHJsLmpzIiwic2FmZXR5LnNldHRpbmcubW9kYWwuanMiLCJzb2NrZXQuc3ZjLmpzIiwic3Quc3ZjLmpzIiwic3VtbWFyeS5jdHJsLmpzIiwidGltZXIuY3RybC5qcyIsInRvcG5hdmJhci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJmZXRjaCIsImNvcnBzIiwiZ2V0IiwiZmV0Y2hCeU5hbWUiLCJicmFuY2giLCJ0b3RhbExpc3RGaW5kQnlOYW1lIiwiZ2V0RGV0YWlscyIsImlkIiwidXBkYXRlIiwiZGF0YSIsInB1dCIsInVwZGF0ZURpcmVjdG9yIiwiY29udHJvbGxlciIsIiRzY29wZSIsImZpbmRCeUJyYW5jaCIsIiRzdGF0ZVBhcmFtcyIsIiRtb2RhbCIsIkNhc2VTdmMiLCIkbG9nIiwiU29ja2V0U3ZjIiwiVXNlclN2YyIsIm1heFNpemUiLCJiaWdUb3RhbEl0ZW1zIiwiYmlnQ3VycmVudFBhZ2UiLCJ1c2VyQ29ycHMiLCJzdWNjZXNzIiwiY2FzZXMiLCJvbiIsIl9jYXNlIiwidW5zaGlmdCIsImNhc2VJZCIsImNob29zZSIsImZpbmRCeUlkIiwiX2lkIiwiY2FzZURldGFpbHMiLCJhZGROZXdDYXNlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJ0ZW1wbGF0ZVVybCIsInNpemUiLCJyZXNvbHZlIiwiXyIsImlzRW1wdHkiLCJyZXN1bHQiLCJ0aGVuIiwibXNnIiwiY29uc29sZSIsImxvZyIsImluZm8iLCJEYXRlIiwiZWRpdENhc2UiLCJDYXJTdmMiLCIkbW9kYWxJbnN0YW5jZSIsIiRzdGF0ZSIsIlN0U3ZjIiwiJHdpbmRvdyIsIkJyYW5jaFN2YyIsIk50ZlN2YyIsImdldENhcnNEZXRhaWwiLCJvYmoiLCJkaXNwYXRjaExpc3QiLCJjYXJJZHMiLCJicmFuY2hlcyIsImNhcnMiLCJpIiwibGVuZ3RoIiwicHVzaCIsInJhZGlvQ29kZSIsImdldEJyYW5jaElkIiwiYnJhbmNoZXNMaXN0IiwidW5pcXVlIiwiYnJhbmNoSWRzIiwiaW5kZXhPZiIsIm5hbWUiLCJpc05ldyIsImNhck9ianMiLCJuZnRPcHRpb24iLCJuZnRzIiwibmZ0IiwiY2FzZU9iaiIsImFkZHJlc3MiLCJwaG9uZSIsInR5cGUiLCJ0eXBlcyIsImVudiIsImVudnMiLCJmbG9vciIsImpvaW4iLCJnZXRDYXJzIiwiaXNDaGVja2VkIiwiY2FuY2VsIiwiZGlzbWlzcyIsImNhbmNlbERpc3BhdGNoIiwiY2FyIiwic3BsaWNlIiwiZGlzcGF0Y2giLCJjbG9zZUNhc2UiLCJjb3VudCIsInRvdGFsIiwiYWxlcnQiLCJpc09uZ29pbmciLCJyZWxvYWQiLCJzYXZlIiwiY3JlYXRlIiwib2ZmaWNlclJlY2VpdmVyIiwiY3VycmVudFVzZXIiLCJuZXdDYXNlIiwiY2xvc2UiLCJjb250ZW50IiwiZmV0Y2hBbGwiLCJmZXRjaFJlbGF0aXZlQ2FzZSIsImNvbiIsImFjY2Vzc0xldmVsIiwiZmV0Y2hEZXRhaWxzIiwiY2FzZV9pbmZvIiwicG9zdCIsInVwZGF0ZWRfY2FzZSIsIiRsb2NhdGlvbiIsImZldGNoT25saW5lVXNlciIsInVzZXJzIiwidXNlciIsImRpc2Nvbm5lY3RVc2VyIiwiZmlsdGVyIiwidXNlcm5hbWUiLCJsb2dvdXRVc2VyIiwiJG9uIiwiZXZlbnQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlc3RyaWN0IiwidGVtcGxhdGUiLCIkZWxlbWVudCIsIm1pbmltYWxpemUiLCIkIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsImhpZGUiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwicmVtb3ZlQXR0ciIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJtZXRpc01lbnUiLCJzaG93aGlkZSIsImlib3giLCJjbG9zZXN0IiwiaWNvbiIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInJlc2l6ZSIsImNsb3NlYm94IiwicmVtb3ZlIiwiaUVsZW1lbnQiLCJpQXR0cnMiLCJiaW5kIiwiaGlzdG9yeSIsImJhY2siLCJ1c2VyQnJhbmNoIiwib25EdXR5VG90YWwiLCJtZW1iZXJzIiwibWVtYmVyIiwib25EdXR5IiwiYnJhbmNoTGlzdCIsImNhcnNEYXRhIiwiaiIsInJhZGlvX2NvZGUiLCIkcSIsIk1lbWJlclN2YyIsImNoZWNrIiwiRGlzcGF0Y2hOdW1iZXIiLCJkaXJlY3RvciIsImRpc3BhdGNoTnVtIiwidXBkYXRlT25EdXR5IiwibWVtYmVySWQiLCJtaXNzaW9uIiwiZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcyIsImRlZmVycmVkIiwiZGVmZXIiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwiZXJyb3IiLCJwcm9taXNlIiwic3RvcmUiLCJqd3RIZWxwZXIiLCJ0b2tlbiIsImxvZ2luIiwic2V0IiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiaW5pdCIsImVtaXQiLCJnbyIsImRlY29kZVRva2VuIiwicm9sZSIsImxlYWZsZXREYXRhIiwiR2VvU3ZjIiwiY29vcmQiLCJub3dQb3MiLCJsYXQiLCJsYXRpdHVkZSIsImxuZyIsImxvbmdpdHVkZSIsInpvb20iLCJleHRlbmQiLCJjb250cm9scyIsImRyYXciLCJnZXRNYXAiLCJtYXAiLCJkcmF3bkl0ZW1zIiwiZWRpdCIsImZlYXR1cmVHcm91cCIsImUiLCJsYXllciIsImFkZExheWVyIiwiRmVhdHVyZUNvbGxlY3Rpb25zIiwidG9HZW9KU09OIiwiYWNjb3VudCIsInBhc3N3b3JkIiwiYWN0aXZhdGUiLCJ1cGRhdGVVc2VyIiwiZm9yRWFjaCIsIndvcmtpbmdUaW1lIiwibW9tZW50IiwiZHVyYXRpb24iLCJhbGVydHMiLCJtZW1iZXJEZWxldGVkIiwidGVtcERlbE1lbWJlciIsIm1lbWJlckluaXQiLCJtZW1iZXJJZHMiLCJkaXJlY3RvcnMiLCJ0aXRsZSIsImFkZE5ld01lbWJlciIsIm9sZE1lbWJlciIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiYWN0aXZhdGVBY2NvdW50IiwiaXNVc2VyIiwiZGVBY3RpdmF0ZUFjY291bnQiLCJpbmRleCIsInJlbW92ZVVzZXIiLCJjbG9zZUFsZXJ0IiwiZGVsZXRlTWVtYmVyIiwiY2FuY2VsRGVsIiwiZGVsZXRlQWxlcnQiLCJleGVjdXRlIiwiZGVBY3RpdmF0ZUFsZXJ0IiwiaXNOdWxsIiwidGl0bGVzIiwibWlzc2lvbnMiLCJjb3Jwc3MiLCJicmFuY2hBcnJ5IiwicmFkaW9Db2RlUHJlZml4Iiwic3VmZml4Iiwic3BsaXQiLCJzbGljZSIsInBhcnNlSW50IiwidXBkYXRlTWVtYmVyIiwidXBkYXRlQnlNZW1iZXJJZCIsImZldGNoT25EdXR5IiwidXBkYXRlSXNDaGVja2VkIiwibWVtYmVyRGF0YSIsImlzVmFsaWQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInJlcXVpcmVkTG9naW4iLCJydW4iLCIkcm9vdFNjb3BlIiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImlzTG9nZ2VkSW4iLCJwcmV2ZW50RGVmYXVsdCIsInVzZXJDb25kaXRpb24iLCJCUkFOQ0giLCJjYXNlRGV0YWlsIiwicXVpY2tTdGFydCIsImFwYXJ0bWVudCIsIkFDQ0VTU0xFVkVMIiwiYnJhbmNoT3B0aW9ucyIsImRldGFpbHMiLCJmZXRjaEJ5Q2FzZSIsInN0cyIsInN0cmlrZVRlYW1zIiwic3QiLCJlcXVhbHMiLCJjb3B5IiwiYXJlYSIsImFwcGx5IiwiX3N0SWQiLCJzdElkIiwic3RyaWtlVGVhbSIsIm9wZW5TZXR0aW5nTW9kYWwiLCJ1cGRhdGVkU3QiLCJkaXNtaXNzU3QiLCJxdWlja09yZ2FuaXppbmciLCJwb3NpdGlvbnMiLCJhcmVhcyIsImlzRGlzbWlzc2VkIiwibWluIiwiY3JlYXRvciIsImxpbWl0VGltZSIsImZsb29ycyIsInJhbmdlIiwibWVtYmVyT2JqcyIsImNob29zZUJyYW5jaCIsInVuY2hlY2siLCJ1cGRhdGVTdCIsImF1dGhUb2tlbiIsImlvIiwiY29ubmVjdCIsInF1ZXJ5IiwiZm9yY2VOZXciLCJzb2NrZXQiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJ1cGRhdGVUaW1lUmVjb3JkIiwiJGludGVydmFsIiwidGltZXJSdW5uaW5nIiwidGltZXIiLCJtaWxsaXMiLCJwcm9ncmVzcyIsInByb2dyZXNzU3RhdGUiLCJuZXdTdCIsImRlcGxveXMiLCJpbml0VGFibGUiLCJkZWZhdWx0UG9zIiwiZGVwbG95QXJyYXkiLCJ0b3RhbE1lbWJlciIsInN0VG90YWwiLCJ5IiwieCIsInN0YXJ0VGltZXIiLCIkYnJvYWRjYXN0Iiwic3RvcFRpbWVyIiwiY3VycmVu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V0FDQS9GLEVBQUFVLFlBQUFYLEVBQUF6TCxJQUFBLFFBQUE0TixRQURBLFFBS0EvTixLQUFBaUgsWUFBQSxXQUNBLE1BQUFqSCxNQUFBNFIsV0FDQS9GLEVBQUFVLFlBQUFYLEVBQUF6TCxJQUFBLFFBQUE4RyxZQURBLFFBS0FqSCxLQUFBK0IsT0FBQSxXQUNBLE1BQUEvQixNQUFBNFIsV0FDQS9GLEVBQUFVLFlBQUFYLEVBQUF6TCxJQUFBLFFBQUE0QixPQURBIiwiZmlsZSI6ImlubmV0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBJbk5ldCBNb2QndWkucm91dGUndWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0JywgWyd1aS5yb3V0ZXInLCd1aS5ib290c3RyYXAnLCAndGltZXInLCdhbmd1bGFyLXN0b3JhZ2UnLCAnYW5ndWxhci1qd3QnLCdsZWFmbGV0LWRpcmVjdGl2ZScsICdhbmd1bGFyLmZpbHRlciddKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0JyYW5jaFN2YycsIFsgJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKGNvcnBzKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaD9jb3Jwcz0nICsgY29ycHMpO1xuXHR9O1xuXG5cdHRoaXMuZmV0Y2hCeU5hbWUgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoL25hbWU/YnJhbmNoPScgKyBicmFuY2gpO1xuXHR9O1xuXG5cdHRoaXMudG90YWxMaXN0RmluZEJ5TmFtZSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2gvbmFtZS90b3RhbD9icmFuY2g9JyArIGJyYW5jaClcblx0fVxuXG5cdHRoaXMuZ2V0RGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaC8nICsgaWQpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9icmFuY2gvJyArIGRhdGEuYnJhbmNoICwgZGF0YSk7XG5cdH07XG5cblx0dGhpcy51cGRhdGVEaXJlY3RvciA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYnJhbmNoP2JyYW5jaD0nICsgZGF0YS5icmFuY2gsIGRhdGEpXG5cdH1cblx0XG59XSkiLCIvKipcbionSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXJFZGl0Q3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0NhckluZGV4Q3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0NhclN2YycsIFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FycycpXG5cdH1cblxuXHR0aGlzLmZpbmRCeUJyYW5jaCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhcnMvJyArIGJyYW5jaCApXG5cdH1cblx0XG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXJzLycgKyBkYXRhLmlkICwgZGF0YSlcblx0fVxuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXNlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsICckbG9nJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSAsICRzdGF0ZVBhcmFtcywgJG1vZGFsLCBDYXNlU3ZjLCAkbG9nLCBTb2NrZXRTdmMsIFVzZXJTdmMpIHtcblxuXHQkc2NvcGUubWF4U2l6ZSA9IDU7XG5cdCRzY29wZS5iaWdUb3RhbEl0ZW1zID0gMTc1O1xuXHQkc2NvcGUuYmlnQ3VycmVudFBhZ2UgPSAxO1xuXG5cdENhc2VTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdH0pO1xuXG5cdFNvY2tldFN2Yy5vbignbmV3Q2FzZScsZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdCRzY29wZS5jYXNlcy51bnNoaWZ0KF9jYXNlKTtcblx0fSk7XG5cblx0U29ja2V0U3ZjLm9uKCdjYXNlTW9kaWZpZWQnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHQkc2NvcGUuY2FzZXNbX2Nhc2UuY2FzZUlkLTFdID0gX2Nhc2U7XG5cdH0pO1xuXG5cdCRzY29wZS5jaG9vc2UgPSBmdW5jdGlvbihpZCl7XG5cdFx0Q2FzZVN2Yy5maW5kQnlJZCgkc2NvcGUuY2FzZXNbaWRdLl9pZCkuc3VjY2VzcyhmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdCRzY29wZS5jYXNlRGV0YWlscyA9IF9jYXNlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5hZGROZXdDYXNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY2FzZS9jYXNlLm1vZGFsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZU1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRpZiAoIF8uaXNFbXB0eSgkc2NvcGUuY2FzZXMpKSB7XG5cdFx0XHQgICAgXHRcdFx0cmV0dXJuIDBcblx0XHRcdCAgICBcdFx0fSBlbHNle1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAkc2NvcGUuY2FzZXNbMF0uY2FzZUlkO1xuXHRcdFx0ICAgIFx0XHR9O1xuXHRcdFx0ICAgIH0sXG5cdFx0ICAgIFx0Y2FzZURldGFpbHMgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIHt9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKG1zZykge1xuXHQgICAgICAvLyAkc2NvcGUuY2FzZXMudW5zaGlmdChuZXdDYXNlKTtcblx0ICAgICAgY29uc29sZS5sb2cobXNnKTtcblx0ICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oaWQpe1xuXHQgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9jYXNlL2Nhc2UubW9kYWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gaWRcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2FzZURldGFpbHNcblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcbn1dKVxuIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ0NhclN2YycsICckbW9kYWxJbnN0YW5jZScsICdDYXNlU3ZjJywnJHN0YXRlJywgJ2Nhc2VJZCcsJ2Nhc2VEZXRhaWxzJywgJ1N0U3ZjJywgJyR3aW5kb3cnLCAnQnJhbmNoU3ZjJywgJ1VzZXJTdmMnLCAnTnRmU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FyU3ZjLCAkbW9kYWxJbnN0YW5jZSwgQ2FzZVN2YywgJHN0YXRlLCBjYXNlSWQsIGNhc2VEZXRhaWxzLCBTdFN2YyAsICR3aW5kb3csIEJyYW5jaFN2YywgVXNlclN2YywgTnRmU3ZjKSB7XG5cblx0aWYgKF8uaXNFbXB0eShjYXNlRGV0YWlscykpIHtcblx0XHQkc2NvcGUuaXNOZXcgPSB0cnVlO1xuXHRcdGNhck9ianMgPSBbXTtcblxuXHR9ZWxzZXtcblx0XHQkc2NvcGUuaXNOZXcgPSBmYWxzZTtcblx0XHR2YXIgY2FyT2JqcyA9IGNhc2VEZXRhaWxzLmNhcnM7XG5cdH07XG5cdFxuXHQkc2NvcGUubmZ0T3B0aW9uID0ge307XG5cblx0TnRmU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbihuZnRzKXtcblx0XHQkc2NvcGUubmZ0T3B0aW9uLm5mdHMgPSBuZnRzO1xuXHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0JHNjb3BlLm5mdE9wdGlvbi5uZnQgPSAkc2NvcGUubmZ0T3B0aW9uLm5mdHNbMF07XG5cdH0pXG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHQgICAgJHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGdldENhcnNEZXRhaWwob2JqKXtcblx0XHR2YXIgZGlzcGF0Y2hMaXN0ID0gW107XG5cdFx0dmFyIGNhcklkcyA9IFtdO1xuXHRcdHZhciBicmFuY2hlcyA9IFtdO1xuXG5cdFx0aWYgKG9iai5jYXJzKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gb2JqLmNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0ZGlzcGF0Y2hMaXN0LnB1c2gob2JqLmNhcnNbaV0ucmFkaW9Db2RlKTtcblx0XHRcdFx0Y2FySWRzLnB1c2gob2JqLmNhcnNbaV0uX2lkKTtcblx0XHRcdFx0YnJhbmNoZXMucHVzaChvYmouY2Fyc1tpXS5icmFuY2gpOyBcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4ge2Rpc3BhdGNoTGlzdCA6IGRpc3BhdGNoTGlzdCAsIGNhcklkcyA6IGNhcklkcyAsIGJyYW5jaGVzIDogIGJyYW5jaGVzfVxuXG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fTtcblx0fTtcblxuXHRmdW5jdGlvbiBnZXRCcmFuY2hJZChicmFuY2hlc0xpc3Qpe1xuXHRcdHZhciBicmFuY2hlcyA9IF8udW5pcXVlKGJyYW5jaGVzTGlzdCk7XG5cdFx0dmFyIGJyYW5jaElkcyA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmJyYW5jaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYnJhbmNoZXMuaW5kZXhPZigkc2NvcGUuYnJhbmNoZXNbaV0ubmFtZSkgPiAtMSkge1xuXHRcdFx0XHRicmFuY2hJZHMucHVzaCgkc2NvcGUuYnJhbmNoZXNbaV0uX2lkKTtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRyZXR1cm4gIGJyYW5jaElkcztcblx0fTtcblxuXHQkc2NvcGUuY2FzZU9iaiA9IHtcblx0XHRhZGRyZXNzIDogY2FzZURldGFpbHMuYWRkcmVzcyB8fCBudWxsLFxuXHRcdHBob25lIDogY2FzZURldGFpbHMucGhvbmUgfHwgbnVsbCxcblx0ICAgIHR5cGUgOiBjYXNlRGV0YWlscy50eXBlIHx8ICBcIueBq+itplwiLCBcblx0ICAgIHR5cGVzIDogWyBcIueBq+itplwiLCBcIuaVkeitt1wiLCBcIueBveWus1wiLCBcIuaqouiIiVwiLFwi5YW25LuWXCJdLFxuXHQgICAgZW52ICAgOiBcIuS9j+WuheeBq+itplwiLFxuXHQgICAgZW52cyAgOiBbXCLkvY/lroXngavoraZcIixcIumrmOaok+OAgeWcsOS4i+iIh+W3peW7oFwiLFwi5pC25pWR5Zuw6Zuj5Y2AXCIsXCLlhbbku5ZcIl0sXG5cdCAgICBmbG9vciA6IDEsIFxuXHQgICAgY2FySWRzIDogZ2V0Q2Fyc0RldGFpbChjYXNlRGV0YWlscykuY2FySWRzICB8fCBbXSxcblx0ICAgIGRpc3BhdGNoTGlzdCA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmRpc3BhdGNoTGlzdCB8fCAgW10sXG5cdCAgICBicmFuY2hlcyA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmJyYW5jaGVzIHx8ICBbXVxuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cblx0JHNjb3BlLmdldENhcnMgPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0IENhclN2Yy5maW5kQnlCcmFuY2goYnJhbmNoLm5hbWUpLnN1Y2Nlc3MoZnVuY3Rpb24oY2Fycyl7XG5cdFx0IFx0Zm9yICh2YXIgaSA9IGNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgXHRcdGlmICgkc2NvcGUuY2FzZU9iai5jYXJJZHMuaW5kZXhPZihjYXJzW2ldLl9pZCkgPiAtMSApIHtcblx0XHQgXHRcdFx0Y2Fyc1tpXS5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHQgXHRcdH07XG5cdFx0IFx0fTtcblx0XHQgXHQkc2NvcGUuY2FycyA9IGNhcnM7XG5cdFx0IH0pO1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbERpc3BhdGNoID0gZnVuY3Rpb24oY2FyKXtcblx0XHRjYXIuaXNDaGVja2VkID0gZmFsc2U7XG5cdFx0Y2FyT2Jqcy5zcGxpY2UoY2FyT2Jqcy5pbmRleE9mKGNhciksMSlcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5faWQpLDEpO1xuXHRcdCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5zcGxpY2UoJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmluZGV4T2YoY2FyLnJhZGlvQ29kZSksMSk7XG5cdFx0JHNjb3BlLmNhc2VPYmouYnJhbmNoZXMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5icmFuY2gpLDEpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmRpc3BhdGNoID0gZnVuY3Rpb24oIGNhciApe1xuXHRcdGNhci5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHRjYXJPYmpzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMucHVzaChjYXIuX2lkKTtcblx0XHQkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QucHVzaChjYXIucmFkaW9Db2RlKTtcblx0XHQkc2NvcGUuY2FzZU9iai5icmFuY2hlcy5wdXNoKGNhci5icmFuY2gpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmNsb3NlQ2FzZSA9IGZ1bmN0aW9uKCl7XG5cdFx0U3RTdmMuY291bnQoY2FzZURldGFpbHMuX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKHRvdGFsKXtcblx0XHRcdGlmICh0b3RhbCA+IDAgKSB7XG5cdFx0XHRcdCR3aW5kb3cuYWxlcnQoXCLlsJrmnInpmorlk6HlnKjlronlhajnrqHliLZcIilcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRDYXNlU3ZjLmNsb3NlQ2FzZSh7XG5cdFx0XHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRcdFx0aXNPbmdvaW5nIDogZmFsc2Vcblx0XHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihtc2cpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG1zZylcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdFx0XHQkc3RhdGUucmVsb2FkKClcblx0XHRcdH07XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdENhc2VTdmMuY3JlYXRlKHtcblx0XHRcdGNhc2VJZCAgIDogY2FzZUlkICsgMSwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRvZmZpY2VyUmVjZWl2ZXIgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgfHwgIFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlIHx8IFwi5pWR6K23XCIsXG5cdFx0XHRwaG9uZSAgICAgOiAkc2NvcGUuY2FzZU9iai5waG9uZSB8fCBcIua4rOipplwiLFxuXHRcdFx0YnJhbmNoZXMgIDogXy51bmlxdWUoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHRcdFx0YnJhbmNoSWRzIDogZ2V0QnJhbmNoSWQoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHQgIFx0XHRjYXJzICAgICAgOiAkc2NvcGUuY2FzZU9iai5jYXJJZHMsXG5cdFx0XHRpc09uZ29pbmcgOiB0cnVlLFxuXHRcdFx0Y29ycHMgXHQgIDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRcdGVudiBcdCAgOiAkc2NvcGUuY2FzZU9iai5lbnYsXG5cdFx0XHRmbG9vciBcdCAgOiAkc2NvcGUuY2FzZU9iai5mbG9vclxuXHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24obmV3Q2FzZSl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZShuZXdDYXNlKVxuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBjb250ZW50ID0ge1xuXHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRjYXNlSWQgICA6IGNhc2VJZCwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzLFxuXHRcdFx0b2ZmaWNlclJlY2VpdmVyIDogVXNlclN2Yy5jdXJyZW50VXNlcigpIHx8IFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmNhc2VPYmoucGhvbmUsXG5cdFx0XHRicmFuY2hlcyAgOiBfLnVuaXF1ZSgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdFx0XHRicmFuY2hJZHMgOiBnZXRCcmFuY2hJZCgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdCAgXHRcdGNhcnMgICAgICA6ICRzY29wZS5jYXNlT2JqLmNhcklkcyxcblx0XHRcdGlzT25nb2luZyA6IHRydWUsXG5cdFx0XHRlbnYgXHQgIDogJHNjb3BlLmNhc2VPYmouZW52LFxuXHRcdFx0Zmxvb3IgXHQgIDogJHNjb3BlLmNhc2VPYmouZmxvb3Jcblx0XHR9O1xuXHRcdFxuXHRcdENhc2VTdmMudXBkYXRlKGNvbnRlbnQpO1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHR9O1xufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0Nhc2VTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY29ycHMpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXM/Y29ycHM9JyArIGNvcnBzICk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEFsbCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9kZXRhaWxzJyk7XG5cdH07XG5cblx0dGhpcy5mZXRjaFJlbGF0aXZlQ2FzZSA9IGZ1bmN0aW9uKGNvbil7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9icmFuY2g/YnJhbmNoPScgKyBjb24uYnJhbmNoICsgJyZhY2Nlc3NMZXZlbD0nICsgY29uLmFjY2Vzc0xldmVsICsgJyZjb3Jwcz0nICsgY29uLmNvcnBzICk7XG5cdH1cblxuXHR0aGlzLmZldGNoRGV0YWlscyA9IGZ1bmN0aW9uKCBjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvZGV0YWlscy8nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmZpbmRCeUlkID0gZnVuY3Rpb24oIGNhc2VJZCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvJyArIGNhc2VJZCApO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oY2FzZV9pbmZvKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jYXNlcycsIGNhc2VfaW5mbyk7XG5cdH07XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbih1cGRhdGVkX2Nhc2Upe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2FzZXMvJyArIHVwZGF0ZWRfY2FzZS5pZCAsIHVwZGF0ZWRfY2FzZSk7XG5cdH07XG5cblx0dGhpcy5kZWxldGUgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Nhc2VzLycgKyBjYXNlSWQpO1xuXHR9O1xuXG5cdHRoaXMuY2xvc2VDYXNlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXNlcy9jbG9zZT9pZD0nICsgZGF0YS5pZCwgZGF0YSApXG5cdH1cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZEN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBTb2NrZXRTdmMsIFVzZXJTdmMsIEJyYW5jaFN2Yykge1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdFx0fSk7XG5cblx0XHRVc2VyU3ZjLmZldGNoT25saW5lVXNlcigpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gdXNlcnM7XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ2luJyxmdW5jdGlvbih1c2VyKXtcblx0XHRcdCRzY29wZS51c2Vycy5wdXNoKHVzZXIpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyRGlzY29ubmVjdCcsZnVuY3Rpb24oZGlzY29ubmVjdFVzZXIpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gJHNjb3BlLnVzZXJzLmZpbHRlcihmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRcdHJldHVybiB1c2VyLnVzZXJuYW1lICE9IGRpc2Nvbm5lY3RVc2VyLnVzZXJuYW1lXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ291dCcsZnVuY3Rpb24obG9nb3V0VXNlcil7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSAkc2NvcGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0cmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gbG9nb3V0VXNlci51c2VybmFtZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uZGlyZWN0aXZlKCdtaW5pbWFsaXphU2lkZWJhcicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG5cdHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHRlbXBsYXRlOiAnPGEgY2xhc3M9XCJuYXZiYXItbWluaW1hbGl6ZSBtaW5pbWFsaXplLXN0eWwtMiBidG4gYnRuLXByaW1hcnlcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJtaW5pbWFsaXplKClcIj48aSBjbGFzcz1cImZhIGZhLWJhcnNcIj48L2k+PC9hPicsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAkc2NvcGUubWluaW1hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIm1pbmktbmF2YmFyXCIpO1xuICAgICAgICAgICAgICAgIGlmICghJCgnYm9keScpLmhhc0NsYXNzKCdtaW5pLW5hdmJhcicpIHx8ICQoJ2JvZHknKS5oYXNDbGFzcygnYm9keS1zbWFsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgbWVudSBpbiBvcmRlciB0byBzbW9vdGhseSB0dXJuIG9uIHdoZW4gbWF4aW1pemUgbWVudVxuICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igc21vb3RobHkgdHVybiBvbiBtZW51XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnZml4ZWQtc2lkZWJhcicpKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuZmFkZUluKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgaW5saW5lIHN0eWxlIGZyb20ganF1ZXJ5IGZhZGVJbiBmdW5jdGlvbiB0byByZXNldCBtZW51IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1dKVxuXG4uZGlyZWN0aXZlKCdzaWRlTmF2aWdhdGlvbicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24oICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIG1ldHNpTWVudSBwbHVnaW4gYW5kIHBsdWcgaXQgdG8gc2lkZWJhciBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQubWV0aXNNZW51KCk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdpYm94VG9vbHMnLCBbICckdGltZW91dCcsZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tbW9uL2lib3hfdG9vbHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBmb3IgY29sbGFwc2UgaWJveFxuICAgICAgICAgICAgJHNjb3BlLnNob3doaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpYm94ID0gJGVsZW1lbnQuY2xvc2VzdCgnZGl2Lmlib3gnKTtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9ICRlbGVtZW50LmZpbmQoJ2k6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGlib3guZmluZCgnZGl2Lmlib3gtY29udGVudCcpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVUb2dnbGUoMjAwKTtcbiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgaWNvbiBmcm9tIHVwIHRvIGRvd25cbiAgICAgICAgICAgICAgICBpY29uLnRvZ2dsZUNsYXNzKCdmYS1jaGV2cm9uLXVwJykudG9nZ2xlQ2xhc3MoJ2ZhLWNoZXZyb24tZG93bicpO1xuICAgICAgICAgICAgICAgIGlib3gudG9nZ2xlQ2xhc3MoJycpLnRvZ2dsZUNsYXNzKCdib3JkZXItYm90dG9tJyk7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpYm94LnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpYm94LmZpbmQoJ1tpZF49bWFwLV0nKS5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGZvciBjbG9zZSBpYm94XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWJveCA9ICRlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5pYm94Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlib3gucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdiYWNrJywgWyckd2luZG93JyAsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG4gICAgICAgICAgICBpRWxlbWVudC5iaW5kKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH07XG59XSlcbiIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0RpckR1dHlMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJywgXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIEJyYW5jaFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdFxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9ICRzY29wZS5icmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIub25EdXR5ID09IHRydWUgXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdEaXNwYXRjaEN0cmwnLCBbJyRzY29wZScsJyRzdGF0ZVBhcmFtcycsJyRtb2RhbCcsJ0Nhc2VTdmMnLCdCcmFuY2hTdmMnLCAnQ2FyU3ZjJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlICwgJHN0YXRlUGFyYW1zLCAkbW9kYWwsIENhc2VTdmMsIEJyYW5jaFN2YywgQ2FyU3ZjLCBVc2VyU3ZjKSB7XG5cblx0Q2FzZVN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGNhc2VzKXtcblx0XHQkc2NvcGUuY2FzZXMgPSBjYXNlcztcblx0XHRDYXNlU3ZjLmZpbmRCeUlkKCRzY29wZS5jYXNlc1skc3RhdGVQYXJhbXMuY2FzZUlkXS5faWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0XHQkc2NvcGUuY2FzZURldGFpbHMgPSBfY2FzZVxuXHRcdH0pXG5cdH0pXG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHQgICAgJHNjb3BlLmJyYW5jaExpc3QgPSBicmFuY2hlcztcblxuXHQgfSlcblxuXHRDYXJTdmMuZmV0Y2goKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuXHQgICAgJHNjb3BlLmNhcnNEYXRhID0gZGF0YVxuXHR9KVxuXG5cdCRzY29wZS5hZGROZXdDYXNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Nhc2VQYW5lbC9jYXNlQWRkTW9kYWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZUFkZE1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5pZCA9IFwi5paw5aKe5qGI5Lu2XCJcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGJyYW5jaExpc3QgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5icmFuY2hMaXN0XG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXJzRGF0YSA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhcnNEYXRhXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRpc05ldyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2FzZURldGFpbHMgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIHt9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0IH07XG5cblx0ICRzY29wZS5lZGl0Q2FzZSA9IGZ1bmN0aW9uKCl7XG5cdCBcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jYXNlUGFuZWwvY2FzZUFkZE1vZGFsJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0Nhc2VBZGRNb2RhbEN0cmwnLFxuXHRcdCAgICBzaXplOiBcImxnXCIsXG5cdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0ICAgIFx0Y2FzZUlkIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuaWQgPSAkc2NvcGUuY2FzZXNbJHN0YXRlUGFyYW1zLmNhc2VJZF0uY2FzZUlkIFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0YnJhbmNoTGlzdCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmJyYW5jaExpc3Rcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhcnNEYXRhIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdGZvciAodmFyIGkgPSAkc2NvcGUuY2Fyc0RhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgICAgXHRcdFx0Zm9yICh2YXIgaiA9ICRzY29wZS5jYXNlRGV0YWlscy5jYXJzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0ICAgIFx0XHRcdFx0aWYgKCAkc2NvcGUuY2Fyc0RhdGFbaV0ucmFkaW9Db2RlID09PSAkc2NvcGUuY2FzZURldGFpbHMuY2Fyc1tqXS5yYWRpb19jb2RlKSB7XG5cdFx0ICAgIFx0XHRcdFx0XHQkc2NvcGUuY2Fyc0RhdGFbaV0uaXNDaGVja2VkID0gdHJ1ZSBcblx0XHQgICAgXHRcdFx0XHR9O1xuXHRcdCAgICBcdFx0XHR9O1x0XHQgICAgXHRcdFx0XG5cdFx0ICAgIFx0XHR9O1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5jYXJzRGF0YVxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0aXNOZXcgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIGZhbHNlIFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2FzZURldGFpbHMgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5jYXNlRGV0YWlsc1xuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXHQgICAgfSk7XG5cdCB9O1xuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdEdXR5TGlzdEN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnJHN0YXRlUGFyYW1zJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJywgJyRxJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsIFNvY2tldFN2YywgVXNlclN2YywgJHEpIHtcblxuXHRcdHZhciBicmFuY2ggPSAkc3RhdGVQYXJhbXMuYnJhbmNoXG5cdFx0XG5cdFx0QnJhbmNoU3ZjLnRvdGFsTGlzdEZpbmRCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0XHQkc2NvcGUuYnJhbmNoID0gYnJhbmNoO1xuXHRcdFx0JHNjb3BlLm9uRHV0eVRvdGFsID0gJHNjb3BlLmJyYW5jaC5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIG1lbWJlci5vbkR1dHkgPT0gdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdEdXR5TGlzdEVkaXRDdHJsJywgWyckc2NvcGUnLCAnQnJhbmNoU3ZjJywgJyRzdGF0ZVBhcmFtcycsJ01lbWJlclN2YycsICckbG9jYXRpb24nLCAnJHdpbmRvdycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsIE1lbWJlclN2YywgJGxvY2F0aW9uLCAkd2luZG93LCBVc2VyU3ZjKSB7XG5cblx0XHRpZiAoVXNlclN2Yy5hY2Nlc3NMZXZlbCgpIDwgMiApIHtcblx0XHRcdHZhciBicmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblx0XHR9IGVsc2V7XG5cdFx0XHR2YXIgYnJhbmNoID0gJHN0YXRlUGFyYW1zLmJyYW5jaFxuXHRcdH07XG5cblx0XHRCcmFuY2hTdmMudG90YWxMaXN0RmluZEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdCRzY29wZS5icmFuY2ggPSBicmFuY2g7XG5cdFx0XHQkc2NvcGUub25EdXR5VG90YWwgPSAwO1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLmNoZWNrID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdG1lbWJlci5vbkR1dHkgPSAhbWVtYmVyLm9uRHV0eVxuXHRcdH07XG5cblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBEaXNwYXRjaE51bWJlciA9ICRzY29wZS5icmFuY2gubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIub25EdXR5XG5cdFx0XHR9KTtcblxuXHRcdFx0QnJhbmNoU3ZjLnVwZGF0ZURpcmVjdG9yKHtcblx0XHRcdFx0YnJhbmNoICAgOiAkc2NvcGUuYnJhbmNoLm5hbWUsXG5cdFx0XHRcdGRpcmVjdG9yIDogJHNjb3BlLmJyYW5jaC5kaXJlY3Rvcixcblx0XHRcdFx0ZGlzcGF0Y2hOdW0gOiBEaXNwYXRjaE51bWJlci5sZW5ndGhcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlT25EdXR5KHtcblx0XHRcdFx0XHRcdG1lbWJlcklkIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLl9pZCxcblx0XHRcdFx0XHRcdG9uRHV0eSAgIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLm9uRHV0eSxcblx0XHRcdFx0XHRcdG1pc3Npb24gIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLm1pc3Npb25cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnR2VvU3ZjJywgWyAnJHEnLCBmdW5jdGlvbiAoICRxICkge1xuXG5cdHRoaXMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgICAgICAgZnVuY3Rpb24ocG9zaXRpb24pIHsgZGVmZXJyZWQucmVzb2x2ZShwb3NpdGlvbi5jb29yZHMpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsgZGVmZXJyZWQucmVzb2x2ZShudWxsKTsgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCdVc2VyU3ZjJywgJ3N0b3JlJywgJyRzdGF0ZScsJ2p3dEhlbHBlcicsJyRodHRwJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIHN0b3JlLCAkc3RhdGUsIGp3dEhlbHBlciwgJGh0dHAsIFNvY2tldFN2Yykge1xuXG5cdHZhciB0b2tlbiA9IG51bGw7XG5cdCRzY29wZS51c2VyID0ge307XG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCl7XG5cdFx0VXNlclN2Yy5sb2dpbigkc2NvcGUudXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcblx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0c3RvcmUuc2V0KCdqd3QnLCBkYXRhLnRva2VuKTtcblx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ3gtYWNjZXNzLXRva2VuJ10gPSBkYXRhLnRva2VuO1xuXHRcdFx0XHR0b2tlbiA9IGRhdGEudG9rZW47XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29yZCBpcyBub3QgZXhpc3RlZCFcIik7XG5cdFx0XHR9O1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdFNvY2tldFN2Yy5pbml0KHRva2VuKTtcblx0XHRcdFNvY2tldFN2Yy5lbWl0KCdsb2dpbicpO1xuXHRcdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdGlmIChqd3RIZWxwZXIuZGVjb2RlVG9rZW4odG9rZW4pLnJvbGUgPT0gXCJhZG1pblwiKSB7XG5cdFx0XHRcdCRzdGF0ZS5nbygnZHV0eURlc2suZGFzaGJvYXJkJylcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc3RhdGUuZ28oJ2RpcmVjdG9yLnNhZmV0eS5pbmRleCcpXG5cdFx0XHR9XG5cdFx0fSlcblx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01hcEluZGV4Q3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ0dlb1N2YycsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgbGVhZmxldERhdGEsIEdlb1N2Yykge1xuICAgICAgICBcbiAgICBHZW9TdmMuZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcygpLnRoZW4oZnVuY3Rpb24oY29vcmQpe1xuICAgICAgICAkc2NvcGUubm93UG9zLmxhdCA9IGNvb3JkLmxhdGl0dWRlO1xuICAgICAgICAkc2NvcGUubm93UG9zLmxuZyA9IGNvb3JkLmxvbmdpdHVkZTtcbiAgICAgICAgJHNjb3BlLm5vd1Bvcy56b29tID0gMTc7XG4gICAgfSlcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBub3dQb3M6IHtcbiAgICAgICAgICAgIGxhdDogMjQuOTg4LFxuICAgICAgICAgICAgbG5nOiAxMjEuNTc1MixcbiAgICAgICAgICAgIHpvb206IDE3XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgICBkcmF3OiB7fVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgZHJhd25JdGVtcyA9ICRzY29wZS5jb250cm9scy5lZGl0LmZlYXR1cmVHcm91cDtcbiAgICAgIG1hcC5vbignZHJhdzpjcmVhdGVkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gZS5sYXllcjtcbiAgICAgICAgZHJhd25JdGVtcy5hZGRMYXllcihsYXllcik7XG4gICAgICAgIFxuICAgICAgICBGZWF0dXJlQ29sbGVjdGlvbnMucHVzaChsYXllci50b0dlb0pTT04oKSlcbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9KVxuXG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQWNjb3VudE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnTWVtYmVyU3ZjJywgJ21lbWJlcicsICckbW9kYWxJbnN0YW5jZScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTdmMsIE1lbWJlclN2YywgbWVtYmVyLCAkbW9kYWxJbnN0YW5jZSkge1xuXG5cdCRzY29wZS51c2VyID0gbWVtYmVyO1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRpZiAoXy5pc0VtcHR5KCRzY29wZS51c2VyKSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJwbGVhc2UgZW50ZXIgeW91ciBhY2NvdW50IGFuZCBwYXNzd29yZCFcIilcblx0XHR9IGVsc2V7XG5cdFx0XHRpZiAoISRzY29wZS51c2VyLmFjY291bnQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJhY2NvdW50IGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHRpZiAoISRzY29wZS51c2VyLnBhc3N3b3JkKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29kIGNhbid0IGJlIGJsYW5rIVwiKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwYXNzd29yZCBjYW4ndCBiZSBibGFua1wiKVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdFVzZXJTdmMuYWN0aXZhdGUoJHNjb3BlLnVzZXIpO1xuXHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlVXNlcihtZW1iZXIubmFtZSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS51c2VyKTtcblx0XHRcdH07XG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0fVxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyQ3RybCcsIFsnJHNjb3BlJywgJ01lbWJlclN2YycsICckc3RhdGVQYXJhbXMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBNZW1iZXJTdmMsICRzdGF0ZVBhcmFtcykge1xuXG5cdFx0JHNjb3BlLmJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2g7XG5cblx0XHRNZW1iZXJTdmMuZmluZEJ5QnJhbmNoKCRzdGF0ZVBhcmFtcy5icmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24obWVtYmVycyl7XG5cdFx0XHQkc2NvcGUubWVtYmVycyA9IG1lbWJlcnM7XG5cdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdG1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlckVkaXRDdHJsJywgWyckc2NvcGUnLCAnTWVtYmVyU3ZjJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnJHdpbmRvdycsJyRtb2RhbCcsICckc3RhdGUnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIE1lbWJlclN2YywgQnJhbmNoU3ZjLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRtb2RhbCwgJHN0YXRlLCBVc2VyU3ZjKSB7XG5cblx0XHQkc2NvcGUuYWxlcnRzID0gW107XG5cdFx0JHNjb3BlLm1lbWJlckRlbGV0ZWQgPSBmYWxzZTtcblx0XHR2YXIgdGVtcERlbE1lbWJlciA9IG51bGw7XG5cdFx0JHNjb3BlLmFjY2Vzc0xldmVsID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXHRcdFxuXHRcdHZhciBtZW1iZXJJbml0ID0gZnVuY3Rpb24oKXtcblx0XHRcdE1lbWJlclN2Yy5maW5kQnlCcmFuY2goJHN0YXRlUGFyYW1zLmJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihtZW1iZXJzKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBtZW1iZXJzO1xuXHRcdFx0XHQkc2NvcGUubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLndvcmtpbmdUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRtZW1iZXJJbml0KCk7XG5cblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbWVtYmVySWRzID0gW107XG5cdFx0XHR2YXIgZGlyZWN0b3JzID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdG1lbWJlcklkcy5wdXNoKCRzY29wZS5tZW1iZXJzW2ldLl9pZCk7XG5cdFx0XHRcdGRpcmVjdG9ycy5wdXNoKCRzY29wZS5tZW1iZXJzW2ldLm5hbWUpO1xuXHRcdFx0XHRpZiAoJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLliIbpmorplbdcIiB8fCAkc2NvcGUubWVtYmVyc1tpXS50aXRsZSA9PSBcIuWwj+maiumVt1wiIHx8ICRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5Lit6ZqK6ZW3XCIgfHwgJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLlpKfpmorplbdcIikge1xuXHRcdFx0XHRcdGRpcmVjdG9yID0gJHNjb3BlLm1lbWJlcnNbaV0ubmFtZTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHRcdEJyYW5jaFN2Yy51cGRhdGUoe1xuXHRcdFx0XHRicmFuY2ggOiAkc3RhdGVQYXJhbXMuYnJhbmNoLFxuXHRcdFx0XHRtZW1iZXJzIDogbWVtYmVySWRzLFxuXHRcdFx0XHRkaXJlY3RvcnMgOiBkaXJlY3RvcnMsXG5cdFx0XHRcdGRpcmVjdG9yIDogZGlyZWN0b3Jcblx0XHRcdH0pO1xuXG5cdFx0XHQgJHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmFkZE5ld01lbWJlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL21lbWJlci9tZW1iZXIubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlck1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRicmFuY2ggOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4gJHN0YXRlUGFyYW1zLmJyYW5jaCBcblx0XHRcdCAgICBcdH0sXG5cdFx0XHQgICAgXHRtZW1iZXIgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRyZXR1cm4geyB3b3JraW5nVGltZSA6IG51bGwgfTtcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXG5cdFx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obWVtYmVyKXtcblx0XHQgICAgXHRpZiAobWVtYmVyKSB7XG5cdFx0ICAgIFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0ICAgIFx0fVxuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcInN1Y2Nlc3NcIiAsICBtc2c6ICfkurrlk6HmlrDlop7miJDlip/vvIEgJyArIG1lbWJlci5uYW1lICsgJyDlt7LliqDlhaUgJyArIG1lbWJlci5icmFuY2h9KTtcblx0XHQgICAgfSlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgb2xkTWVtYmVyID0gbWVtYmVyO1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tZW1iZXIvbWVtYmVyLm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzdGF0ZVBhcmFtcy5icmFuY2ggXG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIHtcblx0XHRcdCAgICBcdFx0XHRtZW1iZXJJZCA6IG1lbWJlci5faWQsXG5cdFx0XHQgICAgXHRcdFx0aWQgOiBtZW1iZXIuaWQsXG5cdFx0XHQgICAgXHRcdFx0bmFtZSA6IG1lbWJlci5uYW1lLFxuXHRcdFx0ICAgIFx0XHRcdHRpdGxlIDogbWVtYmVyLnRpdGxlLFxuXHRcdFx0ICAgIFx0XHRcdGJyYW5jaGVzIDogbWVtYmVyLmJyYW5jaGVzLFxuXHRcdFx0ICAgIFx0XHRcdGNvcnBzIDogbWVtYmVyLmNvcnBzLFxuXHRcdFx0ICAgIFx0XHRcdHJhZGlvQ29kZSA6IG1lbWJlci5yYWRpb0NvZGUsIFxuXHRcdFx0ICAgIFx0XHRcdHdvcmtpbmdUaW1lIDogbWVtYmVyLndvcmtpbmdUaW1lLm1pbnV0ZXMoKSAqIDYwICsgbWVtYmVyLndvcmtpbmdUaW1lLnNlY29uZHMoKVxuXHRcdFx0ICAgIFx0XHR9XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblxuXHRcdCAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0ICAgIFx0bWVtYmVySW5pdCgpO1xuXHRcdCAgICBcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcImluZm9cIiAsICBtc2c6ICBvbGRNZW1iZXIubmFtZSArICfkv67mlLnmiJDlip8hJyB9KTtcblx0XHQgICAgfSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5hY3RpdmF0ZUFjY291bnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh1c2Vycy5sZW5ndGggPCAzICkge1xuXHRcdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWVtYmVyL21lbWJlci5hY2NvdW50Lmh0bWwnLFxuXHRcdFx0XHQgICAgY29udHJvbGxlcjogJ01lbWJlckFjY291bnRNb2RhbEN0cmwnLFxuXHRcdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdFx0ICAgIFx0XHRyZXR1cm4gbWVtYmVyXG5cdFx0XHRcdCAgICBcdH1cblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0XHRcdG1lbWJlckluaXQoKTtcblx0XHRcdFx0XHQkc2NvcGUuYWxlcnRzLnB1c2goeyB0eXBlIDogXCJpbmZvXCIgLCBtc2cgOiBtZW1iZXIubmFtZSArIFwiIOW3sumWi+mAmueCuuS9v+eUqOiAhVwiIH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgdHlwZSA6IFwid2FybmluZ1wiICwgbXNnIDogXCLnhKHms5XplovpgJpcIiArIG1lbWJlci5uYW1lICsgXCIg5Zug54K65L2/55So6ICF5bey6LaF6YGOM+S9je+8jOiri+ino+mZpOWFtuS7luS6uuW4s+iZn+W+jOWGjemWi+mAmiBcIn0pO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0dmFyIGRlQWN0aXZhdGVBY2NvdW50ID0gZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0VXNlclN2Yy5yZW1vdmVVc2VyKHRlbXBEZWxNZW1iZXIubmFtZSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyKXtcblx0XHRcdFx0TWVtYmVyU3ZjLnJlbW92ZVVzZXIodXNlci51c2VybmFtZSk7XG5cdFx0XHRcdCRzY29wZS5jbG9zZUFsZXJ0KGluZGV4KTtcblx0XHRcdFx0bWVtYmVySW5pdCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dmFyIGRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5tZW1iZXJEZWxldGVkID0gdHJ1ZTtcblx0XHRcdE1lbWJlclN2Yy5kZWxldGVNZW1iZXIodGVtcERlbE1lbWJlcikuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUuY2xvc2VBbGVydChpbmRleCk7XG5cdFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0fTtcblxuXHRcdHZhciBjYW5jZWxEZWwgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0JHNjb3BlLmNsb3NlQWxlcnQoaW5kZXgpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuZGVsZXRlQWxlcnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXHRcblx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIgLCAgXG5cdFx0XHRcdG1zZzogJ+aYr+WQpueiuuWumuimgeWIqumZpO+8gScgKyBtZW1iZXIubmFtZSwgXG5cdFx0XHRcdGV4ZWN1dGUgOiBkZWxldGVNZW1iZXIsXG5cdFx0XHRcdGNhbmNlbCA6ICBjYW5jZWxEZWxcblx0XHRcdH0pO1xuXHRcdFx0dGVtcERlbE1lbWJlciA9IG1lbWJlcjtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmRlQWN0aXZhdGVBbGVydCA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHR2YXIgdXNlcnMgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBtZW1iZXIuaXNVc2VyO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAodXNlcnMubGVuZ3RoID09IDEgKSB7XG5cdFx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IFxuXHRcdFx0XHRcdHR5cGUgOiBcIndhcm5pbmdcIiwgIFxuXHRcdFx0XHRcdG1zZzogJ+avj+WIhumaiuiHs+WwkeimgeaciTHlgIvkvb/nlKjogIXvvIznhKHms5Xlj5bmtognICsgbWVtYmVyLm5hbWUgKyBcIueahOeZu+WFpeasiumZkFwiLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZXtcblx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgXG5cdFx0XHRcdFx0dHlwZSA6IFwiZGFuZ2VyXCIsICBcblx0XHRcdFx0XHRtc2c6ICfmmK/lkKbnorrlrpropoHop6PpmaQnICsgbWVtYmVyLm5hbWUgKyBcIueZu+WFpeasiumZkFwiLFxuXHRcdFx0XHRcdGV4ZWN1dGUgOiBkZUFjdGl2YXRlQWNjb3VudCxcblx0XHRcdFx0XHRjYW5jZWwgOiBjYW5jZWxEZWxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRlbXBEZWxNZW1iZXIgPSBtZW1iZXI7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2xvc2VBbGVydCA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5hbGVydHMuc3BsaWNlKGluZGV4LDEpXG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ2JyYW5jaCcsICdNZW1iZXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlJywgJ21lbWJlcicsJ0JyYW5jaFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgYnJhbmNoLCBNZW1iZXJTdmMsICRtb2RhbEluc3RhbmNlLCAkc3RhdGUsIG1lbWJlciwgQnJhbmNoU3ZjLCBVc2VyU3ZjKSB7XG5cdFxuXHQkc2NvcGUuYWxlcnRzID0gW107XG5cdCRzY29wZS5pc05ldyA9IF8uaXNOdWxsKG1lbWJlci53b3JraW5nVGltZSk7XG5cblx0JHNjb3BlLm1lbWJlciA9IHtcblx0XHRpZCBcdFx0IFx0OiBtZW1iZXIuaWQgfHwgIFwiXCIsIFxuXHRcdG5hbWUgXHQgXHQ6IG1lbWJlci5uYW1lIHx8IG51bGwgLCBcblx0XHR0aXRsZSAgICBcdDogXCLmtojpmLLpmorlk6FcIixcblx0XHR0aXRsZXMgICBcdDogW1wi5raI6Ziy6ZqK5ZOhXCIsXCLlsI/pmorplbdcIixcIuWIhumaiumVt1wiLFwi5Lit6ZqK6ZW3XCIsXCLlpKfpmorplbdcIixcIuWJr+Wkp+maiumVt1wiXSxcblx0XHRicmFuY2ggICBcdDogbWVtYmVyLmJyYW5jaCB8fCBicmFuY2gsXG5cdFx0d29ya2luZ1RpbWUgOiBtZW1iZXIud29ya2luZ1RpbWUgfHwgIDEyMDAsXG5cdFx0cmFkaW9Db2RlIFx0OiBtZW1iZXIucmFkaW9Db2RlIHx8ICBudWxsLCBcblx0XHRtaXNzaW9uICBcdDogXCLnnoTlrZDmiYtcIixcblx0XHRtaXNzaW9ucyBcdDogW1wi556E5a2Q5omLXCIsXCLlia/nnoTlrZDmiYtcIixcIuWPuOapn1wiLFwi5bCP57WE6ZW3XCIsXCLlronlhajnrqHliLblk6FcIixcIuiBr+e1oeWumFwiLF0sXG5cdFx0Y29ycHNcdCBcdDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRjb3Jwc3MgXHQgXHQ6IFtcIuesrOS4gOaVkeeBveaVkeitt+Wkp+mailwiLFwi56ys5LiJ5pWR54G95pWR6K235aSn6ZqKXCJdLFxuXHR9O1xuXG5cdEJyYW5jaFN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaGVzKXtcblx0XHQkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlczsgXG5cdFx0aWYgKCEkc2NvcGUuaXNOZXcpIHtcblx0XHRcdHZhciBicmFuY2hBcnJ5ID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gYnJhbmNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0YnJhbmNoQXJyeS5wdXNoKGJyYW5jaGVzW2ldLm5hbWUpO1xuXHRcdFx0fTtcblx0XHRcdCRzY29wZS5tZW1iZXIuYnJhbmNoZXMgPSBicmFuY2hBcnJ5O1xuXHRcdH07IFxuXHR9KTtcblxuXHR2YXIgcmFkaW9Db2RlUHJlZml4ID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHR2YXIgc3VmZml4ID0gIGJyYW5jaC5zcGxpdCgnJykuc2xpY2UoLTIpLmpvaW4oJycpO1xuXHRcdGlmIChzdWZmaXggPT0gXCLlpKfpmopcIiB8fCBzdWZmaXggPT0gXCLkuK3pmopcIikge1xuXHRcdFx0cmV0dXJuIFwi5YyX5rW3XCI7XG5cdFx0fSBlbHNle1xuXHRcdFx0cmV0dXJuIGJyYW5jaC5zcGxpdCgnJykuc2xpY2UoMCwyKS5qb2luKCcnKTtcblx0XHR9O1xuXHR9O1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRpZiAoJHNjb3BlLm1lbWJlci5uYW1lKSB7XG5cdFx0XHQkc2NvcGUubWVtYmVyLnJhZGlvQ29kZVByZWZpeCA9IHJhZGlvQ29kZVByZWZpeCgkc2NvcGUubWVtYmVyLmJyYW5jaCk7XG5cdFx0XHRNZW1iZXJTdmMuY3JlYXRlKCRzY29wZS5tZW1iZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihwYXJzZUludCgkc2NvcGUubWVtYmVyLndvcmtpbmdUaW1lKSwnc2Vjb25kcycpO1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUubWVtYmVyKTtcblx0XHRcdH0pXG5cdFx0fSBlbHNle1xuXG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblxuXHRcdHZhciB1cGRhdGVNZW1iZXIgPSB7XG5cdFx0XHQgIG1lbWJlcklkICA6IG1lbWJlci5tZW1iZXJJZCxcblx0XHRcdCAgaWQgXHRcdDogXCJcIixcblx0XHRcdCAgbmFtZSBcdFx0OiAkc2NvcGUubWVtYmVyLm5hbWUsXG5cdFx0XHQgIGNvcnBzIFx0OiAkc2NvcGUubWVtYmVyLmNvcnBzLFxuXHRcdFx0ICBicmFuY2ggXHQ6ICRzY29wZS5tZW1iZXIuYnJhbmNoLFxuXHRcdFx0ICB0aXRsZSBcdDogJHNjb3BlLm1lbWJlci50aXRsZSxcblx0XHRcdCAgd29ya2luZ1RpbWUgOiAkc2NvcGUubWVtYmVyLndvcmtpbmdUaW1lLFxuXHRcdFx0ICByYWRpb0NvZGUgIDogJHNjb3BlLm1lbWJlci5yYWRpb0NvZGUsXG5cdFx0XHQgIHJhZGlvQ29kZVByZWZpeCA6IHJhZGlvQ29kZVByZWZpeCgkc2NvcGUubWVtYmVyLmJyYW5jaClcblx0XHR9XG5cblx0XHRpZiAoJHNjb3BlLm1lbWJlci5uYW1lKSB7XG5cdFx0XHRNZW1iZXJTdmMudXBkYXRlQnlNZW1iZXJJZCh1cGRhdGVNZW1iZXIpO1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UodXBkYXRlTWVtYmVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0XG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdNZW1iZXJTdmMnLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbWJlcnMnKVxuXHR9XG5cblx0dGhpcy5maW5kQnlCcmFuY2ggPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzLycgKyBicmFuY2ggKVxuXHR9XG5cblx0dGhpcy5mZXRjaE9uRHV0eSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzL29uRHV0eT9icmFuY2g9JyArIGJyYW5jaCk7XG5cdH1cblxuXHR0aGlzLnVwZGF0ZU9uRHV0eSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzL29uRHV0eS9maW5kQnlJZD9tZW1iZXJJZD0nICsgbWVtYmVyLm1lbWJlcklkLCBtZW1iZXIpO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZW1iZXJzLycsIG1lbWJlcilcblx0fVxuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyLmlkKVxuXHR9XG5cblx0dGhpcy51cGRhdGVCeU1lbWJlcklkID0gZnVuY3Rpb24odXBkYXRlTWVtYmVyKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvZmluZEJ5SWQvJyArIHVwZGF0ZU1lbWJlci5tZW1iZXJJZCAsIHVwZGF0ZU1lbWJlcilcblx0fVxuXG5cdHRoaXMudXBkYXRlSXNDaGVja2VkID0gZnVuY3Rpb24obWVtYmVyRGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzP2lkPScgKyBtZW1iZXJEYXRhLm1lbWJlcklkLCBtZW1iZXJEYXRhKVxuXHR9XG5cblx0dGhpcy51cGRhdGVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy91c2VyP3VzZXJuYW1lPScrIHVzZXJuYW1lKTtcblx0fVxuXG5cdHRoaXMucmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnMvdXNlci9yZW1vdmU/dXNlcm5hbWU9JyArIHVzZXJuYW1lKVxuXHR9XG5cblx0dGhpcy5kZWxldGVNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWVtYmVycy8nICsgbWVtYmVyLl9pZClcblx0fVxuXG5cdFxuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCAnQnJhbmNoU3ZjJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQnJhbmNoU3ZjLCBzdG9yZSwgand0SGVscGVyLCBVc2VyU3ZjKSB7XG5cblx0JHNjb3BlLnVzZXJuYW1lID0gVXNlclN2Yy5jdXJyZW50VXNlcigpO1xuXHQkc2NvcGUuYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7XG5cblx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdCRzY29wZS5icmFuY2hlcyA9IGJyYW5jaGVzO1xuXHR9KTtcblxuXHQkc2NvcGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuIFVzZXJTdmMuaXNWYWxpZChicmFuY2gpO1xuXHR9O1xuXHRcbn1dKTsiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdOdGZTdmMnLCBbICckaHR0cCcsIGZ1bmN0aW9uICggJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL25mdHMnKTtcdFxuXHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbmZpZyhbICckc3RhdGVQcm92aWRlcicsJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIFxuICAgIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyXG4gICAgICAgIC5vdGhlcndpc2UoJy9sb2dpbicpO1xuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdhbm9uJyx7XG4gICAgICAgICAgICB1cmwgOiBcIlwiLFxuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2Fub24ubG9naW4nLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2xvZ2luXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6XCJ2aWV3cy9sb2dpbi5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJMb2dpbkN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhbm9uLjQwNCcse1xuICAgICAgICAgICAgdXJsIDogXCIvNDA0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvNDA0Lmh0bWxcIlxuICAgICAgICB9KVxuXG4gICAgLy8gZHV0eSBkZXNrIFxuXHQkc3RhdGVQcm92aWRlclxuXHRcdC5zdGF0ZSgnZHV0eURlc2snLCB7XG4gICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHVybDogXCIvZHV0eURlc2tcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2NvbW1vbi9jb250ZW50Lmh0bWxcIixcbiAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRMb2dpbiA6IHRydWUsXG4gICAgICAgICAgICAgICAgcm9sZSA6IFtcImFkbWluXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZGFzaGJvYXJkJywge1xuICAgICAgICAgICAgdXJsOiBcIi9kYXNoYm9hcmRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2Rhc2hib2FyZC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEYXNoYm9hcmRDdHJsXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJhZG1pblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhc2UnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2Nhc2VcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2Nhc2UvY2FzZS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXNlQ3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLnNhZmV0eScse1xuICAgICAgICAgICAgdXJsIDogXCIvY2FzZS86aWRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zdW1tYXJ5L3N1bW1hcnkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU3VtbWFyeUN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kdXR5bGlzdC5zaG93Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9kdXR5bGlzdC86YnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kdXR5bGlzdC5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kdXR5bGlzdC5lZGl0Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9kdXR5bGlzdC86YnJhbmNoL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2R1dHlsaXN0LmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RFZGl0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLm1lbWJlcicse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2subWVtYmVyLnNob3cnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL21lbWJlci86YnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9tZW1iZXIvbWVtYmVyLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIk1lbWJlckN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5tZW1iZXIuZWRpdCcsIHtcbiAgICAgICAgICAgIHVybDogXCIvbWVtYmVyLzpicmFuY2gvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvbWVtYmVyL21lbWJlci5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIk1lbWJlckVkaXRDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FyJywge1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FyLnNob3cnLHtcbiAgICAgICAgICAgIHVybDogXCIvY2FyLzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXJzL2Nhci5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXJJbmRleEN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhci5lZGl0Jyx7XG4gICAgICAgICAgICB1cmw6IFwiL2Nhci86YnJhbmNoL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXJzL2Nhci5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhckVkaXRDdHJsXCJcbiAgICAgICAgfSlcbiAgICAvLyBkaXJlY3RvciBcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2RpcmVjdG9yL2RpcmVjdG9yLmNvbnRlbnQuaHRtbFwiLFxuICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1widXNlclwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eScse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCIvc2FmZXR5XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCIgXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5LmluZGV4Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3NhZmV0eS9zYWZldHkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5SW5kZXhDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5zYWZldHkubWFuYWdlbWVudCcse1xuICAgICAgICAgICAgdXJsIDogXCIvaW5kZXgvOmlkXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc2FmZXR5L3NhZmV0eS5tYW5hZ2UuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5TWFuYWdlQ3RybFwiICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5LnN1bW1hcnknLHtcbiAgICAgICAgICAgIHVybCA6IFwiL3N1bW1hcnkvOmlkXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3Mvc3VtbWFyeS9zdW1tYXJ5LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIlN1bW1hcnlDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5tYXAnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL21hcFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL21hcC9tYXAuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWFwSW5kZXhDdHJsXCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5kdXR5bGlzdCcse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCIvZHV0eWxpc3RcIixcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIiBcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5kdXR5bGlzdC5pbmRleCcse1xuICAgICAgICAgICAgdXJsIDogXCIvaW5kZXhcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2RpcmVjdG9yLmR1dHlsaXN0LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkRpckR1dHlMaXN0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RFZGl0Q3RybFwiLFxuICAgICAgICB9KVx0XG59XSlcblxuLnJ1bihbICckcm9vdFNjb3BlJywgJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnLCAnc3RvcmUnLCAnand0SGVscGVyJywgJ1VzZXJTdmMnLCAnU29ja2V0U3ZjJyxcbiAgICBmdW5jdGlvbiAoICRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBzdG9yZSwgand0SGVscGVyLCBVc2VyU3ZjLCBTb2NrZXRTdmMpIHtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuXG4gICAgICAgIGlmICh0b1N0YXRlLm5hbWUgPT0gXCJhbm9uLmxvZ2luXCIpIHtcbiAgICAgICAgICAgIHN0b3JlLnJlbW92ZSgnand0Jyk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYgKHRvU3RhdGUuZGF0YSAmJiB0b1N0YXRlLmRhdGEucmVxdWlyZWRMb2dpbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFVc2VyU3ZjLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2Fub24ubG9naW4nKTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvU3RhdGUuZGF0YS5yb2xlLmluZGV4T2Yoand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLnJvbGUpID09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJhbm9uLmxvZ2luXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07IFxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5SW5kZXhDdHJsJywgWyckc2NvcGUnLCAnQ2FzZVN2YycsICdVc2VyU3ZjJywgJ1NvY2tldFN2YycsICckcm9vdFNjb3BlJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FzZVN2YywgVXNlclN2YywgU29ja2V0U3ZjLCAkcm9vdFNjb3BlKSB7XG5cblx0XHRTb2NrZXRTdmMub24oJ25ld0Nhc2UnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdCRzY29wZS5jYXNlcy5wdXNoKF9jYXNlKTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignY2FzZUNsb3NlJyxmdW5jdGlvbihkYXRhKXtcblx0XHRcdGlmICghZGF0YS5pc09uZ29pbmcpIHtcblx0XHRcdFx0JHNjb3BlLmNhc2VzID0gJHNjb3BlLmNhc2VzLmZpbHRlcihmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdFx0cmV0dXJuIF9jYXNlLl9pZCAhPSBkYXRhLmNhc2VJZFxuXHRcdFx0XHR9KVxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdHZhciB1c2VyQ29uZGl0aW9uID0ge1xuXHRcdFx0YnJhbmNoIDogVXNlclN2Yy51c2VyQnJhbmNoKCksXG5cdFx0XHRhY2Nlc3NMZXZlbCA6IFVzZXJTdmMuYWNjZXNzTGV2ZWwoKSxcblx0XHRcdGNvcnBzIDogVXNlclN2Yy51c2VyQ29ycHMoKVxuXHRcdH1cblxuXHRcdENhc2VTdmMuZmV0Y2hSZWxhdGl2ZUNhc2UodXNlckNvbmRpdGlvbikuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0XHQkc2NvcGUuY2FzZXMgPSBjYXNlcztcblx0XHR9KTtcblxuXHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgU29ja2V0U3ZjLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHQgICAgfSlcblxuXHQgICAgJHNjb3BlLmFjY2Vzc0xldmVsID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXG5cdFx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTYWZldHlNYW5hZ2VDdHJsJywgWyckc2NvcGUnLCckc3RhdGVQYXJhbXMnLCAnJG1vZGFsJywgJ1N0U3ZjJywgJyRzdGF0ZScsICdNZW1iZXJTdmMnLCckbG9nJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJywgJ1NvY2tldFN2YycsICdDYXNlU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkbW9kYWwsIFN0U3ZjLCAkc3RhdGUsIE1lbWJlclN2YywgJGxvZywgVXNlclN2YywgQnJhbmNoU3ZjLCBTb2NrZXRTdmMsIENhc2VTdmMpIHtcblxuXHRcdHZhciBCUkFOQ0ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblx0XHR2YXIgY2FzZURldGFpbCA9IG51bGw7XG5cblx0XHQkc2NvcGUucXVpY2tTdGFydCA9ICBmYWxzZTtcblx0XHQkc2NvcGUuYXBhcnRtZW50ID0gdHJ1ZTsgXG5cdFx0JHNjb3BlLkFDQ0VTU0xFVkVMID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXG5cdFx0JHNjb3BlLmJyYW5jaE9wdGlvbnMgPSB7XG5cdFx0XHRicmFuY2ggOiBCUkFOQ0gsXG5cdFx0XHRicmFuY2hlcyA6IFtdXG5cdFx0fTtcblxuXHRcdENhc2VTdmMuZmluZEJ5SWQoJHN0YXRlUGFyYW1zLmlkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdGNhc2VEZXRhaWwgPSBfY2FzZTtcblx0XHRcdF9jYXNlLmVudiA9PSAn5L2P5a6F54Gr6K2mJz8gJHNjb3BlLmFwYXJ0bWVudCA9IHRydWUgOiAkc2NvcGUuYXBhcnRtZW50ID0gZmFsc2U7IFxuXHRcdFx0JHNjb3BlLmJyYW5jaE9wdGlvbnMuYnJhbmNoZXMgPSBfY2FzZS5icmFuY2hlc1xuXHRcdFx0JHNjb3BlLmJyYW5jaE9wdGlvbnMuYnJhbmNoZXMuc3BsaWNlKDAsMCxCUkFOQ0gpO1xuXHRcdH0pO1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoQnlOYW1lKEJSQU5DSCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kZXRhaWxzID0gZGV0YWlscztcblx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoJHNjb3BlLkFDQ0VTU0xFVkVMID4gMSApIHtcblx0XHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoJHN0YXRlUGFyYW1zLmlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cyl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RzOyBcblx0XHRcdFx0fSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFN0U3ZjLmZldGNoKCRzdGF0ZVBhcmFtcy5pZCxCUkFOQ0gpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RzKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RzO1xuXHRcdFx0XHRcdGlmICgkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmxlbmd0aCA8IDggJiYgXy5pc0VtcHR5KCRzY29wZS5zdHJpa2VUZWFtcykpIHsgJHNjb3BlLnF1aWNrU3RhcnQgPSB0cnVlICB9OyBcblx0XHRcdFx0fSk7IFxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoJHNjb3BlLkFDQ0VTU0xFVkVMID4gMSAmJiBhbmd1bGFyLmVxdWFscygkc3RhdGVQYXJhbXMuaWQsc3QuY2FzZUlkKSApIHtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMucHVzaChzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoYW5ndWxhci5lcXVhbHMoQlJBTkNILHN0LmJyYW5jaCkgJiYgYW5ndWxhci5lcXVhbHMoJHN0YXRlUGFyYW1zLmlkLHN0LmNhc2VJZCkgKSB7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLnB1c2goc3QpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXBkYXRlU3QnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciBtZW1iZXJzID0gYW5ndWxhci5jb3B5KGRhdGEubWVtYmVycyk7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsZGF0YS5pZCkpe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wb3NpdGlvbiA9IGRhdGEucG9zaXRpb247XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLmFyZWEgPSBkYXRhLmFyZWE7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMucHVzaC5hcHBseSgkc2NvcGUuc3RyaWtlVGVhbXNbaV0ubWVtYmVycywgbWVtYmVycyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHR2YXIgX3N0SWQgPSBzdC5zdElkO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gJHNjb3BlLnN0cmlrZVRlYW1zLmZpbHRlcihmdW5jdGlvbihzdCkge1x0XHRcdFx0XG5cdFx0XHRcdHJldHVybiBzdC5faWQgIT0gX3N0SWQ7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRcblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgXHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhZmV0eS9zYWZldHkubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ1NhZmV0eU1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRzdElkIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0aWYgKCBfLmlzRW1wdHkoJHNjb3BlLnN0cmlrZVRlYW1zKSkge1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAwXG5cdFx0XHQgICAgXHRcdH0gZWxzZXtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gJHNjb3BlLnN0cmlrZVRlYW1zWyRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGgtMV0uaWQ7XG5cdFx0XHQgICAgXHRcdH07XG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5icmFuY2hPcHRpb25zLmJyYW5jaDtcblx0XHRcdCAgICBcdH0sXG5cdFx0XHQgICAgXHRjYXNlRGV0YWlsIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIGNhc2VEZXRhaWxcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXHRcdH07XG5cblx0XHQkc2NvcGUub3BlblNldHRpbmdNb2RhbCA9IGZ1bmN0aW9uKHN0cmlrZVRlYW0sIGlkKXtcblx0ICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zYWZldHkvc2FmZXR5LnNldHRpbmcubW9kYWwuaHRtbCcsXG5cdCAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTYWZldHlTZXR0aW5nQ3RybCcsXG5cdCAgICAgICAgICAgIHNpemU6IFwibGdcIixcblx0ICAgICAgICAgICAgcmVzb2x2ZToge1xuXHQgICAgICAgICAgICAgICAgc3RyaWtlVGVhbSA6IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmlrZVRlYW07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh1cGRhdGVkU3QpIHtcblx0ICAgICAgICBcdGZvciAodmFyIGkgPSAkc2NvcGUuc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRpZihhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLHVwZGF0ZWRTdC5pZCkpe1xuXHRcdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnBvc2l0aW9uID0gdXBkYXRlZFN0LnBvc2l0aW9uO1xuXHRcdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLmFyZWEgPSB1cGRhdGVkU3QuYXJlYTtcblx0XHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5tZW1iZXJzLnB1c2guYXBwbHkoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMsIHVwZGF0ZWRTdC5tZW1iZXJzKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0ICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuXHRcdCAgICB9KTtcblx0ICAgIH07XG5cblx0XHQkc2NvcGUuZGlzbWlzcyA9IGZ1bmN0aW9uKHN0cmlrZVRlYW0gLCBpZCl7XG5cdFx0XHRcblx0ICAgICAgIFx0U3RTdmMuZGlzbWlzc1N0KHtcblx0ICAgICAgIFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkXG5cdCAgICAgICBcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0ICAgICAgIFx0XHRmb3IgKHZhciBpID0gc3RyaWtlVGVhbS5tZW1iZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0ICAgICAgICAgICAgTWVtYmVyU3ZjLnVwZGF0ZUlzQ2hlY2tlZCh7XG5cdFx0ICAgICAgICAgICAgICAgIG1lbWJlcklkICA6IHN0cmlrZVRlYW0ubWVtYmVyc1tpXS5faWQsXG5cdFx0ICAgICAgICAgICAgICAgIG1pc3Npb25cdCAgOiBzdHJpa2VUZWFtLm1lbWJlcnNbaV0ubWlzc2lvbixcblx0XHQgICAgICAgICAgICAgICAgaXNDaGVja2VkIDogZmFsc2Vcblx0XHQgICAgICAgICAgICB9KVxuXHRcdCAgICAgICAgfTtcdFxuXHQgICAgICAgXHR9KVxuXHQgICAgICAgXHQkc2NvcGUuc3RyaWtlVGVhbXMuc3BsaWNlKGlkLDEpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUucXVpY2tPcmdhbml6aW5nID0gZnVuY3Rpb24oKXtcblx0XHRcdCRzY29wZS5xdWlja1N0YXJ0ID0gZmFsc2U7XG5cdFx0XG5cdFx0XHR2YXIgbWVtYmVycyA9ICAkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHRcdFx0aWYgKCBtZW1iZXIubWlzc2lvbiA9PSAn5Y+45qmfJyB8fCBtZW1iZXIubWlzc2lvbiA9PSAn5a6J5YWo566h5Yi25ZOhJyB8fCBtZW1iZXIubWlzc2lvbiA9PSAn5pWR6K235Lq65ZOhJykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZSAgXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdCBcdHZhciBzdHJpa2VUZWFtID0ge1xuXHQgICAgICBcdFx0aWQgXHRcdCAgICA6IDEsIFxuXHQgICAgICBcdFx0Y2FzZUlkICAgICAgOiAkc3RhdGVQYXJhbXMuaWQsXG5cdCAgICAgIFx0XHRicmFuY2ggICAgICA6ICRzY29wZS5kZXRhaWxzLm5hbWUsXG5cdCAgICAgIFx0XHRkaXJlY3RvciAgICA6ICRzY29wZS5kZXRhaWxzLmRpcmVjdG9yLFxuXHQgICAgICBcdFx0cG9zaXRpb24gICAgOiBcIuesrOS4gOmdolwiLFxuXHQgICAgICBcdFx0cG9zaXRpb25zICAgOiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl0sXG5cdCAgICAgIFx0XHRtaXNzaW9uICAgICA6IFwi5ruF54Gr5bCP57WEXCIsXG5cdCAgICAgIFx0XHRtaXNzaW9ucyAgICA6IFtcIua7heeBq+Wwj+e1hFwiLFwi56C05aOe5bCP57WEXCIsXCLmkJzmlZHlsI/ntYRcIl0sXG5cdCAgICAgIFx0XHRhcmVhIFx0XHQ6IFwi56ys5LiA5Y2AXCIsXG5cdCAgICAgIFx0XHRhcmVhcyBcdFx0OiBbXCLnrKzkuIDljYBcIixcIuesrOS6jOWNgFwiLFwi56ys5LiJ5Y2AXCIsXCLnrKzlm5vljYBcIixcIuesrOS6lOWNgFwiXSxcblx0ICAgICAgXHRcdG1lbWJlcnMgICAgIDogbWVtYmVycyxcblx0ICAgICAgXHRcdGlzRGlzbWlzc2VkIDogZmFsc2UsXG5cdCAgICAgIFx0XHR3b3JraW5nVGltZSA6IF8ubWluKG1lbWJlcnMsIGZ1bmN0aW9uKG1lbWJlcil7IHJldHVybiBtZW1iZXIud29ya2luZ1RpbWU7IH0pLndvcmtpbmdUaW1lLFxuXHQgICAgICBcdFx0Y3JlYXRvciBcdDogVXNlclN2Yy5jdXJyZW50VXNlcigpIFx0XG5cdCAgICAgIFx0fTtcblxuXHQgICAgICBcdGZvciAodmFyIGkgPSBtZW1iZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgXHRcdFx0TWVtYmVyU3ZjLnVwZGF0ZUlzQ2hlY2tlZCh7XG4gICAgXHRcdFx0XHRtZW1iZXJJZCAgOiBtZW1iZXJzW2ldLl9pZCxcbiAgICBcdFx0XHRcdGlzQ2hlY2tlZCA6IHRydWUsXG4gICAgXHRcdFx0XHRtaXNzaW9uXHQgIDogbWVtYmVyc1tpXS5taXNzaW9uXG4gICAgXHRcdFx0fSk7XHRcdFxuXHRcdCAgICB9O1xuXG5cdCAgICAgIFx0U29ja2V0U3ZjLmVtaXQoXCJjcmVhdGVTdHJpa2VUZWFtXCIsIHN0cmlrZVRlYW0pO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pXG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TW9kYWxDdHJsJywgWyckc2NvcGUnLCckbW9kYWxJbnN0YW5jZScsICckc3RhdGVQYXJhbXMnLCdTdFN2YycsICdNZW1iZXJTdmMnLCAnJHN0YXRlJywgJyR3aW5kb3cnLCAnc3RJZCcsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsJ1NvY2tldFN2YycsJ2JyYW5jaCcsICdjYXNlRGV0YWlsJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsICRzdGF0ZVBhcmFtcywgU3RTdmMsIE1lbWJlclN2YywgJHN0YXRlLCAkd2luZG93LCBzdElkLCBVc2VyU3ZjLCAgQnJhbmNoU3ZjLCBTb2NrZXRTdmMsIGJyYW5jaCwgY2FzZURldGFpbCkge1xuXG5cdFx0JHNjb3BlLmFsZXJ0cyA9IFtdO1xuXHRcdGNhc2VEZXRhaWwuZW52ID09ICfkvY/lroXngavoraYnPyAkc2NvcGUuYXBhcnRtZW50ID0gIHRydWUgIDogJHNjb3BlLmFwYXJ0bWVudCA9IGZhbHNlIFxuIFxuXHRcdCRzY29wZS50aXRsZSA9IGJyYW5jaCArICAoc3RJZCArIDEgKTtcblxuXHRcdEJyYW5jaFN2Yy5mZXRjaEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oZGV0YWlscyl7XG5cdFx0XHQkc2NvcGUuZGV0YWlscyA9IGRldGFpbHM7XG5cdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0aWYgKCAkc2NvcGUuZGV0YWlscykge1xuXHRcdFx0XHQkc2NvcGUuZGV0YWlscy5tZW1iZXJzID0gJHNjb3BlLmRldGFpbHMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzQ2hlY2tlZCAhPSB0cnVlOyAgXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZvckVhY2goZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRtZW1iZXIubGltaXRUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwgJ3NlY29uZHMnKTtcblx0XHRcdFx0fSlcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IHtcblx0XHRcdHBvc2l0aW9uICA6IFwi56ys5LiA6Z2iXCIsXG5cdFx0XHRwb3NpdGlvbnMgOiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl0sXG5cdFx0XHRtaXNzaW9uICAgOiBcIua7heeBq+Wwj+e1hFwiLFxuXHRcdFx0bWlzc2lvbnMgIDogW1wi5ruF54Gr5bCP57WEXCIsXCLnoLTlo57lsI/ntYRcIixcIuaQnOaVkeWwj+e1hFwiXSxcblx0XHRcdGFyZWEgXHQgIDogXCLnrKzkuIDljYBcIixcblx0XHRcdGFyZWFzIFx0ICA6IFtcIuesrOS4gOWNgFwiLFwi56ys5LqM5Y2AXCIsXCLnrKzkuInljYBcIixcIuesrOWbm+WNgFwiLFwi56ys5LqU5Y2AXCJdLFxuXHRcdFx0Zmxvb3IgXHQgIDogY2FzZURldGFpbC5mbG9vciwgXG5cdFx0XHRmbG9vcnMgICAgOiBjYXNlRGV0YWlsLmZsb29yIDwgNT8gXy5yYW5nZSgxLDYsMSkgOiBfLnJhbmdlKGNhc2VEZXRhaWwuZmxvb3ItMixjYXNlRGV0YWlsLmZsb29yKzMsMSlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNoZWNrID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSAhbWVtYmVyLmlzQ2hlY2tlZDtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHR9O1xuXG5cdCAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICBcdHZhciBtZW1iZXJzID0gJHNjb3BlLmRldGFpbHMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0ICAgIFx0XHRcdFx0cmV0dXJuIG1lbWJlci5pc0NoZWNrZWQgPT09IHRydWUgXG5cdCAgICBcdFx0XHRcdH0pO1xuXG5cdCAgICBcdGlmIChtZW1iZXJzLmxlbmd0aCA+IDIgKSB7XG5cblx0XHQgICAgXHR2YXIgc3RyaWtlVGVhbSA9IHtcblx0XHQgICAgICBcdFx0aWQgXHRcdCAgICA6IHN0SWQgKyAxIHx8IDAgLCBcblx0XHQgICAgICBcdFx0Y2FzZUlkICAgICAgOiAkc3RhdGVQYXJhbXMuaWQsXG5cdFx0ICAgICAgXHRcdGJyYW5jaCAgICAgIDogJHNjb3BlLmRldGFpbHMubmFtZSxcblx0XHQgICAgICBcdFx0ZGlyZWN0b3IgICAgOiAkc2NvcGUuZGV0YWlscy5kaXJlY3Rvcixcblx0XHQgICAgICBcdFx0cG9zaXRpb24gICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5wb3NpdGlvbixcblx0XHQgICAgICBcdFx0cG9zaXRpb25zICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5wb3NpdGlvbnMsXG5cdFx0ICAgICAgXHRcdG1pc3Npb24gICAgIDogJHNjb3BlLnN0cmlrZVRlYW0ubWlzc2lvbixcblx0XHQgICAgICBcdFx0bWlzc2lvbnMgICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5taXNzaW9ucywgXG5cdFx0ICAgICAgXHRcdGFyZWEgXHRcdDogJHNjb3BlLnN0cmlrZVRlYW0uYXJlYSxcblx0XHQgICAgICBcdFx0YXJlYXMgXHRcdDogJHNjb3BlLnN0cmlrZVRlYW0uYXJlYXMsXG5cdFx0ICAgICAgXHRcdGZsb29yIFx0XHQ6ICRzY29wZS5zdHJpa2VUZWFtLmZsb29yLFxuXHRcdCAgICAgIFx0XHRmbG9vcnMgXHRcdDogJHNjb3BlLnN0cmlrZVRlYW0uZmxvb3JzLFxuXHRcdCAgICAgIFx0XHRtZW1iZXJzICAgICA6IG1lbWJlcnMsXG5cdFx0ICAgICAgXHRcdGlzRGlzbWlzc2VkIDogZmFsc2UsXG5cdFx0ICAgICAgXHRcdHdvcmtpbmdUaW1lIDogXy5taW4obWVtYmVycywgZnVuY3Rpb24obWVtYmVyKXsgcmV0dXJuIG1lbWJlci53b3JraW5nVGltZTsgfSkud29ya2luZ1RpbWUsXG5cdFx0ICAgICAgXHRcdGNyZWF0b3IgXHQ6IFVzZXJTdmMuY3VycmVudFVzZXIoKSBcdFxuXHRcdCAgICAgIFx0fTtcblxuXHQgICAgICBcdFx0Zm9yICh2YXIgaSA9IG1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgIFx0XHRcdE1lbWJlclN2Yy51cGRhdGVJc0NoZWNrZWQoe1xuXHQgICAgXHRcdFx0XHRtZW1iZXJJZCAgOiBtZW1iZXJzW2ldLl9pZCxcblx0ICAgIFx0XHRcdFx0aXNDaGVja2VkIDogbWVtYmVyc1tpXS5pc0NoZWNrZWQsXG5cdCAgICBcdFx0XHRcdG1pc3Npb25cdCAgOiBtZW1iZXJzW2ldLm1pc3Npb25cblx0ICAgIFx0XHRcdH0pO1x0XHRcblx0XHQgICAgXHR9O1xuXG5cdFx0ICAgICAgXHRTb2NrZXRTdmMuZW1pdChcImNyZWF0ZVN0cmlrZVRlYW1cIiwgc3RyaWtlVGVhbSlcblx0XHQgICAgICBcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgdHlwZSA6IFwiZGFuZ2VyXCIgLCAgbXNnOiAn5YWp5Lq65Lul5LiK5omN6IO957eo57WEJ30pO1xuXHQgICAgXHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2xvc2VBbGVydCA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdCRzY29wZS5hbGVydHMuc3BsaWNlKGluZGV4LDEpXG5cdFx0fTtcbn1dKTsiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTYWZldHlTZXR0aW5nQ3RybCcsIFsnJHNjb3BlJywgJ3N0cmlrZVRlYW0nLCAnJG1vZGFsSW5zdGFuY2UnLCAnU3RTdmMnLCAnJHN0YXRlJywgJ01lbWJlclN2YycsICdDYXNlU3ZjJywgJyRzdGF0ZVBhcmFtcycsICdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBzdHJpa2VUZWFtLCAkbW9kYWxJbnN0YW5jZSwgU3RTdmMsICRzdGF0ZSwgTWVtYmVyU3ZjLCBDYXNlU3ZjLCAkc3RhdGVQYXJhbXMsIFNvY2tldFN2Yykge1xuXHRcdFxuXHRcdHZhciBtZW1iZXJzID0gW107XG5cdFx0dmFyIG1lbWJlck9ianMgPVtdO1xuXHRcdCRzY29wZS5zdHJpa2VUZWFtID0gc3RyaWtlVGVhbTtcblxuXHRcdENhc2VTdmMuZmV0Y2hEZXRhaWxzKCRzdGF0ZVBhcmFtcy5pZCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kaXNwYXRjaCA9IGRldGFpbHMuYnJhbmNoSWRzO1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLmNob29zZUJyYW5jaCA9IGZ1bmN0aW9uKGlkKXtcblx0XHRcdCRzY29wZS5tZW1iZXJzID0gJHNjb3BlLmRpc3BhdGNoW2lkXS5tZW1iZXJzXG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLm1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYoICRzY29wZS5tZW1iZXJzW2ldLmlzQ2hlY2tlZCApe1xuXHRcdFx0XHRcdCRzY29wZS5tZW1iZXJzLnNwbGljZShpLDEpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNoZWNrID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSAhbWVtYmVyLmlzQ2hlY2tlZDtcblx0XHRcdG1lbWJlcnMucHVzaChtZW1iZXIuX2lkKTtcblx0XHRcdG1lbWJlck9ianMucHVzaChtZW1iZXIpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUudW5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlciwgaWQpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdFx0bWVtYmVycy5zcGxpY2UoaWQsMSk7XG5cdFx0XHRtZW1iZXJPYmpzLnNwbGljZShpZCwxKTtcblx0XHR9XG5cblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG5cblx0XHRcdFN0U3ZjLnVwZGF0ZVN0KHtcblx0XHRcdFx0aWQgOiBzdHJpa2VUZWFtLl9pZCxcblx0XHRcdFx0cG9zaXRpb24gOiBzdHJpa2VUZWFtLnBvc2l0aW9uLFxuXHRcdFx0XHRhcmVhIDogc3RyaWtlVGVhbS5hcmVhLFxuXHRcdFx0XHRtaXNzaW9uIDogc3RyaWtlVGVhbS5taXNzaW9uLFxuXHRcdFx0XHRtZW1iZXJJZHMgOiBtZW1iZXJzXG5cdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGZvciAodmFyIGkgPSBtZW1iZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0ICAgICAgICAgICAgTWVtYmVyU3ZjLnVwZGF0ZUlzQ2hlY2tlZCh7XG5cdFx0ICAgICAgICAgICAgICAgIG1lbWJlcklkICA6IG1lbWJlck9ianNbaV0uX2lkLFxuXHRcdCAgICAgICAgICAgICAgICBtaXNzaW9uXHQgIDogbWVtYmVyT2Jqc1tpXS5taXNzaW9uLCBcblx0XHQgICAgICAgICAgICAgICAgaXNDaGVja2VkIDogdHJ1ZSxcblx0XHQgICAgICAgICAgICB9KVxuXHRcdCAgICAgICAgfTtcblx0XHRcdH0pXG5cblx0XHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKHtcblx0XHRcdFx0aWQgOiBzdHJpa2VUZWFtLl9pZCxcblx0XHRcdFx0cG9zaXRpb24gOiBzdHJpa2VUZWFtLnBvc2l0aW9uLFxuXHRcdFx0XHRhcmVhIDogc3RyaWtlVGVhbS5hcmVhLFxuXHRcdFx0XHRtZW1iZXJzIDogbWVtYmVyT2Jqcyxcblx0XHRcdFx0Y2FzZUlkICA6IHN0cmlrZVRlYW0uY2FzZUlkIFxuXHRcdFx0fSk7XG5cblx0XHRcdFxuXHRcdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdTb2NrZXRTdmMnLFsgJyRyb290U2NvcGUnLCAnc3RvcmUnLCAnJHEnLCAnJHRpbWVvdXQnLFxuICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgc3RvcmUsICRxLCAkdGltZW91dCkge1xuXG4gIHRoaXMuaW5pdCA9ICBmdW5jdGlvbih0b2tlbil7XG4gICAgdmFyIGF1dGhUb2tlbiA9IG51bGxcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGF1dGhUb2tlbiA9IHRva2VuIFxuICAgIH0gZWxzZSB7XG4gICAgICBhdXRoVG9rZW4gPSBzdG9yZS5nZXQoJ2p3dCcpXG4gICAgfTtcbiAgICByZXR1cm4gaW8uY29ubmVjdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwJyx7IHF1ZXJ5IDogJ3Rva2VuPScgKyBhdXRoVG9rZW4gLCAnZm9yY2VOZXcnOnRydWUgfSk7XG4gIH1cblxuICB2YXIgc29ja2V0ID0gdGhpcy5pbml0KCk7XG5cbiAgdGhpcy5vbiA9ICBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHRoaXMuaW5pdCgpLm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKCkgeyAgXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5lbWl0ID0gIGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkuZW1pdChldmVudE5hbWUsIGRhdGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KVxuICB9XG5cbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHRoaXMuaW5pdCgpLnJlbW92ZUFsbExpc3RlbmVycyhldmVudE5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH0pOyBcbiAgfVxuICBcbn1dKSIsIi8qKlxuKiBJbk5ldyBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1N0U3ZjJywgWyAnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKGNhc2VJZCwgYnJhbmNoKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zP2Nhc2VJZD0nICsgY2FzZUlkICsgJyZicmFuY2g9JyArIGJyYW5jaCk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEJ5Q2FzZSA9IGZ1bmN0aW9uKGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9zdHJpa2VUZWFtcy90b3RhbD9jYXNlSWQ9JyArIGNhc2VJZCk7XG5cdH07XG5cblx0dGhpcy5maW5kQnlJZCA9IGZ1bmN0aW9uKGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9zdHJpa2VUZWFtcy8nICsgY2FzZUlkKTtcblx0fVxuXG5cdHRoaXMuZGlzbWlzc1N0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy9kaXNtaXNzP2lkPScgKyBkYXRhLmlkKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVN0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy91cGRhdGU/aWQ9JyArIGRhdGEuaWQsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlVGltZVJlY29yZCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvdGltZT9pZD0nICsgZGF0YS5pZCwgZGF0YSk7XG5cdH07XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihzdHJpa2VUZWFtKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zdHJpa2VUZWFtcycsIHN0cmlrZVRlYW0pO1xuXHR9O1xuXG5cdHRoaXMuY291bnQgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXMvY291bnQ/Y2FzZUlkPScgKyBjYXNlSWQpO1xuXHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1N1bW1hcnlDdHJsJywgWyckc2NvcGUnLCAnU3RTdmMnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnZhbCcsICckc3RhdGUnLCAnU29ja2V0U3ZjJywgJ0Nhc2VTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBTdFN2YywgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICRzdGF0ZSwgU29ja2V0U3ZjLCBDYXNlU3ZjKSB7XG5cblx0XHRTb2NrZXRTdmMub24oJ3RpbWVyUnVubmluZycsZnVuY3Rpb24oc3Qpe1xuXHRcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiggYW5ndWxhci5lcXVhbHMoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLl9pZCwgc3Quc3RJZCkpe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS50aW1lclJ1bm5pbmcgPSBzdC50aW1lclJ1bm5pbmc7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbigncHJvZ3Jlc3NVcGRhdGUnLGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiggYW5ndWxhci5lcXVhbHMoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLl9pZCwgZGF0YS5pZCkgKXtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0udGltZXJcdD0gbW9tZW50LmR1cmF0aW9uKGRhdGEubWlsbGlzKTsgXG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnByb2dyZXNzICA9IGRhdGEucHJvZ3Jlc3M7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnByb2dyZXNzU3RhdGUgPSAgZGF0YS5wcm9ncmVzc1N0YXRlO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ25ld1N0JywgZnVuY3Rpb24oc3Qpe1xuXHRcdFx0aWYgKCBhbmd1bGFyLmVxdWFscyhjYXNlSWQsc3QuY2FzZUlkKSkge1xuXHRcdFx0XHR2YXIgbmV3U3QgPSBhbmd1bGFyLmNvcHkoc3QpO1xuXHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMucHVzaChuZXdTdCk7XG5cdFx0XHR9O1xuXHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHR9KTtcblxuXHRcdFxuXG5cdFx0U29ja2V0U3ZjLm9uKCd1cGRhdGVTdCcsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtcblx0XHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblxuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdFN0U3ZjLmZldGNoQnlDYXNlKGNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdHZhciBjYXNlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XG5cdFx0Q2FzZVN2Yy5maW5kQnlJZChjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdFx0X2Nhc2UuZW52ID09ICfkvY/lroXngavoraYnID8gJHNjb3BlLmFwYXJ0bWVudCA9IHRydWUgOiAkc2NvcGUuYXBhcnRtZW50ID0gZmFsc2U7XG5cdFx0XHQkc2NvcGUuY2FzZURldGFpbCA9IF9jYXNlO1xuXHRcdFx0JHNjb3BlLnBvc2l0aW9uID0ge1xuXHRcdFx0XHRkZWZhdWx0UG9zIFx0OiBcIuesrOS4gOmdolwiLFxuXHRcdFx0XHRwb3NpdGlvbnMgXHQ6IFtcIuesrOS4gOmdolwiLFwi56ys5LqM6Z2iXCIsXCLnrKzkuInpnaJcIixcIuesrOWbm+mdolwiXSxcblx0XHRcdFx0Zmxvb3IgXHRcdDogJHNjb3BlLmNhc2VEZXRhaWwuZmxvb3IsXG5cdFx0XHRcdGZsb29ycyAgXHQ6ICRzY29wZS5jYXNlRGV0YWlsLmZsb29yIDwgNT8gXy5yYW5nZSgxLDYsMSkgOiBfLnJhbmdlKCRzY29wZS5jYXNlRGV0YWlsLmZsb29yLTIsJHNjb3BlLmNhc2VEZXRhaWwuZmxvb3IrMywxKVxuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHR9KTtcblxuXG5cblx0XHR2YXIgaW5pdFRhYmxlID0gIGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHQgIFx0dmFyIGRlcGxveUFycmF5ID0gXy5yYW5nZSg0KS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgcmV0dXJuIF8ucmFuZ2UoNSkubWFwKGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAgICAgICByZXR1cm4geyB0b3RhbE1lbWJlciA6IDAsIHN0VG90YWwgOiAwfSA7XG5cdFx0ICAgICAgICB9KTtcblx0XHQgICAgfSk7XG5cblx0XHRcdGlmICggc3RyaWtlVGVhbXMgKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0dmFyIHRvdGFsTWVtYmVyID0gMDtcblx0XHRcdFx0XHR2YXIgeSA9IG51bGw7XG5cdFx0XHRcdFx0dmFyIHN0ID0gMDtcblx0XHRcdFx0XHR2YXIgeCA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5wb3NpdGlvbnMsIHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9uKTtcblx0XHRcdFx0XHQkc2NvcGUuYXBhcnRtZW50ID8geSA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5mbG9vcnMsIHN0cmlrZVRlYW1zW2ldLmZsb29yKSA6IHkgPSBfLmluZGV4T2Yoc3RyaWtlVGVhbXNbaV0uYXJlYXMsIHN0cmlrZVRlYW1zW2ldLmFyZWEpXG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0uc3RUb3RhbCArPSAxO1xuXHRcdFx0XHRcdGRlcGxveUFycmF5W3hdW3ldLnRvdGFsTWVtYmVyICs9IHN0cmlrZVRlYW1zW2ldLm1lbWJlcnMubGVuZ3RoO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRlcGxveUFycmF5XG5cdFx0fTtcblxuXHRcdGNvbnNvbGUubG9nKGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpKVxuXHRcdFxuXHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgU29ja2V0U3ZjLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHQgICAgfSk7XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignVGltZXJDdHJsJywgWyckc2NvcGUnLCAnU29ja2V0U3ZjJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsIFNvY2tldFN2Yyl7XG5cblx0JHNjb3BlLnRpbWVyUnVubmluZyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbihzdCwgaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0YXJ0Jyk7XG4gICAgXHQkc2NvcGUudGltZXJSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiB0cnVlIH0gKVxuICAgIH07XG5cbiAgICAkc2NvcGUuc3RvcFRpbWVyID0gZnVuY3Rpb24oc3QsaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0b3AnKTtcbiAgICBcdCRzY29wZS50aW1lclJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiBmYWxzZSB9IClcbiAgICB9O1xuXHRcbn1dKTsiLCIvKipcbiogIE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignVG9wTmF2Q3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsJyRzdGF0ZScsICckaW50ZXJ2YWwnLCAnc3RvcmUnLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCckd2luZG93Jyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCRzdGF0ZSwgJGludGVydmFsLCBzdG9yZSwgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkd2luZG93KSB7XG5cblx0JHNjb3BlLmN1cnJlbnRUaW1lID0gIG1vbWVudCgpLmZvcm1hdCgnTU1NIERvLCBoOm1tOnNzIGEnKTtcblx0JGludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0bW9tZW50LmxvY2FsZSgnemgtdHcnKTtcblx0XHQkc2NvcGUuY3VycmVudFRpbWUgPSAgbW9tZW50KCkuZm9ybWF0KCdNTU0gRG8sIGg6bW06c3MgYScpO1xuXHR9LCAxMDAwKTtcblxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKXtcblx0XHR2YXIgYWNjb3VudCA9IFVzZXJTdmMuY3VycmVudEFjY291bnQoKTtcblx0XHRTb2NrZXRTdmMuZW1pdCgnbG9nb3V0Jyk7XG5cdFx0JHN0YXRlLmdvKCdhbm9uLmxvZ2luJyk7XG5cdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnVXNlclN2YycsIFsgJyRodHRwJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsIGZ1bmN0aW9uICgkaHR0cCwgc3RvcmUsIGp3dEhlbHBlcikge1xuXG5cdHRoaXMuZmV0Y2hPbmxpbmVVc2VyID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3VzZXJTdGF0ZScpO1xuXHR9O1xuXG5cdHRoaXMuYWN0aXZhdGUgPSBmdW5jdGlvbih1c2VyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHVzZXIpO1xuXHR9O1xuXG5cdHRoaXMucmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL3VzZXJzL2RlbGV0ZT91c2VybmFtZT0nICsgdXNlcm5hbWUpO1xuXHR9O1xuXG5cdHRoaXMubG9naW4gPSBmdW5jdGlvbih1c2VyKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2Vycy9hdXRoZW50aWNhdGUnLCB1c2VyKTtcblx0fTtcblxuXHR0aGlzLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiBzdG9yZS5nZXQoJ2p3dCcpO1xuXHR9O1xuXG5cdHRoaXMuaXNWYWxpZCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRpZiAoand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmFjY2Vzc0xldmVsID4gMSAgIHx8IGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5icmFuY2ggPT0gYnJhbmNoKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlOyBcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGZhbHNlIFxuXHR9O1xuXG5cdHRoaXMudXNlckJyYW5jaCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5icmFuY2g7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLnVzZXJDb3JwcyA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5jb3Jwcztcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMuY3VycmVudFVzZXIgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkudXNlcm5hbWU7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmN1cnJlbnRBY2NvdW50ID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmFjY291bnQ7XG5cdFx0fTsgXG5cdH07XG5cblx0dGhpcy5hY2Nlc3NMZXZlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2Nlc3NMZXZlbDtcblx0XHR9O1xuXHR9O1xuXG5cdHRoaXMuY2FzZUlkID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLmNhc2VJZDtcblx0XHR9O1xuXHR9O1xuXG59XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9