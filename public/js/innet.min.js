angular.module("InNet",["ui.router","ui.bootstrap","timer","angular-storage","angular-jwt","leaflet-directive","angular.filter"]),angular.module("InNet").service("BranchSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/branch?corps="+t)},this.fetchByName=function(t){return e.get("/api/branch/name?branch="+t)},this.totalListFindByName=function(t){return e.get("/api/branch/name/total?branch="+t)},this.getDetails=function(t){return e.get("/api/branch/"+t)},this.update=function(t){return e.put("/api/branch/"+t.branch,t)},this.updateDirector=function(t){return e.put("/api/branch?branch="+t.branch,t)}}]),angular.module("InNet").service("CarSvc",["$http",function(e){this.fetch=function(){return e.get("/api/cars")},this.findByBranch=function(t){return e.get("/api/cars/"+t)},this.update=function(t){return e.put("/api/cars/"+t.id,t)}}]),angular.module("InNet").controller("CaseCtrl",["$scope","$stateParams","$modal","CaseSvc","$log","SocketSvc","UserSvc",function(e,t,s,n,r,i,a){e.maxSize=5,e.bigTotalItems=175,e.bigCurrentPage=1,n.fetch(a.userCorps()).success(function(t){e.cases=t}),i.on("newCase",function(t){e.cases.unshift(t)}),i.on("caseModified",function(t){e.cases[t.caseId-1]=t}),e.choose=function(t){n.findById(e.cases[t]._id).success(function(t){e.caseDetails=t})},e.addNewCase=function(){var t=s.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return _.isEmpty(e.cases)?0:e.cases[0].caseId},caseDetails:function(){return{}}}});t.result.then(function(e){console.log(e)},function(){r.info("Modal dismissed at: "+new Date)})},e.editCase=function(t){s.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return t},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("CaseModalCtrl",["$scope","CarSvc","$modalInstance","CaseSvc","$state","caseId","caseDetails","StSvc","$window","BranchSvc","UserSvc",function(e,t,s,n,r,i,a,c,o,u,l){function m(e){var t=[],s=[],n=[];if(e.cars){for(var r=e.cars.length-1;r>=0;r--)t.push(e.cars[r].radioCode),s.push(e.cars[r]._id),n.push(e.cars[r].branch);return{dispatchList:t,carIds:s,branches:n}}return{}}function d(t){for(var s=_.unique(t),n=[],r=0;r<e.branches.length;r++)s.indexOf(e.branches[r].name)>-1&&n.push(e.branches[r]._id);return n}if(_.isEmpty(a))e.isNew=!0,f=[];else{e.isNew=!1;var f=a.cars}u.fetch(l.userCorps()).success(function(t){e.branches=t}),e.caseObj={address:a.address||null,phone:a.phone||null,type:a.type||"火警",types:["火警","救護","災害","檢舉","其他"],carIds:m(a).carIds||[],dispatchList:m(a).dispatchList||[],branches:m(a).branches||[]},e.dispatchList=e.caseObj.dispatchList.join(" "),e.getCars=function(s){t.findByBranch(s.name).success(function(t){for(var s=t.length-1;s>=0;s--)e.caseObj.carIds.indexOf(t[s]._id)>-1&&(t[s].isChecked=!0);e.cars=t})},e.cancel=function(){s.dismiss("cancel")},e.cancelDispatch=function(t){t.isChecked=!1,f.splice(f.indexOf(t),1),e.caseObj.carIds.splice(e.caseObj.dispatchList.indexOf(t._id),1),e.caseObj.dispatchList.splice(e.caseObj.dispatchList.indexOf(t.radioCode),1),e.caseObj.branches.splice(e.caseObj.dispatchList.indexOf(t.branch),1),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.dispatch=function(t){t.isChecked=!0,f.push(t),e.caseObj.carIds.push(t._id),e.caseObj.dispatchList.push(t.radioCode),e.caseObj.branches.push(t.branch),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.closeCase=function(){c.count(a._id).success(function(e){e>0?o.alert("尚有隊員在安全管制"):(n.closeCase({id:a._id,isOngoing:!1}).success(function(e){console.log(e)}),s.dismiss("cancel"),r.reload())})},e.save=function(){n.create({caseId:i+1,address:e.caseObj.address||"測試",officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type||"救護",phone:e.caseObj.phone||"測試",branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,corps:l.userCorps()}).success(function(e){s.close(e)})},e.update=function(){var t={id:a._id,caseId:i,address:e.caseObj.address,officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type,phone:e.caseObj.phone,branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0};n.update(t),s.dismiss("cancel")}}]),angular.module("InNet").service("CaseSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/cases?corps="+t)},this.fetchAll=function(){return e.get("/api/cases/details")},this.fetchRelativeCase=function(t){return e.get("/api/cases/branch?branch="+t)},this.fetchDetails=function(t){return e.get("/api/cases/details/"+t)},this.findById=function(t){return e.get("/api/cases/"+t)},this.create=function(t){return e.post("/api/cases",t)},this.update=function(t){return e.put("/api/cases/"+t.id,t)},this["delete"]=function(t){return e.post("/api/cases/"+t)},this.closeCase=function(t){return e.put("/api/cases/close?id="+t.id,t)}}]),angular.module("InNet").controller("DashboardCtrl",["$scope","$location","SocketSvc","UserSvc","BranchSvc",function(e,t,s,n,r){r.fetch(n.userCorps()).success(function(t){e.branches=t}),n.fetchOnlineUser().success(function(t){e.users=t}),s.on("userLogin",function(t){e.users.push(t)}),s.on("userDisconnect",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),s.on("userLogout",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),e.$on("$destroy",function(e){s.removeAllListeners()})}]),angular.module("InNet").directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e,t){e.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}]}}]).directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,s){e(function(){s.metisMenu()})}}}]).directive("iboxTools",["$timeout",function(e){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(t,s){t.showhide=function(){var t=s.closest("div.ibox"),n=s.find("i:first"),r=t.find("div.ibox-content");r.slideToggle(200),n.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),e(function(){t.resize(),t.find("[id^=map-]").resize()},50)},t.closebox=function(){var e=s.closest("div.ibox");e.remove()}}]}}]).directive("back",["$window",function(e){return{restrict:"A",link:function(t,s,n){s.bind("click",function(){e.history.back()})}}}]),angular.module("InNet").controller("DispatchCtrl",["$scope","$stateParams","$modal","CaseSvc","BranchSvc","CarSvc","UserSvc",function(e,t,s,n,r,i,a){n.fetch(a.userCorps()).success(function(s){e.cases=s,n.findById(e.cases[t.caseId]._id).success(function(t){e.caseDetails=t})}),r.fetch(a.userCorps()).success(function(t){e.branchList=t}),i.fetch().success(function(t){e.carsData=t}),e.addNewCase=function(){s.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id="新增案件"},branchList:function(){return e.branchList},carsData:function(){return e.carsData},isNew:function(){return!0},caseDetails:function(){return{}}}})},e.editCase=function(){s.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id=e.cases[t.caseId].caseId},branchList:function(){return e.branchList},carsData:function(){for(var t=e.carsData.length-1;t>=0;t--)for(var s=e.caseDetails.cars.length-1;s>=0;s--)e.carsData[t].radioCode===e.caseDetails.cars[s].radio_code&&(e.carsData[t].isChecked=!0);return e.carsData},isNew:function(){return!1},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("DutyListCtrl",["$scope","BranchSvc","$stateParams","SocketSvc","UserSvc","$q",function(e,t,s,n,r,i){function a(e){for(var t=0,s=0;s<e.members.length;s++)e.members[s].onDuty&&(t+=1);return t}if(r.accessLevel()<2)var c=r.userBranch();else var c=s.branch;t.totalListFindByName(c).success(function(t){console.log(t),e.branch=t,e.onDutyTotal=a(e.branch)})}]),angular.module("InNet").controller("DutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc",function(e,t,s,n,r,i,a){if(a.accessLevel()<2)var c=a.userBranch();else var c=s.branch;t.totalListFindByName(c).success(function(t){e.branch=t,e.onDutyTotal=0}),e.check=function(e){e.onDuty=!e.onDuty},e.save=function(){t.updateDirector({branch:e.branch.name,director:e.branch.director}).success(function(){for(var t=0;t<e.branch.members.length;t++)n.updateByMemberId({name:e.branch.members[t].name,title:e.branch.members[t].title,memberId:e.branch.members[t]._id,onDuty:e.branch.members[t].onDuty,mission:e.branch.members[t].mission})}).then(function(){i.history.back()})}}]),angular.module("InNet").service("GeoSvc",["$q",function(e){this.getGeolocationCoordinates=function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){t.resolve(e.coords)},function(e){t.resolve(null)}),t.promise}}]),angular.module("InNet").controller("LoginCtrl",["$scope","UserSvc","store","$state","jwtHelper","$http","SocketSvc",function(e,t,s,n,r,i,a){var c=null;e.user={},e.login=function(){t.login(e.user).success(function(e){e.success?(s.set("jwt",e.token),i.defaults.headers.common["x-access-token"]=e.token,c=e.token):console.log("password is not existed!")}).then(function(){a.init(c),a.emit("login")}).then(function(){n.go("admin"==r.decodeToken(c).role?"dutyDesk.dashboard":"director.safety.index")})}}]),angular.module("InNet").controller("MapIndexCtrl",["$scope","leafletData","GeoSvc",function(e,t,s){s.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}}),t.getMap().then(function(t){var s=e.controls.edit.featureGroup;t.on("draw:created",function(e){var t=e.layer;s.addLayer(t),FeatureCollections.push(t.toGeoJSON())})})}]),angular.module("InNet").controller("MemberCtrl",["$scope","MemberSvc","$stateParams",function(e,t,s){e.branch=s.branch,t.findByBranch(s.branch).success(function(t){e.members=t})}]),angular.module("InNet").controller("MemberEditCtrl",["$scope","MemberSvc","BranchSvc","$stateParams","$window","$modal",function(e,t,s,n,r,i){e.isDeleted=!1,t.findByBranch(n.branch).success(function(t){e.members=t}),e.save=function(){for(var t=[],i=[],a=0;a<e.members.length;a++)t.push(e.members[a]._id),i.push(e.members[a].name),("分隊長"==e.members[a].title||"小隊長"==e.members[a].title||"中隊長"==e.members[a].title||"大隊長"==e.members[a].title)&&(director=e.members[a].name);s.update({branch:n.branch,members:t,directors:i,director:director}),r.history.back()},e.addNewMember=function(){i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return n.branch},member:function(){return{}}}})},e.update=function(e){i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return n.branch},member:function(){return e}}})},e["delete"]=function(){e.isDeleted=!0}}]),angular.module("InNet").controller("MemberModalCtrl",["$scope","branch","MemberSvc","$modalInstance","$state","member","BranchSvc",function(e,t,s,n,r,i,a){e.isNew=_.isEmpty(i),a.fetch(UserSvc.userCorps()).success(function(t){e.branches=t}).then(function(){for(var s=[],n=0;n<e.branches.length;n++)s.push(e.branches[n].name);e.member={name:i.name||"新進人員",title:i.title,titles:["隊員","小隊長","分隊長","中隊長","大隊長","副大隊長"],branch:t,branches:s,corp:"第一救災救護大隊",corps:["第一救災救護大隊"]}}),e.save=function(){s.create({onDuty:"true",id:"",name:e.member.name||"王小明",corp:e.member.corp,branch:e.member.branch,title:e.member.title,isChecked:"false",mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","帶隊官","安全管制員","聯絡官"]}),n.dismiss("cancel"),r.reload()},e.update=function(){s.updateByMemberId({memberId:i._id,id:"",name:e.member.name,corp:e.member.corp,branch:e.member.branch,title:e.member.title,mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","帶隊官","安全管制員","聯絡官"]}),n.dismiss("cancel"),r.reload()},e.cancel=function(){n.dismiss("cancel")}}]),angular.module("InNet").service("MemberSvc",["$http",function(e){this.fetch=function(){return e.get("/api/members")},this.findByBranch=function(t){return e.get("/api/members/"+t)},this.fetchOnDuty=function(t){return e.get("/api/members/onDuty?branch="+t)},this.create=function(t){return e.post("/api/members/",t)},this.update=function(t){return e.put("/api/members/",t.id)},this.updateByMemberId=function(t){return e.put("/api/members/findById/"+t.memberId,t)},this.updateIsChecked=function(t){return e.put("/api/members?id="+t.memberId,t)},this["delete"]=function(t){return e["delete"]("/api/members/"+t.id)}}]),angular.module("InNet").controller("NavCtrl",["$scope","BranchSvc","store","jwtHelper","UserSvc",function(e,t,s,n,r){e.username=r.currentUser(),e.branch=r.userBranch(),t.fetch(r.userCorps()).success(function(t){e.branches=t}),e.isValid=function(e){return r.isValid(e)}}]),angular.module("InNet").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,s){t.otherwise("/login"),e.state("anon",{url:"","abstract":!0,template:"<ui-view>"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.404",{url:"/404",templateUrl:"views/404.html"}),e.state("dutyDesk",{"abstract":!0,url:"/dutyDesk",templateUrl:"views/common/content.html",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.case",{url:"/case",templateUrl:"views/case/case.index.html",controller:"CaseCtrl"}).state("dutyDesk.safety",{url:"/case/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("dutyDesk.dutylist",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.dutylist.show",{url:"/dutylist/:branch",templateUrl:"views/dutylist/dutylist.index.html",controller:"DutyListCtrl"}).state("dutyDesk.dutylist.edit",{url:"/dutylist/:branch/edit",templateUrl:"views/dutylist/dutylist.edit.html",controller:"DutyListEditCtrl"}).state("dutyDesk.member",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.member.show",{url:"/member/:branch",templateUrl:"views/member/member.index.html",controller:"MemberCtrl"}).state("dutyDesk.member.edit",{url:"/member/:branch/edit",templateUrl:"views/member/member.edit.html",controller:"MemberEditCtrl"}).state("dutyDesk.logistic",{url:"/logistic",templateUrl:"views/logistic/logistic.index.html",controller:"LogisticCtrl"}),e.state("director",{"abstract":!0,url:"",templateUrl:"views/director/director.content.html",data:{requiredLogin:!0,role:["user"]}}).state("director.safety",{"abstract":!0,url:"/safety",template:"<ui-view>"}).state("director.safety.index",{url:"/index",templateUrl:"views/safety/safety.index.html",controller:"SafetyIndexCtrl"}).state("director.safety.management",{url:"/index/:id",templateUrl:"views/safety/safety.manage.html",controller:"SafetyManageCtrl"}).state("director.safety.summary",{url:"/summary/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("director.map",{url:"/map",templateUrl:"views/map/map.index.html",controller:"MapIndexCtrl"}).state("director.dutylist",{"abstract":!0,url:"/dutylist",template:"<ui-view>"}).state("director.dutylist.index",{url:"/index",templateUrl:"views/dutylist/director.dutylist.index.html",controller:"DutyListCtrl"}).state("director.dutylist.edit",{url:"/edit",templateUrl:"views/dutylist/director.dutylist.edit.html",controller:"DutyListEditCtrl"})}]).run(["$rootScope","$state","$stateParams","store","jwtHelper","UserSvc","SocketSvc",function(e,t,s,n,r,i,a){e.$on("$stateChangeStart",function(e,s,a,c,o){"anon.login"==s.name?n.remove("jwt"):s.data&&s.data.requiredLogin&&(i.isLoggedIn()?-1==s.data.role.indexOf(r.decodeToken(n.get("jwt")).role)&&(e.preventDefault(),t.go("anon.login")):(e.preventDefault(),t.go("anon.login")))}),e.$on("$stateChangeError",function(e){e.preventDefault()})}]),angular.module("InNet").controller("SafetyIndexCtrl",["$scope","CaseSvc","UserSvc","SocketSvc","$rootScope",function(e,t,s,n,r){n.on("newCase",function(t){e.cases.push(t)}),n.on("caseClose",function(t){t.isOngoing||(e.cases=e.cases.filter(function(e){return e._id!=t.caseId}))}),t.fetchRelativeCase(s.userBranch()).success(function(t){e.cases=t}),e.$on("$destroy",function(e){n.removeAllListeners()}),e.accessLevel=s.accessLevel()}]),angular.module("InNet").controller("SafetyManageCtrl",["$scope","$stateParams","$modal","StSvc","$state","MemberSvc","$log","UserSvc","BranchSvc","SocketSvc",function(e,t,s,n,r,i,a,c,o,u){var l=c.userBranch();o.fetchByName(l).success(function(t){e.details=t}),n.fetch(t.id,l).success(function(t){e.strikeTeams=t}),u.on("newSt",function(s){angular.equals(l,s.branch)&&angular.equals(t.id,s.caseId)&&e.strikeTeams.push(s)}),u.on("updateSt",function(t){for(var s=angular.copy(t.members),n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].position=t.position,e.strikeTeams[n].area=t.area,e.strikeTeams[n].members.push.apply(e.strikeTeams[n].members,s))}),u.on("dismiss",function(t){var s=t.stId;e.strikeTeams=e.strikeTeams.filter(function(e){return e._id!=s})}),e.strikeTeam=function(){s.open({templateUrl:"views/safety/safety.modal.html",controller:"SafetyModalCtrl",size:"md",resolve:{stId:function(){return _.isEmpty(e.strikeTeams)?0:e.strikeTeams[e.strikeTeams.length-1].id}}})},e.openSettingModal=function(t,n){var r=s.open({templateUrl:"views/safety/safety.setting.modal.html",controller:"SafetySettingCtrl",size:"lg",resolve:{strikeTeam:function(){return t}}});r.result.then(function(t){for(var s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.id)&&(e.strikeTeams[s].position=t.position,e.strikeTeams[s].area=t.area,e.strikeTeams[s].members.push.apply(e.strikeTeams[s].members,t.members))},function(){a.info("Modal dismissed at: "+new Date)})},e.dismiss=function(t,s){n.dismissSt({id:t._id}).success(function(){for(var e=t.members.length-1;e>=0;e--)i.updateIsChecked({memberId:t.members[e]._id,mission:t.members[e].mission,isChecked:!1})}),e.strikeTeams.splice(s,1)},e.$on("$destroy",function(e){u.removeAllListeners()})}]),angular.module("InNet").controller("SafetyModalCtrl",["$scope","$modalInstance","$stateParams","StSvc","MemberSvc","$state","$window","stId","UserSvc","BranchSvc","SocketSvc",function(e,t,s,n,r,i,a,c,o,u,l){var m=o.userBranch();e.title=m+(c+1),u.fetchByName(m).success(function(t){e.details=t}).then(function(){e.details&&(e.details.members=e.details.members.filter(function(e){return 1!=e.isChecked}),e.details.members.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}))}),e.strikeTeam={position:"第一面",positions:["第一面","第二面","第三面","第四面"],mission:"搶救小組",missions:["搶救小組","救援小組","搜救小組"],area:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"]},e.check=function(e){e.isChecked=!e.isChecked},e.cancel=function(){t.dismiss("cancel")},e.save=function(){var n=e.details.members.filter(function(e){return e.isChecked===!0});if(n.length>-1){for(var i={id:c+1||0,caseId:s.id,branch:e.details.name,director:e.details.director,position:e.strikeTeam.position,positions:e.strikeTeam.positions,mission:e.strikeTeam.mission,missions:e.strikeTeam.missions,area:e.strikeTeam.area,areas:e.strikeTeam.areas,members:n,isDismissed:!1,workingTime:_.min(n,function(e){return e.workingTime}).workingTime,creator:o.currentUser()},u=n.length-1;u>=0;u--)r.updateIsChecked({memberId:n[u]._id,isChecked:n[u].isChecked,mission:n[u].mission});l.emit("createStrikeTeam",i),t.close()}else a.alert("you must organize strike team")}}]),angular.module("InNet").controller("SafetySettingCtrl",["$scope","strikeTeam","$modalInstance","StSvc","$state","MemberSvc","CaseSvc","$stateParams","SocketSvc",function(e,t,s,n,r,i,a,c,o){var u=[],l=[];e.strikeTeam=t,a.fetchDetails(c.id).success(function(t){e.dispatch=t.branchIds}),e.chooseBranch=function(t){e.members=e.dispatch[t].members;for(var s=e.members.length-1;s>=0;s--)e.members[s].isChecked&&e.members.splice(s,1)},e.cancel=function(){s.dismiss("cancel")},e.check=function(e){e.isChecked=!e.isChecked,u.push(e._id),l.push(e)},e.uncheck=function(e,t){e.isChecked=!e.isChecked,u.splice(t,1),l.splice(t,1)},e.save=function(){n.updateSt({id:t._id,position:t.position,area:t.area,mission:t.mission,memberIds:u}).success(function(){for(var e=u.length-1;e>=0;e--)i.updateIsChecked({memberId:u[e]._id,mission:u[e].mission,isChecked:!0})}),s.close({id:t._id,position:t.position,area:t.area,members:l,caseId:t.caseId})}}]),angular.module("InNet").service("SocketSvc",["$rootScope","store","$q","$timeout",function(e,t,s,n){this.init=function(e){var s=null;return s=e?e:t.get("jwt"),io.connect("http://localhost:3000",{query:"token="+s,forceNew:!0})};var r=this.init();this.on=function(t,s){this.init().on(t,function(){var t=arguments;e.$apply(function(){s.apply(r,t)})})},this.emit=function(t,s,n){this.init().emit(t,s,function(){var t=arguments;e.$apply(function(){n&&n.apply(r,t)})})},this.removeAllListeners=function(t,s){this.init().removeAllListeners(t,function(){var t=arguments;e.$apply(function(){s.apply(r,t)})})}}]),angular.module("InNet").service("StSvc",["$http",function(e){this.fetch=function(t,s){return e.get("/api/strikeTeams?caseId="+t+"&branch="+s)},this.fetchByCase=function(t){return e.get("/api/strikeTeams/total?caseId="+t)},this.dismissSt=function(t){return e.put("/api/strikeTeams/dismiss?id="+t.id)},this.updateSt=function(t){return e.put("/api/strikeTeams/update?id="+t.id,t)},this.updateTimeRecord=function(t){return e.put("/api/strikeTeams/time?id="+t.id,t)},this.create=function(t){return e.post("/api/strikeTeams",t)},this.count=function(t){return e.get("/api/strikeTeams/count?caseId="+t)}}]),angular.module("InNet").controller("SummaryCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc",function(e,t,s,n,r,i){i.on("timerRunning",function(t){for(var s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.stId)&&(e.strikeTeams[s].timerRunning=t.timerRunning)}),i.on("progressUpdate",function(t){for(var s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.id)&&(e.strikeTeams[s].timer=moment.duration(t.millis),e.strikeTeams[s].progress=t.progress,e.strikeTeams[s].progressState=t.progressState)}),i.on("newSt",function(t){if(angular.equals(a,t.caseId)){var s=angular.copy(t);e.strikeTeams.push(s)}e.deploys=c(e.strikeTeams)}),i.on("updateSt",function(s){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)})}),i.on("dismiss",function(s){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.deploys=c(e.strikeTeams)})});var a=s.id;t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)}),e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"]};var c=function(e){var t=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0}})});if(e)for(var s=e.length-1;s>=0;s--){var n=_.indexOf(e[s].positions,e[s].position),r=_.indexOf(e[s].areas,e[s].area);t[n][r].stTotal+=1,t[n][r].totalMember+=e[s].members.length}return t};e.$on("$destroy",function(e){i.removeAllListeners()})}]),angular.module("InNet").controller("TimerCtrl",["$scope","SocketSvc",function(e,t){e.timerRunning=!0,e.startTimer=function(s,n){e.$broadcast("timer-start"),e.timerRunning=!0,t.emit("timer",{stId:s._id,timerRunning:!0})},e.stopTimer=function(s,n){e.$broadcast("timer-stop"),e.timerRunning=!1,t.emit("timer",{stId:s._id,timerRunning:!1})},e.resumeTimer=function(){e.$broadcast("timer-resume"),e.timerRunning=!1}}]),angular.module("InNet").controller("TopNavCtrl",["$scope","$location","$state","$interval","store","SocketSvc","UserSvc","$window",function(e,t,s,n,r,i,a,c){e.currentTime=moment().format("MMM Do, h:mm:ss a"),n(function(){moment.locale("zh-tw"),e.currentTime=moment().format("MMM Do, h:mm:ss a")},1e3),e.logout=function(){a.currentAccount();i.emit("logout"),s.go("anon.login")}}]),angular.module("InNet").service("UserSvc",["$http","store","jwtHelper",function(e,t,s){this.fetchOnlineUser=function(){return e.get("/api/users/userState")},this.register=function(){return e.post("/api/users")},this.login=function(t){return e.post("/api/users/authenticate",t)},this.isLoggedIn=function(){return t.get("jwt")},this.isValid=function(e){return this.isLoggedIn&&(s.decodeToken(t.get("jwt")).accessLevel>1||s.decodeToken(t.get("jwt")).branch==e)?!0:!1},this.userBranch=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).branch:void 0},this.userCorps=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).corps:void 0},this.currentUser=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).username:void 0},this.currentAccount=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).account:void 0},this.accessLevel=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).accessLevel:void 0},this.caseId=function(){return this.isLoggedIn?s.decodeToken(t.get("jwt")).caseId:void 0}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImJyYW5jaC5zdmMuanMiLCJjYXJzLnN2Yy5qcyIsImNhc2UuY3RybC5qcyIsImNhc2UubW9kYWwuY3RybC5qcyIsImNhc2Uuc3ZjLmpzIiwiZGFzaGJvYXJkLmN0cmwuanMiLCJkaXJlY3RpdmVzLmpzIiwiZGlzcGF0Y2guY3RybC5qcyIsImR1dHlsaXN0LmN0cmwuanMiLCJkdXR5bGlzdC5lZGl0LmN0cmwuanMiLCJnZW8uc3ZjLmpzIiwibG9naW4uY3RybC5qcyIsIm1hcC5pbmRleC5jdHJsLmpzIiwibWVtYmVyLmN0cmwuanMiLCJtZW1iZXIuZWRpdC5jdHJsLmpzIiwibWVtYmVyLm1vZGFsLmN0cmwuanMiLCJtZW1iZXIuc3ZjLmpzIiwibmF2LmN0cmwuanMiLCJyb3V0ZXIuanMiLCJzYWZldHkuaW5kZXguY3RybC5qcyIsInNhZmV0eS5tYW5hZ2UuY3RybC5qcyIsInNhZmV0eS5tb2RhbC5jdHJsLmpzIiwic2FmZXR5LnNldHRpbmcubW9kYWwuanMiLCJzb2NrZXQuc3ZjLmpzIiwic3Quc3ZjLmpzIiwic3VtbWFyeS5jdHJsLmpzIiwidGltZXIuY3RybC5qcyIsInRvcG5hdmJhci5jdHJsLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJmZXRjaCIsImNvcnBzIiwiZ2V0IiwiZmV0Y2hCeU5hbWUiLCJicmFuY2giLCJ0b3RhbExpc3RGaW5kQnlOYW1lIiwiZ2V0RGV0YWlscyIsImlkIiwidXBkYXRlIiwiZGF0YSIsInB1dCIsInVwZGF0ZURpcmVjdG9yIiwiZmluZEJ5QnJhbmNoIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRzdGF0ZVBhcmFtcyIsIiRtb2RhbCIsIkNhc2VTdmMiLCIkbG9nIiwiU29ja2V0U3ZjIiwiVXNlclN2YyIsIm1heFNpemUiLCJiaWdUb3RhbEl0ZW1zIiwiYmlnQ3VycmVudFBhZ2UiLCJ1c2VyQ29ycHMiLCJzdWNjZXNzIiwiY2FzZXMiLCJvbiIsIl9jYXNlIiwidW5zaGlmdCIsImNhc2VJZCIsImNob29zZSIsImZpbmRCeUlkIiwiX2lkIiwiY2FzZURldGFpbHMiLCJhZGROZXdDYXNlIiwibW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJ0ZW1wbGF0ZVVybCIsInNpemUiLCJyZXNvbHZlIiwiXyIsImlzRW1wdHkiLCJyZXN1bHQiLCJ0aGVuIiwibXNnIiwiY29uc29sZSIsImxvZyIsImluZm8iLCJEYXRlIiwiZWRpdENhc2UiLCJDYXJTdmMiLCIkbW9kYWxJbnN0YW5jZSIsIiRzdGF0ZSIsIlN0U3ZjIiwiJHdpbmRvdyIsIkJyYW5jaFN2YyIsImdldENhcnNEZXRhaWwiLCJvYmoiLCJkaXNwYXRjaExpc3QiLCJjYXJJZHMiLCJicmFuY2hlcyIsImNhcnMiLCJpIiwibGVuZ3RoIiwicHVzaCIsInJhZGlvQ29kZSIsImdldEJyYW5jaElkIiwiYnJhbmNoZXNMaXN0IiwidW5pcXVlIiwiYnJhbmNoSWRzIiwiaW5kZXhPZiIsIm5hbWUiLCJpc05ldyIsImNhck9ianMiLCJjYXNlT2JqIiwiYWRkcmVzcyIsInBob25lIiwidHlwZSIsInR5cGVzIiwiam9pbiIsImdldENhcnMiLCJpc0NoZWNrZWQiLCJjYW5jZWwiLCJkaXNtaXNzIiwiY2FuY2VsRGlzcGF0Y2giLCJjYXIiLCJzcGxpY2UiLCJkaXNwYXRjaCIsImNsb3NlQ2FzZSIsImNvdW50IiwidG90YWwiLCJhbGVydCIsImlzT25nb2luZyIsInJlbG9hZCIsInNhdmUiLCJjcmVhdGUiLCJvZmZpY2VyUmVjZWl2ZXIiLCJjdXJyZW50VXNlciIsIm5ld0Nhc2UiLCJjbG9zZSIsImNvbnRlbnQiLCJmZXRjaEFsbCIsImZldGNoUmVsYXRpdmVDYXNlIiwiZmV0Y2hEZXRhaWxzIiwiY2FzZV9pbmZvIiwicG9zdCIsInVwZGF0ZWRfY2FzZSIsIiRsb2NhdGlvbiIsImZldGNoT25saW5lVXNlciIsInVzZXJzIiwidXNlciIsImRpc2Nvbm5lY3RVc2VyIiwiZmlsdGVyIiwidXNlcm5hbWUiLCJsb2dvdXRVc2VyIiwiJG9uIiwiZXZlbnQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlc3RyaWN0IiwidGVtcGxhdGUiLCIkZWxlbWVudCIsIm1pbmltYWxpemUiLCIkIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsImhpZGUiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwicmVtb3ZlQXR0ciIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJtZXRpc01lbnUiLCJzaG93aGlkZSIsImlib3giLCJjbG9zZXN0IiwiaWNvbiIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInJlc2l6ZSIsImNsb3NlYm94IiwicmVtb3ZlIiwiaUVsZW1lbnQiLCJpQXR0cnMiLCJiaW5kIiwiaGlzdG9yeSIsImJhY2siLCJicmFuY2hMaXN0IiwiY2Fyc0RhdGEiLCJqIiwicmFkaW9fY29kZSIsIiRxIiwidG90YWxDb3VudCIsIm1lbWJlcnMiLCJvbkR1dHkiLCJhY2Nlc3NMZXZlbCIsInVzZXJCcmFuY2giLCJvbkR1dHlUb3RhbCIsIk1lbWJlclN2YyIsImNoZWNrIiwibWVtYmVyIiwiZGlyZWN0b3IiLCJ1cGRhdGVCeU1lbWJlcklkIiwidGl0bGUiLCJtZW1iZXJJZCIsIm1pc3Npb24iLCJnZXRHZW9sb2NhdGlvbkNvb3JkaW5hdGVzIiwiZGVmZXJyZWQiLCJkZWZlciIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJjb29yZHMiLCJlcnJvciIsInByb21pc2UiLCJzdG9yZSIsImp3dEhlbHBlciIsInRva2VuIiwibG9naW4iLCJzZXQiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJpbml0IiwiZW1pdCIsImdvIiwiZGVjb2RlVG9rZW4iLCJyb2xlIiwibGVhZmxldERhdGEiLCJHZW9TdmMiLCJjb29yZCIsIm5vd1BvcyIsImxhdCIsImxhdGl0dWRlIiwibG5nIiwibG9uZ2l0dWRlIiwiem9vbSIsImV4dGVuZCIsImNvbnRyb2xzIiwiZHJhdyIsImdldE1hcCIsIm1hcCIsImRyYXduSXRlbXMiLCJlZGl0IiwiZmVhdHVyZUdyb3VwIiwiZSIsImxheWVyIiwiYWRkTGF5ZXIiLCJGZWF0dXJlQ29sbGVjdGlvbnMiLCJ0b0dlb0pTT04iLCJpc0RlbGV0ZWQiLCJtZW1iZXJJZHMiLCJkaXJlY3RvcnMiLCJhZGROZXdNZW1iZXIiLCJ0aXRsZXMiLCJjb3JwIiwibWlzc2lvbnMiLCJmZXRjaE9uRHV0eSIsInVwZGF0ZU1lbWJlciIsInVwZGF0ZUlzQ2hlY2tlZCIsIm1lbWJlckRhdGEiLCJpc1ZhbGlkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwiYWJzdHJhY3QiLCJyZXF1aXJlZExvZ2luIiwicnVuIiwiJHJvb3RTY29wZSIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0xvZ2dlZEluIiwicHJldmVudERlZmF1bHQiLCJkZXRhaWxzIiwic3RzIiwic3RyaWtlVGVhbXMiLCJzdCIsImVxdWFscyIsImNvcHkiLCJhcmVhIiwiYXBwbHkiLCJfc3RJZCIsInN0SWQiLCJzdHJpa2VUZWFtIiwib3BlblNldHRpbmdNb2RhbCIsInVwZGF0ZWRTdCIsImRpc21pc3NTdCIsImZvckVhY2giLCJsaW1pdFRpbWUiLCJtb21lbnQiLCJkdXJhdGlvbiIsIndvcmtpbmdUaW1lIiwicG9zaXRpb25zIiwiYXJlYXMiLCJpc0Rpc21pc3NlZCIsIm1pbiIsImNyZWF0b3IiLCJtZW1iZXJPYmpzIiwiY2hvb3NlQnJhbmNoIiwidW5jaGVjayIsInVwZGF0ZVN0IiwiYXV0aFRva2VuIiwiaW8iLCJjb25uZWN0IiwicXVlcnkiLCJmb3JjZU5ldyIsInNvY2tldCIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiYXJncyIsImFyZ3VtZW50cyIsIiRhcHBseSIsImZldGNoQnlDYXNlIiwidXBkYXRlVGltZVJlY29yZCIsIiRpbnRlcnZhbCIsInRpbWVyUnVubmluZyIsInRpbWVyIiwibWlsbGlzIiwicHJvZ3Jlc3MiLCJwcm9ncmVzc1N0YXRlIiwibmV3U3QiLCJkZXBsb3lzIiwiaW5pdFRhYmxlIiwiZGVmYXVsdFBvcyIsImRlcGxveUFycmF5IiwicmFuZ2UiLCJ0b3RhbE1lbWJlciIsInN0VG90YWwiLCJ4IiwieSIsInN0YXJ0VGltZXIiLCIkYnJvYWRjYXN0Iiwic3RvcFRpbWVyIiwicmVzdW1lVGltZXIiLCJjdXJyZW50VGltZSIsImZvcm1hdCIsImxvY2FsZSIsImxvZ291dCIsImN1cnJlbnRBY2NvdW50IiwicmVnaXN0ZXIiLCJhY2NvdW50Il0sIm1hcHBpbmdzIjoiQUFLQUEsUUFBQUMsT0FBQSxTQUFBLFlBQUEsZUFBQSxRQUFBLGtCQUFBLGNBQUEsb0JBQUEsbUJDQUFELFFBQUFDLE9BQUEsU0FDQUMsUUFBQSxhQUFBLFFBQUEsU0FBQUMsR0FFQUMsS0FBQUMsTUFBQSxTQUFBQyxHQUNBLE1BQUFILEdBQUFJLElBQUEscUJBQUFELElBR0FGLEtBQUFJLFlBQUEsU0FBQUMsR0FDQSxNQUFBTixHQUFBSSxJQUFBLDJCQUFBRSxJQUdBTCxLQUFBTSxvQkFBQSxTQUFBRCxHQUNBLE1BQUFOLEdBQUFJLElBQUEsaUNBQUFFLElBR0FMLEtBQUFPLFdBQUEsU0FBQUMsR0FDQSxNQUFBVCxHQUFBSSxJQUFBLGVBQUFLLElBR0FSLEtBQUFTLE9BQUEsU0FBQUMsR0FDQSxNQUFBWCxHQUFBWSxJQUFBLGVBQUFELEVBQUFMLE9BQUFLLElBR0FWLEtBQUFZLGVBQUEsU0FBQUYsR0FDQSxNQUFBWCxHQUFBWSxJQUFBLHNCQUFBRCxFQUFBTCxPQUFBSyxPQ3hCQWQsUUFBQUMsT0FBQSxTQUNBQyxRQUFBLFVBQUEsUUFBQSxTQUFBQyxHQUVBQyxLQUFBQyxNQUFBLFdBQ0EsTUFBQUYsR0FBQUksSUFBQSxjQUdBSCxLQUFBYSxhQUFBLFNBQUFSLEdBQ0EsTUFBQU4sR0FBQUksSUFBQSxhQUFBRSxJQUdB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QWdILFNBREEsUUFLQW5ILEtBQUFxVCxlQUFBLFdBQ0EsTUFBQXJULE1BQUFrUCxXQUNBN0QsRUFBQVUsWUFBQVgsRUFBQWpMLElBQUEsUUFBQW9ULFFBREEsUUFLQXZULEtBQUErSixZQUFBLFdBQ0EsTUFBQS9KLE1BQUFrUCxXQUNBN0QsRUFBQVUsWUFBQVgsRUFBQWpMLElBQUEsUUFBQTRKLFlBREEsUUFLQS9KLEtBQUErQixPQUFBLFdBQ0EsTUFBQS9CLE1BQUFrUCxXQUNBN0QsRUFBQVUsWUFBQVgsRUFBQWpMLElBQUEsUUFBQTRCLE9BREEiLCJmaWxlIjoiaW5uZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEluTmV0IE1vZCd1aS5yb3V0ZSd1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnLCBbJ3VpLnJvdXRlcicsJ3VpLmJvb3RzdHJhcCcsICd0aW1lcicsJ2FuZ3VsYXItc3RvcmFnZScsICdhbmd1bGFyLWp3dCcsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ2FuZ3VsYXIuZmlsdGVyJ10pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnQnJhbmNoU3ZjJywgWyAnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcblxuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY29ycHMpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoP2NvcnBzPScgKyBjb3Jwcyk7XG5cdH07XG5cblx0dGhpcy5mZXRjaEJ5TmFtZSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2gvbmFtZT9icmFuY2g9JyArIGJyYW5jaCk7XG5cdH07XG5cblx0dGhpcy50b3RhbExpc3RGaW5kQnlOYW1lID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaC9uYW1lL3RvdGFsP2JyYW5jaD0nICsgYnJhbmNoKVxuXHR9XG5cblx0dGhpcy5nZXREZXRhaWxzID0gZnVuY3Rpb24oaWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoLycgKyBpZCk7XG5cdH07XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2JyYW5jaC8nICsgZGF0YS5icmFuY2ggLCBkYXRhKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZURpcmVjdG9yID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9icmFuY2g/YnJhbmNoPScgKyBkYXRhLmJyYW5jaCwgZGF0YSlcblx0fVxuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0NhclN2YycsIFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FycycpXG5cdH1cblxuXHR0aGlzLmZpbmRCeUJyYW5jaCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhcnMvJyArIGJyYW5jaCApXG5cdH1cblx0XG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXJzLycgKyBkYXRhLmlkICwgZGF0YSlcblx0fVxuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXNlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsICckbG9nJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSAsICRzdGF0ZVBhcmFtcywgJG1vZGFsLCBDYXNlU3ZjLCAkbG9nLCBTb2NrZXRTdmMsIFVzZXJTdmMpIHtcblxuXHQkc2NvcGUubWF4U2l6ZSA9IDU7XG5cdCRzY29wZS5iaWdUb3RhbEl0ZW1zID0gMTc1O1xuXHQkc2NvcGUuYmlnQ3VycmVudFBhZ2UgPSAxO1xuXG5cdENhc2VTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdH0pO1xuXG5cdFNvY2tldFN2Yy5vbignbmV3Q2FzZScsZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdCRzY29wZS5jYXNlcy51bnNoaWZ0KF9jYXNlKTtcblx0fSk7XG5cblx0U29ja2V0U3ZjLm9uKCdjYXNlTW9kaWZpZWQnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHQkc2NvcGUuY2FzZXNbX2Nhc2UuY2FzZUlkLTFdID0gX2Nhc2U7XG5cdH0pO1xuXG5cdCRzY29wZS5jaG9vc2UgPSBmdW5jdGlvbihpZCl7XG5cdFx0Q2FzZVN2Yy5maW5kQnlJZCgkc2NvcGUuY2FzZXNbaWRdLl9pZCkuc3VjY2VzcyhmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdCRzY29wZS5jYXNlRGV0YWlscyA9IF9jYXNlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5hZGROZXdDYXNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY2FzZS9jYXNlLm1vZGFsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZU1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRpZiAoIF8uaXNFbXB0eSgkc2NvcGUuY2FzZXMpKSB7XG5cdFx0XHQgICAgXHRcdFx0cmV0dXJuIDBcblx0XHRcdCAgICBcdFx0fSBlbHNle1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAkc2NvcGUuY2FzZXNbMF0uY2FzZUlkO1xuXHRcdFx0ICAgIFx0XHR9O1xuXHRcdFx0ICAgIH0sXG5cdFx0ICAgIFx0Y2FzZURldGFpbHMgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIHt9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKG1zZykge1xuXHQgICAgICAvLyAkc2NvcGUuY2FzZXMudW5zaGlmdChuZXdDYXNlKTtcblx0ICAgICAgY29uc29sZS5sb2cobXNnKTtcblx0ICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oaWQpe1xuXHQgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9jYXNlL2Nhc2UubW9kYWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gaWRcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2FzZURldGFpbHNcblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcbn1dKVxuIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ0NhclN2YycsICckbW9kYWxJbnN0YW5jZScsICdDYXNlU3ZjJywnJHN0YXRlJywgJ2Nhc2VJZCcsJ2Nhc2VEZXRhaWxzJywgJ1N0U3ZjJywgJyR3aW5kb3cnLCAnQnJhbmNoU3ZjJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBDYXJTdmMsICRtb2RhbEluc3RhbmNlLCBDYXNlU3ZjLCAkc3RhdGUsIGNhc2VJZCwgY2FzZURldGFpbHMsIFN0U3ZjICwgJHdpbmRvdywgQnJhbmNoU3ZjLCBVc2VyU3ZjKSB7XG5cblx0aWYgKF8uaXNFbXB0eShjYXNlRGV0YWlscykpIHtcblx0XHQkc2NvcGUuaXNOZXcgPSB0cnVlO1xuXHRcdGNhck9ianMgPSBbXTtcblxuXHR9ZWxzZXtcblx0XHQkc2NvcGUuaXNOZXcgPSBmYWxzZTtcblx0XHR2YXIgY2FyT2JqcyA9IGNhc2VEZXRhaWxzLmNhcnM7XG5cdH1cblxuXHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0fSk7XG5cblx0ZnVuY3Rpb24gZ2V0Q2Fyc0RldGFpbChvYmope1xuXHRcdHZhciBkaXNwYXRjaExpc3QgPSBbXTtcblx0XHR2YXIgY2FySWRzID0gW107XG5cdFx0dmFyIGJyYW5jaGVzID0gW107XG5cblx0XHRpZiAob2JqLmNhcnMpIHtcblx0XHRcdGZvciAodmFyIGkgPSBvYmouY2Fycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRkaXNwYXRjaExpc3QucHVzaChvYmouY2Fyc1tpXS5yYWRpb0NvZGUpO1xuXHRcdFx0XHRjYXJJZHMucHVzaChvYmouY2Fyc1tpXS5faWQpO1xuXHRcdFx0XHRicmFuY2hlcy5wdXNoKG9iai5jYXJzW2ldLmJyYW5jaCk7IFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiB7ZGlzcGF0Y2hMaXN0IDogZGlzcGF0Y2hMaXN0ICwgY2FySWRzIDogY2FySWRzICwgYnJhbmNoZXMgOiAgYnJhbmNoZXN9XG5cblx0XHR9ZWxzZXtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9O1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldEJyYW5jaElkKGJyYW5jaGVzTGlzdCl7XG5cdFx0dmFyIGJyYW5jaGVzID0gXy51bmlxdWUoYnJhbmNoZXNMaXN0KTtcblx0XHR2YXIgYnJhbmNoSWRzID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChicmFuY2hlcy5pbmRleE9mKCRzY29wZS5icmFuY2hlc1tpXS5uYW1lKSA+IC0xKSB7XG5cdFx0XHRcdGJyYW5jaElkcy5wdXNoKCRzY29wZS5icmFuY2hlc1tpXS5faWQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiAgYnJhbmNoSWRzO1xuXHR9O1xuXG5cdCRzY29wZS5jYXNlT2JqID0ge1xuXHRcdGFkZHJlc3MgOiBjYXNlRGV0YWlscy5hZGRyZXNzIHx8IG51bGwsXG5cdFx0cGhvbmUgOiBjYXNlRGV0YWlscy5waG9uZSB8fCBudWxsLFxuXHQgICAgdHlwZSA6IGNhc2VEZXRhaWxzLnR5cGUgfHwgIFwi54Gr6K2mXCIsIFxuXHQgICAgdHlwZXMgOiBbIFwi54Gr6K2mXCIsIFwi5pWR6K23XCIsIFwi54G95a6zXCIsIFwi5qqi6IiJXCIsXCLlhbbku5ZcIl0gLFxuXHQgICAgY2FySWRzIDogZ2V0Q2Fyc0RldGFpbChjYXNlRGV0YWlscykuY2FySWRzICB8fCBbXSxcblx0ICAgIGRpc3BhdGNoTGlzdCA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmRpc3BhdGNoTGlzdCB8fCAgW10sXG5cdCAgICBicmFuY2hlcyA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmJyYW5jaGVzIHx8ICBbXVxuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cblx0JHNjb3BlLmdldENhcnMgPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0IENhclN2Yy5maW5kQnlCcmFuY2goYnJhbmNoLm5hbWUpLnN1Y2Nlc3MoZnVuY3Rpb24oY2Fycyl7XG5cdFx0IFx0Zm9yICh2YXIgaSA9IGNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgXHRcdGlmICgkc2NvcGUuY2FzZU9iai5jYXJJZHMuaW5kZXhPZihjYXJzW2ldLl9pZCkgPiAtMSApIHtcblx0XHQgXHRcdFx0Y2Fyc1tpXS5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHQgXHRcdH07XG5cdFx0IFx0fTtcblx0XHQgXHQkc2NvcGUuY2FycyA9IGNhcnM7XG5cdFx0IH0pO1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbERpc3BhdGNoID0gZnVuY3Rpb24oY2FyKXtcblx0XHRjYXIuaXNDaGVja2VkID0gZmFsc2U7XG5cdFx0Y2FyT2Jqcy5zcGxpY2UoY2FyT2Jqcy5pbmRleE9mKGNhciksMSlcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5faWQpLDEpO1xuXHRcdCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5zcGxpY2UoJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmluZGV4T2YoY2FyLnJhZGlvQ29kZSksMSk7XG5cdFx0JHNjb3BlLmNhc2VPYmouYnJhbmNoZXMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5icmFuY2gpLDEpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmRpc3BhdGNoID0gZnVuY3Rpb24oIGNhciApe1xuXHRcdGNhci5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHRjYXJPYmpzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMucHVzaChjYXIuX2lkKTtcblx0XHQkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QucHVzaChjYXIucmFkaW9Db2RlKTtcblx0XHQkc2NvcGUuY2FzZU9iai5icmFuY2hlcy5wdXNoKGNhci5icmFuY2gpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmNsb3NlQ2FzZSA9IGZ1bmN0aW9uKCl7XG5cdFx0U3RTdmMuY291bnQoY2FzZURldGFpbHMuX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKHRvdGFsKXtcblx0XHRcdGlmICh0b3RhbCA+IDAgKSB7XG5cdFx0XHRcdCR3aW5kb3cuYWxlcnQoXCLlsJrmnInpmorlk6HlnKjlronlhajnrqHliLZcIilcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRDYXNlU3ZjLmNsb3NlQ2FzZSh7XG5cdFx0XHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRcdFx0aXNPbmdvaW5nIDogZmFsc2Vcblx0XHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihtc2cpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG1zZylcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdFx0XHQkc3RhdGUucmVsb2FkKClcblx0XHRcdH07XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdENhc2VTdmMuY3JlYXRlKHtcblx0XHRcdGNhc2VJZCAgIDogY2FzZUlkICsgMSwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRvZmZpY2VyUmVjZWl2ZXIgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgfHwgIFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlIHx8IFwi5pWR6K23XCIsXG5cdFx0XHRwaG9uZSAgICAgOiAkc2NvcGUuY2FzZU9iai5waG9uZSB8fCBcIua4rOipplwiLFxuXHRcdFx0YnJhbmNoZXMgIDogXy51bmlxdWUoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHRcdFx0YnJhbmNoSWRzIDogZ2V0QnJhbmNoSWQoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHQgIFx0XHRjYXJzICAgICAgOiAkc2NvcGUuY2FzZU9iai5jYXJJZHMsXG5cdFx0XHRpc09uZ29pbmcgOiB0cnVlLFxuXHRcdFx0Y29ycHMgXHQgIDogVXNlclN2Yy51c2VyQ29ycHMoKVxuXHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24obmV3Q2FzZSl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZShuZXdDYXNlKVxuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBjb250ZW50ID0ge1xuXHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRjYXNlSWQgICA6IGNhc2VJZCwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzLFxuXHRcdFx0b2ZmaWNlclJlY2VpdmVyIDogVXNlclN2Yy5jdXJyZW50VXNlcigpIHx8IFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmNhc2VPYmoucGhvbmUsXG5cdFx0XHRicmFuY2hlcyAgOiBfLnVuaXF1ZSgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdFx0XHRicmFuY2hJZHMgOiBnZXRCcmFuY2hJZCgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdCAgXHRcdGNhcnMgICAgICA6ICRzY29wZS5jYXNlT2JqLmNhcklkcyxcblx0XHRcdGlzT25nb2luZyA6IHRydWUsIFxuXHRcdH07XG5cdFx0XG5cdFx0Q2FzZVN2Yy51cGRhdGUoY29udGVudCk7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnQ2FzZVN2YycsIFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbihjb3Jwcyl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcz9jb3Jwcz0nICsgY29ycHMgKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQWxsID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Nhc2VzL2RldGFpbHMnKTtcblx0fTtcblxuXHR0aGlzLmZldGNoUmVsYXRpdmVDYXNlID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Nhc2VzL2JyYW5jaD9icmFuY2g9JyArIGJyYW5jaCApXG5cdH1cblxuXHR0aGlzLmZldGNoRGV0YWlscyA9IGZ1bmN0aW9uKCBjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvZGV0YWlscy8nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmZpbmRCeUlkID0gZnVuY3Rpb24oIGNhc2VJZCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FzZXMvJyArIGNhc2VJZCApO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oY2FzZV9pbmZvKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jYXNlcycsIGNhc2VfaW5mbyk7XG5cdH07XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbih1cGRhdGVkX2Nhc2Upe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvY2FzZXMvJyArIHVwZGF0ZWRfY2FzZS5pZCAsIHVwZGF0ZWRfY2FzZSk7XG5cdH07XG5cblx0dGhpcy5kZWxldGUgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Nhc2VzLycgKyBjYXNlSWQpO1xuXHR9O1xuXG5cdHRoaXMuY2xvc2VDYXNlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXNlcy9jbG9zZT9pZD0nICsgZGF0YS5pZCwgZGF0YSApXG5cdH1cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZEN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBTb2NrZXRTdmMsIFVzZXJTdmMsIEJyYW5jaFN2Yykge1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoZXMpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdFx0fSk7XG5cblx0XHRVc2VyU3ZjLmZldGNoT25saW5lVXNlcigpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gdXNlcnM7XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ2luJyxmdW5jdGlvbih1c2VyKXtcblx0XHRcdCRzY29wZS51c2Vycy5wdXNoKHVzZXIpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyRGlzY29ubmVjdCcsZnVuY3Rpb24oZGlzY29ubmVjdFVzZXIpe1xuXHRcdFx0JHNjb3BlLnVzZXJzID0gJHNjb3BlLnVzZXJzLmZpbHRlcihmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRcdHJldHVybiB1c2VyLnVzZXJuYW1lICE9IGRpc2Nvbm5lY3RVc2VyLnVzZXJuYW1lXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXNlckxvZ291dCcsZnVuY3Rpb24obG9nb3V0VXNlcil7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSAkc2NvcGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0cmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gbG9nb3V0VXNlci51c2VybmFtZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uZGlyZWN0aXZlKCdtaW5pbWFsaXphU2lkZWJhcicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG5cdHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIHRlbXBsYXRlOiAnPGEgY2xhc3M9XCJuYXZiYXItbWluaW1hbGl6ZSBtaW5pbWFsaXplLXN0eWwtMiBidG4gYnRuLXByaW1hcnlcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJtaW5pbWFsaXplKClcIj48aSBjbGFzcz1cImZhIGZhLWJhcnNcIj48L2k+PC9hPicsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAkc2NvcGUubWluaW1hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIm1pbmktbmF2YmFyXCIpO1xuICAgICAgICAgICAgICAgIGlmICghJCgnYm9keScpLmhhc0NsYXNzKCdtaW5pLW5hdmJhcicpIHx8ICQoJ2JvZHknKS5oYXNDbGFzcygnYm9keS1zbWFsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgbWVudSBpbiBvcmRlciB0byBzbW9vdGhseSB0dXJuIG9uIHdoZW4gbWF4aW1pemUgbWVudVxuICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3Igc21vb3RobHkgdHVybiBvbiBtZW51XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmZhZGVJbig1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnZml4ZWQtc2lkZWJhcicpKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuZmFkZUluKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgaW5saW5lIHN0eWxlIGZyb20ganF1ZXJ5IGZhZGVJbiBmdW5jdGlvbiB0byByZXNldCBtZW51IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1dKVxuXG4uZGlyZWN0aXZlKCdzaWRlTmF2aWdhdGlvbicsIFsgJyR0aW1lb3V0JywgZnVuY3Rpb24oICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIG1ldHNpTWVudSBwbHVnaW4gYW5kIHBsdWcgaXQgdG8gc2lkZWJhciBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQubWV0aXNNZW51KCk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdpYm94VG9vbHMnLCBbICckdGltZW91dCcsZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tbW9uL2lib3hfdG9vbHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBmb3IgY29sbGFwc2UgaWJveFxuICAgICAgICAgICAgJHNjb3BlLnNob3doaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpYm94ID0gJGVsZW1lbnQuY2xvc2VzdCgnZGl2Lmlib3gnKTtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9ICRlbGVtZW50LmZpbmQoJ2k6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGlib3guZmluZCgnZGl2Lmlib3gtY29udGVudCcpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVUb2dnbGUoMjAwKTtcbiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgaWNvbiBmcm9tIHVwIHRvIGRvd25cbiAgICAgICAgICAgICAgICBpY29uLnRvZ2dsZUNsYXNzKCdmYS1jaGV2cm9uLXVwJykudG9nZ2xlQ2xhc3MoJ2ZhLWNoZXZyb24tZG93bicpO1xuICAgICAgICAgICAgICAgIGlib3gudG9nZ2xlQ2xhc3MoJycpLnRvZ2dsZUNsYXNzKCdib3JkZXItYm90dG9tJyk7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpYm94LnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpYm94LmZpbmQoJ1tpZF49bWFwLV0nKS5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGZvciBjbG9zZSBpYm94XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWJveCA9ICRlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5pYm94Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlib3gucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdiYWNrJywgWyckd2luZG93JyAsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG4gICAgICAgICAgICBpRWxlbWVudC5iaW5kKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH07XG59XSlcbiIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0Rpc3BhdGNoQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsJ0JyYW5jaFN2YycsICdDYXJTdmMnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUgLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgQ2FzZVN2YywgQnJhbmNoU3ZjLCBDYXJTdmMsIFVzZXJTdmMpIHtcblxuXHRDYXNlU3ZjLmZldGNoKFVzZXJTdmMudXNlckNvcnBzKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oY2FzZXMpe1xuXHRcdCRzY29wZS5jYXNlcyA9IGNhc2VzO1xuXHRcdENhc2VTdmMuZmluZEJ5SWQoJHNjb3BlLmNhc2VzWyRzdGF0ZVBhcmFtcy5jYXNlSWRdLl9pZCkuc3VjY2VzcyhmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdCRzY29wZS5jYXNlRGV0YWlscyA9IF9jYXNlXG5cdFx0fSlcblx0fSlcblxuXHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoTGlzdCA9IGJyYW5jaGVzO1xuXG5cdCB9KVxuXG5cdENhclN2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG5cdCAgICAkc2NvcGUuY2Fyc0RhdGEgPSBkYXRhXG5cdH0pXG5cblx0JHNjb3BlLmFkZE5ld0Nhc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvY2FzZVBhbmVsL2Nhc2VBZGRNb2RhbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlQWRkTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmlkID0gXCLmlrDlop7moYjku7ZcIlxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0YnJhbmNoTGlzdCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmJyYW5jaExpc3Rcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhcnNEYXRhIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2Fyc0RhdGFcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGlzTmV3IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiB0cnVlXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4ge31cblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oKXtcblx0IFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Nhc2VQYW5lbC9jYXNlQWRkTW9kYWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZUFkZE1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5pZCA9ICRzY29wZS5jYXNlc1skc3RhdGVQYXJhbXMuY2FzZUlkXS5jYXNlSWQgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRicmFuY2hMaXN0IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuYnJhbmNoTGlzdFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2Fyc0RhdGEgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5jYXJzRGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdCAgICBcdFx0XHRmb3IgKHZhciBqID0gJHNjb3BlLmNhc2VEZXRhaWxzLmNhcnMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcblx0XHQgICAgXHRcdFx0XHRpZiAoICRzY29wZS5jYXJzRGF0YVtpXS5yYWRpb0NvZGUgPT09ICRzY29wZS5jYXNlRGV0YWlscy5jYXJzW2pdLnJhZGlvX2NvZGUpIHtcblx0XHQgICAgXHRcdFx0XHRcdCRzY29wZS5jYXJzRGF0YVtpXS5pc0NoZWNrZWQgPSB0cnVlIFxuXHRcdCAgICBcdFx0XHRcdH07XG5cdFx0ICAgIFx0XHRcdH07XHRcdCAgICBcdFx0XHRcblx0XHQgICAgXHRcdH07XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhcnNEYXRhXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRpc05ldyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gZmFsc2UgXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXNlRGV0YWlscyA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmNhc2VEZXRhaWxzXG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0IH07XG5cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0R1dHlMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCAnU29ja2V0U3ZjJywgJ1VzZXJTdmMnLCAnJHEnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgU29ja2V0U3ZjLCBVc2VyU3ZjLCAkcSkge1xuXG5cblxuXHRcdGlmIChVc2VyU3ZjLmFjY2Vzc0xldmVsKCkgPCAyICkge1xuXHRcdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdH0gZWxzZXtcblx0XHRcdHZhciBicmFuY2ggPSAkc3RhdGVQYXJhbXMuYnJhbmNoXG5cdFx0fTtcblxuXHRcdFxuXG5cdFx0QnJhbmNoU3ZjLnRvdGFsTGlzdEZpbmRCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0XHRjb25zb2xlLmxvZyhicmFuY2gpO1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9IHRvdGFsQ291bnQoJHNjb3BlLmJyYW5jaClcblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIHRvdGFsQ291bnQob2JqKXtcblx0XHRcdHZhciB0b3RhbCA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iai5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChvYmoubWVtYmVyc1tpXS5vbkR1dHkpIHtcblx0XHRcdFx0XHR0b3RhbCArPSAxOyBcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gdG90YWxcblx0XHR9O1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRHV0eUxpc3RFZGl0Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICckc3RhdGVQYXJhbXMnLCdNZW1iZXJTdmMnLCAnJGxvY2F0aW9uJywgJyR3aW5kb3cnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIEJyYW5jaFN2YywgJHN0YXRlUGFyYW1zLCBNZW1iZXJTdmMsICRsb2NhdGlvbiwgJHdpbmRvdywgVXNlclN2Yykge1xuXG5cdFx0aWYgKFVzZXJTdmMuYWNjZXNzTGV2ZWwoKSA8IDIgKSB7XG5cdFx0XHR2YXIgYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7XG5cdFx0fSBlbHNle1xuXHRcdFx0dmFyIGJyYW5jaCA9ICRzdGF0ZVBhcmFtcy5icmFuY2hcblx0XHR9O1xuXG5cdFx0QnJhbmNoU3ZjLnRvdGFsTGlzdEZpbmRCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0XHQkc2NvcGUuYnJhbmNoID0gYnJhbmNoO1xuXHRcdFx0JHNjb3BlLm9uRHV0eVRvdGFsID0gMDtcblx0XHR9KTtcblxuXHRcdCRzY29wZS5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRtZW1iZXIub25EdXR5ID0gIW1lbWJlci5vbkR1dHlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdFx0QnJhbmNoU3ZjLnVwZGF0ZURpcmVjdG9yKHtcblx0XHRcdFx0YnJhbmNoICAgOiAkc2NvcGUuYnJhbmNoLm5hbWUsXG5cdFx0XHRcdGRpcmVjdG9yIDogJHNjb3BlLmJyYW5jaC5kaXJlY3RvclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5icmFuY2gubWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdE1lbWJlclN2Yy51cGRhdGVCeU1lbWJlcklkKHtcblx0XHRcdFx0XHRcdG5hbWUgXHQ6ICRzY29wZS5icmFuY2gubWVtYmVyc1tpXS5uYW1lLFxuXHRcdFx0XHRcdFx0dGl0bGUgICA6ICRzY29wZS5icmFuY2gubWVtYmVyc1tpXS50aXRsZSxcblx0XHRcdFx0XHRcdG1lbWJlcklkIDogJHNjb3BlLmJyYW5jaC5tZW1iZXJzW2ldLl9pZCxcblx0XHRcdFx0XHRcdG9uRHV0eSA6ICRzY29wZS5icmFuY2gubWVtYmVyc1tpXS5vbkR1dHksXG5cdFx0XHRcdFx0XHRtaXNzaW9uIDogICRzY29wZS5icmFuY2gubWVtYmVyc1tpXS5taXNzaW9uXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0dlb1N2YycsIFsgJyRxJywgZnVuY3Rpb24gKCAkcSApIHtcblxuXHR0aGlzLmdldEdlb2xvY2F0aW9uQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgICAgICAgIGZ1bmN0aW9uKHBvc2l0aW9uKSB7IGRlZmVycmVkLnJlc29sdmUocG9zaXRpb24uY29vcmRzKTsgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7IGRlZmVycmVkLnJlc29sdmUobnVsbCk7IH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywnVXNlclN2YycsICdzdG9yZScsICckc3RhdGUnLCdqd3RIZWxwZXInLCckaHR0cCcsICdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjLCBzdG9yZSwgJHN0YXRlLCBqd3RIZWxwZXIsICRodHRwLCBTb2NrZXRTdmMpIHtcblxuXHR2YXIgdG9rZW4gPSBudWxsO1xuXHQkc2NvcGUudXNlciA9IHt9O1xuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpe1xuXHRcdFVzZXJTdmMubG9naW4oJHNjb3BlLnVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdHN0b3JlLnNldCgnand0JywgZGF0YS50b2tlbik7XG5cdFx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyd4LWFjY2Vzcy10b2tlbiddID0gZGF0YS50b2tlbjtcblx0XHRcdFx0dG9rZW4gPSBkYXRhLnRva2VuO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicGFzc3dvcmQgaXMgbm90IGV4aXN0ZWQhXCIpO1xuXHRcdFx0fTtcblx0XHR9KS50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRTb2NrZXRTdmMuaW5pdCh0b2tlbik7XG5cdFx0XHRTb2NrZXRTdmMuZW1pdCgnbG9naW4nKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKS5yb2xlID09IFwiYWRtaW5cIikge1xuXHRcdFx0XHQkc3RhdGUuZ28oJ2R1dHlEZXNrLmRhc2hib2FyZCcpXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JHN0YXRlLmdvKCdkaXJlY3Rvci5zYWZldHkuaW5kZXgnKVxuXHRcdFx0fVxuXHRcdH0pXG5cdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdNYXBJbmRleEN0cmwnLCBbJyRzY29wZScsICdsZWFmbGV0RGF0YScsICdHZW9TdmMnLFxuICAgIGZ1bmN0aW9uICgkc2NvcGUsIGxlYWZsZXREYXRhLCBHZW9TdmMpIHtcbiAgICAgICAgXG4gICAgR2VvU3ZjLmdldEdlb2xvY2F0aW9uQ29vcmRpbmF0ZXMoKS50aGVuKGZ1bmN0aW9uKGNvb3JkKXtcbiAgICAgICAgJHNjb3BlLm5vd1Bvcy5sYXQgPSBjb29yZC5sYXRpdHVkZTtcbiAgICAgICAgJHNjb3BlLm5vd1Bvcy5sbmcgPSBjb29yZC5sb25naXR1ZGU7XG4gICAgICAgICRzY29wZS5ub3dQb3Muem9vbSA9IDE3O1xuICAgIH0pXG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgbm93UG9zOiB7XG4gICAgICAgICAgICBsYXQ6IDI0Ljk4OCxcbiAgICAgICAgICAgIGxuZzogMTIxLjU3NTIsXG4gICAgICAgICAgICB6b29tOiAxN1xuICAgICAgICB9LFxuICAgICAgICBjb250cm9sczoge1xuICAgICAgICAgICAgZHJhdzoge31cbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIGRyYXduSXRlbXMgPSAkc2NvcGUuY29udHJvbHMuZWRpdC5mZWF0dXJlR3JvdXA7XG4gICAgICBtYXAub24oJ2RyYXc6Y3JlYXRlZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBsYXllciA9IGUubGF5ZXI7XG4gICAgICAgIGRyYXduSXRlbXMuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICBcbiAgICAgICAgRmVhdHVyZUNvbGxlY3Rpb25zLnB1c2gobGF5ZXIudG9HZW9KU09OKCkpXG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgfSlcblxuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlckN0cmwnLCBbJyRzY29wZScsICdNZW1iZXJTdmMnLCAnJHN0YXRlUGFyYW1zJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgTWVtYmVyU3ZjLCAkc3RhdGVQYXJhbXMpIHtcblxuXHRcdCRzY29wZS5icmFuY2ggPSAkc3RhdGVQYXJhbXMuYnJhbmNoO1xuXHRcdFxuXHRcdE1lbWJlclN2Yy5maW5kQnlCcmFuY2goJHN0YXRlUGFyYW1zLmJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihtZW1iZXJzKXtcblx0XHRcdCRzY29wZS5tZW1iZXJzID0gbWVtYmVycztcblx0XHR9KTtcbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyRWRpdEN0cmwnLCBbJyRzY29wZScsICdNZW1iZXJTdmMnLCAnQnJhbmNoU3ZjJywgJyRzdGF0ZVBhcmFtcycsICckd2luZG93JywnJG1vZGFsJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgTWVtYmVyU3ZjLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgJHdpbmRvdywgJG1vZGFsKSB7XG5cblx0XHQkc2NvcGUuaXNEZWxldGVkID0gZmFsc2U7XG5cdFx0XG5cdFx0TWVtYmVyU3ZjLmZpbmRCeUJyYW5jaCgkc3RhdGVQYXJhbXMuYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKG1lbWJlcnMpe1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSBtZW1iZXJzO1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1lbWJlcklkcyA9IFtdO1xuXHRcdFx0dmFyIGRpcmVjdG9ycyA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUubWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRtZW1iZXJJZHMucHVzaCgkc2NvcGUubWVtYmVyc1tpXS5faWQpO1xuXHRcdFx0XHRkaXJlY3RvcnMucHVzaCgkc2NvcGUubWVtYmVyc1tpXS5uYW1lKTtcblx0XHRcdFx0aWYgKCRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5YiG6ZqK6ZW3XCIgfHwgJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLlsI/pmorplbdcIiB8fCAkc2NvcGUubWVtYmVyc1tpXS50aXRsZSA9PSBcIuS4remaiumVt1wiIHx8ICRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5aSn6ZqK6ZW3XCIpIHtcblx0XHRcdFx0XHRkaXJlY3RvciA9ICRzY29wZS5tZW1iZXJzW2ldLm5hbWU7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0XHRCcmFuY2hTdmMudXBkYXRlKHtcblx0XHRcdFx0YnJhbmNoIDogJHN0YXRlUGFyYW1zLmJyYW5jaCxcblx0XHRcdFx0bWVtYmVycyA6IG1lbWJlcklkcyxcblx0XHRcdFx0ZGlyZWN0b3JzIDogZGlyZWN0b3JzLFxuXHRcdFx0XHRkaXJlY3RvciA6IGRpcmVjdG9yXG5cdFx0XHR9KTtcblxuXHRcdFx0ICR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5hZGROZXdNZW1iZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tZW1iZXIvbWVtYmVyLm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzdGF0ZVBhcmFtcy5icmFuY2ggXG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIHt9XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblx0XHR9XG5cblx0XHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWVtYmVyL21lbWJlci5tb2RhbC5odG1sJyxcblx0XHRcdCAgICBjb250cm9sbGVyOiAnTWVtYmVyTW9kYWxDdHJsJyxcblx0XHRcdCAgICBzaXplOiBcIm1kXCIsXG5cdFx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHRcdCAgICBcdGJyYW5jaCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdHJldHVybiAkc3RhdGVQYXJhbXMuYnJhbmNoIFxuXHRcdFx0ICAgIFx0fSxcblx0XHRcdCAgICBcdG1lbWJlciA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdHJldHVybiBtZW1iZXJcblx0XHRcdCAgICBcdH1cblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pO1xuXHRcdH1cblxuXHRcdCRzY29wZS5kZWxldGUgPSBmdW5jdGlvbigpe1xuXHRcdFx0JHNjb3BlLmlzRGVsZXRlZCA9IHRydWU7IFxuXHRcdH07XHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ01lbWJlck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ2JyYW5jaCcsICdNZW1iZXJTdmMnLCAnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlJywgJ21lbWJlcicsJ0JyYW5jaFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIGJyYW5jaCwgTWVtYmVyU3ZjLCAkbW9kYWxJbnN0YW5jZSwgJHN0YXRlLCBtZW1iZXIsIEJyYW5jaFN2YyApIHtcblxuXHQkc2NvcGUuaXNOZXcgPSBfLmlzRW1wdHkobWVtYmVyKTtcblx0XG5cdEJyYW5jaFN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKVxuXHQuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXMgXG5cdH0pXG5cdC50aGVuKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIGJyYW5jaGVzTGlzdCA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmJyYW5jaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRicmFuY2hlc0xpc3QucHVzaCgkc2NvcGUuYnJhbmNoZXNbaV0ubmFtZSk7XG5cdFx0fTtcblx0XHQkc2NvcGUubWVtYmVyID0ge1xuXHRcdFx0bmFtZSBcdDogbWVtYmVyLm5hbWUgfHwgXCLmlrDpgLLkurrlk6FcIiwgXG5cdFx0XHR0aXRsZSAgIDogbWVtYmVyLnRpdGxlLFxuXHRcdFx0dGl0bGVzICA6IFtcIumaiuWToVwiLFwi5bCP6ZqK6ZW3XCIsXCLliIbpmorplbdcIixcIuS4remaiumVt1wiLFwi5aSn6ZqK6ZW3XCIsXCLlia/lpKfpmorplbdcIl0sXG5cdFx0XHRicmFuY2ggIDogYnJhbmNoLFxuXHRcdFx0YnJhbmNoZXMgOiBicmFuY2hlc0xpc3QsXG5cdFx0XHRjb3JwIFx0OiBcIuesrOS4gOaVkeeBveaVkeitt+Wkp+mailwiLFxuXHRcdFx0Y29ycHMgXHQ6IFtcIuesrOS4gOaVkeeBveaVkeitt+Wkp+mailwiXSxcblx0XHR9O1xuXHR9KVxuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRNZW1iZXJTdmMuY3JlYXRlKHtcblx0XHRcdCAgb25EdXR5OiBcInRydWVcIixcblx0XHRcdCAgaWQ6IFwiXCIsXG5cdFx0XHQgIG5hbWU6ICRzY29wZS5tZW1iZXIubmFtZSB8fCBcIueOi+Wwj+aYjlwiLFxuXHRcdFx0ICBjb3JwOiAkc2NvcGUubWVtYmVyLmNvcnAsXG5cdFx0XHQgIGJyYW5jaDogJHNjb3BlLm1lbWJlci5icmFuY2gsXG5cdFx0XHQgIHRpdGxlOiAkc2NvcGUubWVtYmVyLnRpdGxlLFxuXHRcdFx0ICBpc0NoZWNrZWQ6IFwiZmFsc2VcIixcblx0XHRcdCAgbWlzc2lvbiA6IFwi556E5a2Q5omLXCIsXG5cdFx0XHQgIG1pc3Npb25zIDogW1wi556E5a2Q5omLXCIsXCLlia/nnoTlrZDmiYtcIixcIuWPuOapn1wiLFwi5bi26ZqK5a6YXCIsXCLlronlhajnrqHliLblk6FcIixcIuiBr+e1oeWumFwiXVxuXHRcdH0pO1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdCRzdGF0ZS5yZWxvYWQoKTtcblx0fTtcblxuXHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0XHRNZW1iZXJTdmMudXBkYXRlQnlNZW1iZXJJZCh7XG5cdFx0XHQgIG1lbWJlcklkICA6IG1lbWJlci5faWQsXG5cdFx0XHQgIGlkIFx0XHQ6IFwiXCIsXG5cdFx0XHQgIG5hbWUgXHRcdDogJHNjb3BlLm1lbWJlci5uYW1lLFxuXHRcdFx0ICBjb3JwIFx0XHQ6ICRzY29wZS5tZW1iZXIuY29ycCxcblx0XHRcdCAgYnJhbmNoIFx0OiAkc2NvcGUubWVtYmVyLmJyYW5jaCxcblx0XHRcdCAgdGl0bGUgXHQ6ICRzY29wZS5tZW1iZXIudGl0bGUsXG5cdFx0XHQgIG1pc3Npb24gXHQ6IFwi556E5a2Q5omLXCIsXG5cdFx0XHQgIG1pc3Npb25zICA6IFtcIueehOWtkOaJi1wiLFwi5Ymv556E5a2Q5omLXCIsXCLlj7jmqZ9cIixcIuW4tumaiuWumFwiLFwi5a6J5YWo566h5Yi25ZOhXCIsXCLoga/ntaHlrphcIl1cblx0XHR9KTtcblx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHQkc3RhdGUucmVsb2FkKCk7XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnTWVtYmVyU3ZjJywgWyckaHR0cCcsZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzJylcblx0fVxuXG5cdHRoaXMuZmluZEJ5QnJhbmNoID0gZnVuY3Rpb24oIGJyYW5jaCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVtYmVycy8nICsgYnJhbmNoIClcblx0fVxuXG5cdHRoaXMuZmV0Y2hPbkR1dHkgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVtYmVycy9vbkR1dHk/YnJhbmNoPScgKyBicmFuY2gpO1xuXHR9XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyKVxuXHR9XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy8nLCBtZW1iZXIuaWQpXG5cdH1cblxuXHR0aGlzLnVwZGF0ZUJ5TWVtYmVySWQgPSBmdW5jdGlvbih1cGRhdGVNZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy9maW5kQnlJZC8nICsgdXBkYXRlTWVtYmVyLm1lbWJlcklkICwgdXBkYXRlTWVtYmVyKVxuXHR9XG5cblx0dGhpcy51cGRhdGVJc0NoZWNrZWQgPSBmdW5jdGlvbihtZW1iZXJEYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnM/aWQ9JyArIG1lbWJlckRhdGEubWVtYmVySWQsIG1lbWJlckRhdGEpXG5cdH1cblxuXHR0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9tZW1iZXJzLycgKyBtZW1iZXIuaWQpXG5cdH1cblxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTmF2Q3RybCcsIFsnJHNjb3BlJywgJ0JyYW5jaFN2YycsICdzdG9yZScsICdqd3RIZWxwZXInLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIEJyYW5jaFN2Yywgc3RvcmUsIGp3dEhlbHBlciwgVXNlclN2Yykge1xuXG5cdCRzY29wZS51c2VybmFtZSA9IFVzZXJTdmMuY3VycmVudFVzZXIoKTtcblx0JHNjb3BlLmJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXG5cdEJyYW5jaFN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaGVzKXtcblx0XHQkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0fSk7XG5cblx0JHNjb3BlLmlzVmFsaWQgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiBVc2VyU3ZjLmlzVmFsaWQoYnJhbmNoKTtcblx0fTtcblx0XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29uZmlnKFsgJyRzdGF0ZVByb3ZpZGVyJywnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgXG4gICAgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXJcbiAgICAgICAgLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAuc3RhdGUoJ2Fub24nLHtcbiAgICAgICAgICAgIHVybCA6IFwiXCIsXG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnYW5vbi5sb2dpbicse1xuICAgICAgICAgICAgdXJsIDogXCIvbG9naW5cIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDpcInZpZXdzL2xvZ2luLmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkxvZ2luQ3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2Fub24uNDA0Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi80MDRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy80MDQuaHRtbFwiXG4gICAgICAgIH0pXG5cbiAgICAvLyBkdXR5IGRlc2sgXG5cdCRzdGF0ZVByb3ZpZGVyXG5cdFx0LnN0YXRlKCdkdXR5RGVzaycsIHtcbiAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgdXJsOiBcIi9kdXR5RGVza1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvY29tbW9uL2NvbnRlbnQuaHRtbFwiLFxuICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1wiYWRtaW5cIl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kYXNoYm9hcmQnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2Rhc2hib2FyZFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZGFzaGJvYXJkLmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkRhc2hib2FyZEN0cmxcIixcbiAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRMb2dpbiA6IHRydWUsXG4gICAgICAgICAgICAgICAgcm9sZSA6IFtcImFkbWluXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FzZScsIHtcbiAgICAgICAgICAgIHVybDogXCIvY2FzZVwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvY2FzZS9jYXNlLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhc2VDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suc2FmZXR5Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9jYXNlLzppZFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3N1bW1hcnkvc3VtbWFyeS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTdW1tYXJ5Q3RybFwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZHV0eWxpc3QnLHtcbiAgICAgICAgICAgIGFic3RyYWN0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlIDogXCI8dWktdmlldz5cIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0LnNob3cnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlsaXN0LzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2R1dHlsaXN0LmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkR1dHlMaXN0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0LmVkaXQnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2R1dHlsaXN0LzpicmFuY2gvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvZHV0eWxpc3QvZHV0eWxpc3QuZWRpdC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEVkaXRDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2subWVtYmVyJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5tZW1iZXIuc2hvdycsIHtcbiAgICAgICAgICAgIHVybDogXCIvbWVtYmVyLzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL21lbWJlci9tZW1iZXIuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWVtYmVyQ3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLm1lbWJlci5lZGl0Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9tZW1iZXIvOmJyYW5jaC9lZGl0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9tZW1iZXIvbWVtYmVyLmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWVtYmVyRWRpdEN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5sb2dpc3RpYycsIHtcbiAgICAgICAgICAgIHVybDogXCIvbG9naXN0aWNcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2xvZ2lzdGljL2xvZ2lzdGljLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkxvZ2lzdGljQ3RybFwiLFxuICAgICAgICB9KTtcbiAgICAvLyBkaXJlY3RvciBcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2RpcmVjdG9yL2RpcmVjdG9yLmNvbnRlbnQuaHRtbFwiLFxuICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1widXNlclwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eScse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCIvc2FmZXR5XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCIgXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5LmluZGV4Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3NhZmV0eS9zYWZldHkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5SW5kZXhDdHJsXCJcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5tYW5hZ2VtZW50Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleC86aWRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zYWZldHkvc2FmZXR5Lm1hbmFnZS5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTYWZldHlNYW5hZ2VDdHJsXCIgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5zdW1tYXJ5Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9zdW1tYXJ5LzppZFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3N1bW1hcnkvc3VtbWFyeS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTdW1tYXJ5Q3RybFwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5tYXAnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL21hcFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL21hcC9tYXAuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWFwSW5kZXhDdHJsXCJcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIi9kdXR5bGlzdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiIFxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3IuZHV0eWxpc3QuaW5kZXgnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2luZGV4XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kaXJlY3Rvci5kdXR5bGlzdC5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEN0cmxcIixcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RFZGl0Q3RybFwiLFxuICAgICAgICB9KVx0XG59XSlcblxuLnJ1bihbICckcm9vdFNjb3BlJywgJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnLCAnc3RvcmUnLCAnand0SGVscGVyJywgJ1VzZXJTdmMnLCAnU29ja2V0U3ZjJyxcbiAgICBmdW5jdGlvbiAoICRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBzdG9yZSwgand0SGVscGVyLCBVc2VyU3ZjLCBTb2NrZXRTdmMpIHtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuXG4gICAgICAgIGlmICh0b1N0YXRlLm5hbWUgPT0gXCJhbm9uLmxvZ2luXCIpIHtcbiAgICAgICAgICAgIHN0b3JlLnJlbW92ZSgnand0Jyk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYgKHRvU3RhdGUuZGF0YSAmJiB0b1N0YXRlLmRhdGEucmVxdWlyZWRMb2dpbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFVc2VyU3ZjLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2Fub24ubG9naW4nKTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvU3RhdGUuZGF0YS5yb2xlLmluZGV4T2Yoand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLnJvbGUpID09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJhbm9uLmxvZ2luXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07IFxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5SW5kZXhDdHJsJywgWyckc2NvcGUnLCAnQ2FzZVN2YycsICdVc2VyU3ZjJywgJ1NvY2tldFN2YycsICckcm9vdFNjb3BlJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FzZVN2YywgVXNlclN2YywgU29ja2V0U3ZjLCAkcm9vdFNjb3BlKSB7XG5cblx0XHRTb2NrZXRTdmMub24oJ25ld0Nhc2UnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdCRzY29wZS5jYXNlcy5wdXNoKF9jYXNlKTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignY2FzZUNsb3NlJyxmdW5jdGlvbihkYXRhKXtcblx0XHRcdGlmICghZGF0YS5pc09uZ29pbmcpIHtcblx0XHRcdFx0JHNjb3BlLmNhc2VzID0gJHNjb3BlLmNhc2VzLmZpbHRlcihmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdFx0cmV0dXJuIF9jYXNlLl9pZCAhPSBkYXRhLmNhc2VJZFxuXHRcdFx0XHR9KVxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdENhc2VTdmMuZmV0Y2hSZWxhdGl2ZUNhc2UoVXNlclN2Yy51c2VyQnJhbmNoKCkpLnN1Y2Nlc3MoZnVuY3Rpb24oY2FzZXMpe1xuXHRcdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pXG5cblx0ICAgICRzY29wZS5hY2Nlc3NMZXZlbCA9IFVzZXJTdmMuYWNjZXNzTGV2ZWwoKTtcblxuXHRcdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TWFuYWdlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywgJyRtb2RhbCcsICdTdFN2YycsICckc3RhdGUnLCAnTWVtYmVyU3ZjJywnJGxvZycsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsICdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRtb2RhbCwgU3RTdmMsICRzdGF0ZSwgTWVtYmVyU3ZjLCAkbG9nLCBVc2VyU3ZjLCBCcmFuY2hTdmMsIFNvY2tldFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXG5cdFx0QnJhbmNoU3ZjLmZldGNoQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihkZXRhaWxzKXtcblx0XHRcdCRzY29wZS5kZXRhaWxzID0gZGV0YWlscztcblx0XHR9KTtcblxuXHRcdFN0U3ZjLmZldGNoKCRzdGF0ZVBhcmFtcy5pZCxicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RzKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cztcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoYW5ndWxhci5lcXVhbHMoYnJhbmNoLHN0LmJyYW5jaCkgJiYgYW5ndWxhci5lcXVhbHMoJHN0YXRlUGFyYW1zLmlkLHN0LmNhc2VJZCkgKSB7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKHN0KTtcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ3VwZGF0ZVN0JywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgbWVtYmVycyA9IGFuZ3VsYXIuY29weShkYXRhLm1lbWJlcnMpO1xuXHRcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZihhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLGRhdGEuaWQpKXtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5hcmVhID0gZGF0YS5hcmVhO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5tZW1iZXJzLnB1c2guYXBwbHkoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMsIG1lbWJlcnMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCdkaXNtaXNzJywgZnVuY3Rpb24oc3Qpe1xuXHRcdFx0dmFyIF9zdElkID0gc3Quc3RJZDtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9ICRzY29wZS5zdHJpa2VUZWFtcy5maWx0ZXIoZnVuY3Rpb24oc3QpIHtcdFx0XHRcdFxuXHRcdFx0XHRyZXR1cm4gc3QuX2lkICE9IF9zdElkO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgIFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9zYWZldHkvc2FmZXR5Lm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdTYWZldHlNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0c3RJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdGlmICggXy5pc0VtcHR5KCRzY29wZS5zdHJpa2VUZWFtcykpIHtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gMFxuXHRcdFx0ICAgIFx0XHR9IGVsc2V7XG5cdFx0XHQgICAgXHRcdFx0cmV0dXJuICRzY29wZS5zdHJpa2VUZWFtc1skc2NvcGUuc3RyaWtlVGVhbXMubGVuZ3RoLTFdLmlkO1xuXHRcdFx0ICAgIFx0XHR9O1xuXHRcdFx0ICAgIFx0fVxuXHRcdFx0ICAgIH1cblx0XHQgICAgfSk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5vcGVuU2V0dGluZ01vZGFsID0gZnVuY3Rpb24oc3RyaWtlVGVhbSwgaWQpe1xuXHQgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHQgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhZmV0eS9zYWZldHkuc2V0dGluZy5tb2RhbC5odG1sJyxcblx0ICAgICAgICAgICAgY29udHJvbGxlcjogJ1NhZmV0eVNldHRpbmdDdHJsJyxcblx0ICAgICAgICAgICAgc2l6ZTogXCJsZ1wiLFxuXHQgICAgICAgICAgICByZXNvbHZlOiB7XG5cdCAgICAgICAgICAgICAgICBzdHJpa2VUZWFtIDogZnVuY3Rpb24oKXtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWtlVGVhbTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHVwZGF0ZWRTdCkge1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaSA9ICRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGlmKGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsdXBkYXRlZFN0LmlkKSl7XG5cdFx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24gPSB1cGRhdGVkU3QucG9zaXRpb247XG5cdFx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0uYXJlYSA9IHVwZGF0ZWRTdC5hcmVhO1xuXHRcdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMucHVzaC5hcHBseSgkc2NvcGUuc3RyaWtlVGVhbXNbaV0ubWVtYmVycywgdXBkYXRlZFN0Lm1lbWJlcnMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG5cdFx0ICAgIH0pO1xuXHQgICAgfTtcblxuXHRcdCRzY29wZS5kaXNtaXNzID0gZnVuY3Rpb24oc3RyaWtlVGVhbSAsIGlkKXtcblx0XHRcdFxuXHQgICAgICAgXHRTdFN2Yy5kaXNtaXNzU3Qoe1xuXHQgICAgICAgXHRcdGlkIDogc3RyaWtlVGVhbS5faWRcblx0ICAgICAgIFx0fSkuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHQgICAgICAgXHRcdGZvciAodmFyIGkgPSBzdHJpa2VUZWFtLm1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBNZW1iZXJTdmMudXBkYXRlSXNDaGVja2VkKHtcblx0XHQgICAgICAgICAgICAgICAgbWVtYmVySWQgIDogc3RyaWtlVGVhbS5tZW1iZXJzW2ldLl9pZCxcblx0XHQgICAgICAgICAgICAgICAgbWlzc2lvblx0ICA6IHN0cmlrZVRlYW0ubWVtYmVyc1tpXS5taXNzaW9uLFxuXHRcdCAgICAgICAgICAgICAgICBpc0NoZWNrZWQgOiBmYWxzZVxuXHRcdCAgICAgICAgICAgIH0pXG5cdFx0ICAgICAgICB9O1x0XG5cdCAgICAgICBcdH0pXG5cblx0ICAgICAgIFx0JHNjb3BlLnN0cmlrZVRlYW1zLnNwbGljZShpZCwxKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICBTb2NrZXRTdmMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdCAgICB9KVxufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eU1vZGFsQ3RybCcsIFsnJHNjb3BlJywnJG1vZGFsSW5zdGFuY2UnLCAnJHN0YXRlUGFyYW1zJywnU3RTdmMnLCAnTWVtYmVyU3ZjJywgJyRzdGF0ZScsICckd2luZG93JywgJ3N0SWQnLCAnVXNlclN2YycsICdCcmFuY2hTdmMnLCdTb2NrZXRTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSwgJHN0YXRlUGFyYW1zLCBTdFN2YywgTWVtYmVyU3ZjLCAkc3RhdGUsICR3aW5kb3csIHN0SWQsIFVzZXJTdmMsICBCcmFuY2hTdmMsIFNvY2tldFN2Yykge1xuXG5cdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpOyBcblx0XHQkc2NvcGUudGl0bGUgPSBicmFuY2ggKyAgKHN0SWQgKyAxICk7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2hCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRldGFpbHMgPSBkZXRhaWxzO1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24oKXtcblx0XHRcdGlmICggJHNjb3BlLmRldGFpbHMpIHtcblx0XHRcdFx0JHNjb3BlLmRldGFpbHMubWVtYmVycyA9ICRzY29wZS5kZXRhaWxzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0cmV0dXJuIG1lbWJlci5pc0NoZWNrZWQgIT0gdHJ1ZTsgIFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRldGFpbHMubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRcdFx0bWVtYmVyLmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsICdzZWNvbmRzJyk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSB7XG5cdFx0XHRwb3NpdGlvbiAgOiBcIuesrOS4gOmdolwiLFxuXHRcdFx0cG9zaXRpb25zIDogW1wi56ys5LiA6Z2iXCIsXCLnrKzkuozpnaJcIixcIuesrOS4iemdolwiLFwi56ys5Zub6Z2iXCJdLFxuXHRcdFx0bWlzc2lvbiAgIDogXCLmkLbmlZHlsI/ntYRcIixcblx0XHRcdG1pc3Npb25zICA6IFtcIuaQtuaVkeWwj+e1hFwiLFwi5pWR5o+05bCP57WEXCIsXCLmkJzmlZHlsI/ntYRcIl0sXG5cdFx0XHRhcmVhIFx0ICA6IFwi56ys5LiA5Y2AXCIsXG5cdFx0XHRhcmVhcyBcdCAgOiBbXCLnrKzkuIDljYBcIixcIuesrOS6jOWNgFwiLFwi56ys5LiJ5Y2AXCIsXCLnrKzlm5vljYBcIixcIuesrOS6lOWNgFwiXVxuXHRcdH07XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdH07XG5cblx0ICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0ICAgIFx0dmFyIG1lbWJlcnMgPSAkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcblx0XHQgICAgXHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzQ2hlY2tlZCA9PT0gdHJ1ZSBcblx0ICAgIFx0XHRcdFx0fSk7XG5cblx0ICAgIFx0aWYgKG1lbWJlcnMubGVuZ3RoID4gLTEpIHtcblxuXHRcdCAgICBcdHZhciBzdHJpa2VUZWFtID0ge1xuXHRcdCAgICAgIFx0XHRpZCBcdFx0ICAgIDogc3RJZCArIDEgfHwgMCAsIFxuXHRcdCAgICAgIFx0XHRjYXNlSWQgICAgICA6ICRzdGF0ZVBhcmFtcy5pZCxcblx0XHQgICAgICBcdFx0YnJhbmNoICAgICAgOiAkc2NvcGUuZGV0YWlscy5uYW1lLFxuXHRcdCAgICAgIFx0XHRkaXJlY3RvciAgICA6ICRzY29wZS5kZXRhaWxzLmRpcmVjdG9yLFxuXHRcdCAgICAgIFx0XHRwb3NpdGlvbiAgICA6ICRzY29wZS5zdHJpa2VUZWFtLnBvc2l0aW9uLFxuXHRcdCAgICAgIFx0XHRwb3NpdGlvbnMgICA6ICRzY29wZS5zdHJpa2VUZWFtLnBvc2l0aW9ucyxcblx0XHQgICAgICBcdFx0bWlzc2lvbiAgICAgOiAkc2NvcGUuc3RyaWtlVGVhbS5taXNzaW9uLFxuXHRcdCAgICAgIFx0XHRtaXNzaW9ucyAgICA6ICRzY29wZS5zdHJpa2VUZWFtLm1pc3Npb25zLCBcblx0XHQgICAgICBcdFx0YXJlYSBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhLFxuXHRcdCAgICAgIFx0XHRhcmVhcyBcdFx0OiAkc2NvcGUuc3RyaWtlVGVhbS5hcmVhcywgXG5cdFx0ICAgICAgXHRcdG1lbWJlcnMgICAgIDogbWVtYmVycyxcblx0XHQgICAgICBcdFx0aXNEaXNtaXNzZWQgOiBmYWxzZSxcblx0XHQgICAgICBcdFx0d29ya2luZ1RpbWUgOiBfLm1pbihtZW1iZXJzLCBmdW5jdGlvbihtZW1iZXIpeyByZXR1cm4gbWVtYmVyLndvcmtpbmdUaW1lOyB9KS53b3JraW5nVGltZSxcblx0XHQgICAgICBcdFx0Y3JlYXRvciBcdDogVXNlclN2Yy5jdXJyZW50VXNlcigpIFx0XG5cdFx0ICAgICAgXHR9O1xuXG5cdCAgICAgIFx0XHRmb3IgKHZhciBpID0gbWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgXHRcdFx0TWVtYmVyU3ZjLnVwZGF0ZUlzQ2hlY2tlZCh7XG5cdCAgICBcdFx0XHRcdG1lbWJlcklkICA6IG1lbWJlcnNbaV0uX2lkLFxuXHQgICAgXHRcdFx0XHRpc0NoZWNrZWQgOiBtZW1iZXJzW2ldLmlzQ2hlY2tlZCxcblx0ICAgIFx0XHRcdFx0bWlzc2lvblx0ICA6IG1lbWJlcnNbaV0ubWlzc2lvblxuXHQgICAgXHRcdFx0fSlcdFx0XG5cdFx0ICAgIFx0fTtcblxuXHRcdCAgICAgIFx0Ly8gU3RTdmMuY3JlYXRlKHN0cmlrZVRlYW0pXG5cdFx0ICAgICAgXHRTb2NrZXRTdmMuZW1pdChcImNyZWF0ZVN0cmlrZVRlYW1cIiwgc3RyaWtlVGVhbSlcblx0XHQgICAgICBcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG5cdCAgICBcdH1lbHNle1xuXHQgICAgXHRcdCR3aW5kb3cuYWxlcnQoXCJ5b3UgbXVzdCBvcmdhbml6ZSBzdHJpa2UgdGVhbVwiKVxuXHQgICAgXHR9O1xuXHRcdH07XG5cdFxufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1NhZmV0eVNldHRpbmdDdHJsJywgWyckc2NvcGUnLCAnc3RyaWtlVGVhbScsICckbW9kYWxJbnN0YW5jZScsICdTdFN2YycsICckc3RhdGUnLCAnTWVtYmVyU3ZjJywgJ0Nhc2VTdmMnLCAnJHN0YXRlUGFyYW1zJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIHN0cmlrZVRlYW0sICRtb2RhbEluc3RhbmNlLCBTdFN2YywgJHN0YXRlLCBNZW1iZXJTdmMsIENhc2VTdmMsICRzdGF0ZVBhcmFtcywgU29ja2V0U3ZjKSB7XG5cdFx0XG5cdFx0dmFyIG1lbWJlcnMgPSBbXTtcblx0XHR2YXIgbWVtYmVyT2JqcyA9W107XG5cdFx0JHNjb3BlLnN0cmlrZVRlYW0gPSBzdHJpa2VUZWFtO1xuXG5cdFx0Q2FzZVN2Yy5mZXRjaERldGFpbHMoJHN0YXRlUGFyYW1zLmlkKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRpc3BhdGNoID0gZGV0YWlscy5icmFuY2hJZHM7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuY2hvb3NlQnJhbmNoID0gZnVuY3Rpb24oaWQpe1xuXHRcdFx0JHNjb3BlLm1lbWJlcnMgPSAkc2NvcGUuZGlzcGF0Y2hbaWRdLm1lbWJlcnNcblx0XHRcdGZvciAodmFyIGkgPSAkc2NvcGUubWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiggJHNjb3BlLm1lbWJlcnNbaV0uaXNDaGVja2VkICl7XG5cdFx0XHRcdFx0JHNjb3BlLm1lbWJlcnMuc3BsaWNlKGksMSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcblx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLmlzQ2hlY2tlZCA9ICFtZW1iZXIuaXNDaGVja2VkO1xuXHRcdFx0bWVtYmVycy5wdXNoKG1lbWJlci5faWQpO1xuXHRcdFx0bWVtYmVyT2Jqcy5wdXNoKG1lbWJlcik7XG5cdFx0fTtcblxuXHRcdCRzY29wZS51bmNoZWNrID0gZnVuY3Rpb24obWVtYmVyLCBpZCl7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0XHRtZW1iZXJzLnNwbGljZShpZCwxKTtcblx0XHRcdG1lbWJlck9ianMuc3BsaWNlKGlkLDEpO1xuXHRcdH1cblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblxuXHRcdFx0U3RTdmMudXBkYXRlU3Qoe1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLFxuXHRcdFx0XHRwb3NpdGlvbiA6IHN0cmlrZVRlYW0ucG9zaXRpb24sXG5cdFx0XHRcdGFyZWEgOiBzdHJpa2VUZWFtLmFyZWEsXG5cdFx0XHRcdG1pc3Npb24gOiBzdHJpa2VUZWFtLm1pc3Npb24sXG5cdFx0XHRcdG1lbWJlcklkcyA6IG1lbWJlcnNcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IG1lbWJlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBNZW1iZXJTdmMudXBkYXRlSXNDaGVja2VkKHtcblx0XHQgICAgICAgICAgICAgICAgbWVtYmVySWQgIDogbWVtYmVyc1tpXS5faWQsXG5cdFx0ICAgICAgICAgICAgICAgIG1pc3Npb25cdCAgOiBtZW1iZXJzW2ldLm1pc3Npb24sIFxuXHRcdCAgICAgICAgICAgICAgICBpc0NoZWNrZWQgOiB0cnVlLFxuXHRcdCAgICAgICAgICAgIH0pXG5cdFx0ICAgICAgICB9O1xuXHRcdFx0fSlcblxuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2Uoe1xuXHRcdFx0XHRpZCA6IHN0cmlrZVRlYW0uX2lkLFxuXHRcdFx0XHRwb3NpdGlvbiA6IHN0cmlrZVRlYW0ucG9zaXRpb24sXG5cdFx0XHRcdGFyZWEgOiBzdHJpa2VUZWFtLmFyZWEsXG5cdFx0XHRcdG1lbWJlcnMgOiBtZW1iZXJPYmpzLFxuXHRcdFx0XHRjYXNlSWQgIDogc3RyaWtlVGVhbS5jYXNlSWQgXG5cdFx0XHR9KTtcblxuXHRcdFx0XG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1NvY2tldFN2YycsWyAnJHJvb3RTY29wZScsICdzdG9yZScsICckcScsICckdGltZW91dCcsXG4gIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBzdG9yZSwgJHEsICR0aW1lb3V0KSB7XG5cbiAgdGhpcy5pbml0ID0gIGZ1bmN0aW9uKHRva2VuKXtcbiAgICB2YXIgYXV0aFRva2VuID0gbnVsbFxuICAgIGlmICh0b2tlbikge1xuICAgICAgYXV0aFRva2VuID0gdG9rZW4gXG4gICAgfSBlbHNlIHtcbiAgICAgIGF1dGhUb2tlbiA9IHN0b3JlLmdldCgnand0JylcbiAgICB9O1xuICAgIHJldHVybiBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAnLHsgcXVlcnkgOiAndG9rZW49JyArIGF1dGhUb2tlbiAsICdmb3JjZU5ldyc6dHJ1ZSB9KTtcbiAgfVxuXG4gIHZhciBzb2NrZXQgPSB0aGlzLmluaXQoKTtcblxuICB0aGlzLm9uID0gIGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkub24oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7ICBcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmVtaXQgPSAgZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXQoKS5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5pbml0KCkucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfSk7IFxuICB9XG4gIFxufV0pIiwiLyoqXG4qIEluTmV3IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnU3RTdmMnLCBbICckaHR0cCcsIGZ1bmN0aW9uICgkaHR0cCkge1xuXHR0aGlzLmZldGNoID0gZnVuY3Rpb24oY2FzZUlkLCBicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXM/Y2FzZUlkPScgKyBjYXNlSWQgKyAnJmJyYW5jaD0nICsgYnJhbmNoKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQnlDYXNlID0gZnVuY3Rpb24oY2FzZUlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zL3RvdGFsP2Nhc2VJZD0nICsgY2FzZUlkKTtcblx0fTtcblxuXHR0aGlzLmRpc21pc3NTdCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvZGlzbWlzcz9pZD0nICsgZGF0YS5pZCk7XG5cdH07XG5cblx0dGhpcy51cGRhdGVTdCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvdXBkYXRlP2lkPScgKyBkYXRhLmlkLCBkYXRhKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVRpbWVSZWNvcmQgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3N0cmlrZVRlYW1zL3RpbWU/aWQ9JyArIGRhdGEuaWQsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oc3RyaWtlVGVhbSl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc3RyaWtlVGVhbXMnLCBzdHJpa2VUZWFtKTtcblx0fTtcblxuXHR0aGlzLmNvdW50ID0gZnVuY3Rpb24oY2FzZUlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0cmlrZVRlYW1zL2NvdW50P2Nhc2VJZD0nICsgY2FzZUlkKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTdW1tYXJ5Q3RybCcsIFsnJHNjb3BlJywgJ1N0U3ZjJywgJyRzdGF0ZVBhcmFtcycsICckaW50ZXJ2YWwnLCAnJHN0YXRlJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIFN0U3ZjLCAkc3RhdGVQYXJhbXMsICRpbnRlcnZhbCwgJHN0YXRlLCBTb2NrZXRTdmMpIHtcblxuXHRcdFNvY2tldFN2Yy5vbigndGltZXJSdW5uaW5nJyxmdW5jdGlvbihzdCl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBzdC5zdElkKSl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnRpbWVyUnVubmluZyA9IHN0LnRpbWVyUnVubmluZztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCdwcm9ncmVzc1VwZGF0ZScsZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCBhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RyaWtlVGVhbXNbaV0uX2lkLCBkYXRhLmlkKSApe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS50aW1lclx0PSBtb21lbnQuZHVyYXRpb24oZGF0YS5taWxsaXMpOyBcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3MgID0gZGF0YS5wcm9ncmVzcztcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ucHJvZ3Jlc3NTdGF0ZSA9ICBkYXRhLnByb2dyZXNzU3RhdGU7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbignbmV3U3QnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHRpZiAoIGFuZ3VsYXIuZXF1YWxzKGNhc2VJZCxzdC5jYXNlSWQpKSB7XG5cdFx0XHRcdHZhciBuZXdTdCA9IGFuZ3VsYXIuY29weShzdCk7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5wdXNoKG5ld1N0KTtcblx0XHRcdH07XG5cdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1cGRhdGVTdCcsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtcblx0XHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblxuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdFN0U3ZjLmZldGNoQnlDYXNlKGNhc2VJZCkuc3VjY2VzcyhmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdHZhciBjYXNlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7IFxuXG5cdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdCRzY29wZS5zdHJpa2VUZWFtcyA9IHN0cmlrZVRlYW1zO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRzdC5saW1pdFRpbWUgPSBtb21lbnQuZHVyYXRpb24oc3Qud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdH0pO1xuXHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHR9KTtcblxuXHRcdCRzY29wZS5wb3NpdGlvbiA9IHtcblx0XHRcdGRlZmF1bHRQb3MgOiBcIuesrOS4gOmdolwiLFxuXHRcdFx0cG9zaXRpb25zIDogW1wi56ys5LiA6Z2iXCIsXCLnrKzkuozpnaJcIixcIuesrOS4iemdolwiLFwi56ys5Zub6Z2iXCJdXG5cdFx0fTtcblxuXHRcdHZhciBpbml0VGFibGUgPSAgZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdCAgXHR2YXIgZGVwbG95QXJyYXkgPSBfLnJhbmdlKDQpLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gXy5yYW5nZSg1KS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICAgIHJldHVybiB7IHRvdGFsTWVtYmVyIDogMCwgc3RUb3RhbCA6IDB9IDtcblx0XHQgICAgICAgIH0pO1xuXHRcdCAgICB9KTtcblxuXHRcdFx0aWYgKCBzdHJpa2VUZWFtcyApe1xuXHRcdFx0XHRmb3IgKHZhciBpID0gc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHR2YXIgdG90YWxNZW1iZXIgPSAwO1xuXHRcdFx0XHRcdHZhciBzdCA9IDA7ICBcblx0XHRcdFx0XHR2YXIgeCA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5wb3NpdGlvbnMsIHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9uKTtcblx0XHRcdFx0XHR2YXIgeSA9IF8uaW5kZXhPZihzdHJpa2VUZWFtc1tpXS5hcmVhcywgc3RyaWtlVGVhbXNbaV0uYXJlYSk7XG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0uc3RUb3RhbCArPSAxO1xuXHRcdFx0XHRcdGRlcGxveUFycmF5W3hdW3ldLnRvdGFsTWVtYmVyICs9IHN0cmlrZVRlYW1zW2ldLm1lbWJlcnMubGVuZ3RoOyAgXG5cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBkZXBsb3lBcnJheVxuXHRcdH07XG5cdFx0XG5cdFx0JHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICBTb2NrZXRTdmMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cdCAgICB9KTtcbn1dKTsiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdUaW1lckN0cmwnLCBbJyRzY29wZScsICdTb2NrZXRTdmMnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgU29ja2V0U3ZjKXtcblxuXHQkc2NvcGUudGltZXJSdW5uaW5nID0gdHJ1ZTtcblxuICAgICRzY29wZS5zdGFydFRpbWVyID0gZnVuY3Rpb24oc3QsIGlkKXtcbiAgICBcdCRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdGFydCcpO1xuICAgIFx0JHNjb3BlLnRpbWVyUnVubmluZyA9IHRydWU7XG4gICAgICAgIFNvY2tldFN2Yy5lbWl0KCd0aW1lcicsIHsgc3RJZCA6IHN0Ll9pZCwgdGltZXJSdW5uaW5nIDogdHJ1ZSB9IClcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0b3BUaW1lciA9IGZ1bmN0aW9uKHN0LGlkKXtcbiAgICBcdCRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1zdG9wJyk7XG4gICAgXHQkc2NvcGUudGltZXJSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIFNvY2tldFN2Yy5lbWl0KCd0aW1lcicsIHsgc3RJZCA6IHN0Ll9pZCwgdGltZXJSdW5uaW5nIDogZmFsc2UgfSApXG4gICAgfTtcblxuICAgICRzY29wZS5yZXN1bWVUaW1lciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0aW1lci1yZXN1bWUnKTtcbiAgICAgICAgJHNjb3BlLnRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH07XG5cdFxufV0pOyIsIi8qKlxuKiAgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdUb3BOYXZDdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywnJHN0YXRlJywgJyRpbnRlcnZhbCcsICdzdG9yZScsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsJyR3aW5kb3cnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sJHN0YXRlLCAkaW50ZXJ2YWwsIHN0b3JlLCBTb2NrZXRTdmMsIFVzZXJTdmMsICR3aW5kb3cpIHtcblxuXHQkc2NvcGUuY3VycmVudFRpbWUgPSAgbW9tZW50KCkuZm9ybWF0KCdNTU0gRG8sIGg6bW06c3MgYScpO1xuXHQkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcblx0XHRtb21lbnQubG9jYWxlKCd6aC10dycpO1xuXHRcdCRzY29wZS5jdXJyZW50VGltZSA9ICBtb21lbnQoKS5mb3JtYXQoJ01NTSBEbywgaDptbTpzcyBhJyk7XG5cdH0sIDEwMDApO1xuXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBhY2NvdW50ID0gVXNlclN2Yy5jdXJyZW50QWNjb3VudCgpO1xuXHRcdFNvY2tldFN2Yy5lbWl0KCdsb2dvdXQnKTtcblx0XHQkc3RhdGUuZ28oJ2Fub24ubG9naW4nKTtcblx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgWyAnJGh0dHAnLCAnc3RvcmUnLCAnand0SGVscGVyJywgZnVuY3Rpb24gKCRodHRwLCBzdG9yZSwgand0SGVscGVyKSB7XG5cblx0dGhpcy5mZXRjaE9ubGluZVVzZXIgPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvdXNlclN0YXRlJyk7XG5cdH07XG5cblx0dGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnKTtcblx0fTtcblxuXHR0aGlzLmxvZ2luID0gZnVuY3Rpb24odXNlcil7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvYXV0aGVudGljYXRlJywgdXNlcik7XG5cdH07XG5cblx0dGhpcy5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gc3RvcmUuZ2V0KCdqd3QnKTtcblx0fTtcblxuXHR0aGlzLmlzVmFsaWQgPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0aWYgKGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2Nlc3NMZXZlbCA+IDEgICB8fCBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYnJhbmNoID09IGJyYW5jaCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTsgXG5cdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdHJldHVybiBmYWxzZSBcblx0fTtcblxuXHR0aGlzLnVzZXJCcmFuY2ggPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYnJhbmNoO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy51c2VyQ29ycHMgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuY29ycHM7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmN1cnJlbnRVc2VyID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLnVzZXJuYW1lO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy5jdXJyZW50QWNjb3VudCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2NvdW50O1xuXHRcdH07IFxuXHR9O1xuXG5cdHRoaXMuYWNjZXNzTGV2ZWwgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYWNjZXNzTGV2ZWw7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmNhc2VJZCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5jYXNlSWQ7XG5cdFx0fTtcblx0fTtcblxufV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==