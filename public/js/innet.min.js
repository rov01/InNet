angular.module("InNet",["ui.router","ui.bootstrap","timer","angular-storage","angular-jwt","leaflet-directive","angular.filter"]),angular.module("InNet").service("BranchSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/branch?corps="+t)},this.fetchByName=function(t){return e.get("/api/branch/name?branch="+t)},this.totalListFindByName=function(t){return e.get("/api/branch/name/total?branch="+t)},this.getDetails=function(t){return e.get("/api/branch/"+t)},this.update=function(t){return e.put("/api/branch/"+t.branch,t)},this.updateDirector=function(t){return e.put("/api/branch?branch="+t.branch,t)}}]),angular.module("InNet").controller("CarEditCtrl",["$scope",function(e){}]),angular.module("InNet").controller("CarIndexCtrl",["$scope",function(e){}]),angular.module("InNet").service("CarSvc",["$http",function(e){this.fetch=function(){return e.get("/api/cars")},this.findByBranch=function(t){return e.get("/api/cars/"+t)},this.update=function(t){return e.put("/api/cars/"+t.id,t)}}]),angular.module("InNet").controller("CaseCtrl",["$scope","$stateParams","$modal","CaseSvc","$log","SocketSvc","UserSvc",function(e,t,n,s,r,i,a){e.maxSize=5,e.bigTotalItems=175,e.bigCurrentPage=1,s.fetch(a.userCorps()).success(function(t){e.cases=t}),i.on("newCase",function(t){e.cases.unshift(t)}),i.on("caseModified",function(t){e.cases[t.caseId-1]=t}),e.choose=function(t){s.findById(e.cases[t]._id).success(function(t){e.caseDetails=t})},e.addNewCase=function(){var t=n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return _.isEmpty(e.cases)?0:e.cases[0].caseId},caseDetails:function(){return{}}}});t.result.then(function(e){console.log(e)},function(){r.info("Modal dismissed at: "+new Date)})},e.editCase=function(t){n.open({templateUrl:"views/case/case.modal.html",controller:"CaseModalCtrl",size:"lg",resolve:{caseId:function(){return t},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("CaseModalCtrl",["$scope","CarSvc","$modalInstance","CaseSvc","$state","caseId","caseDetails","StSvc","$window","BranchSvc","UserSvc",function(e,t,n,s,r,i,a,c,o,u,l){function m(e){var t=[],n=[],s=[];if(e.cars){for(var r=e.cars.length-1;r>=0;r--)t.push(e.cars[r].radioCode),n.push(e.cars[r]._id),s.push(e.cars[r].branch);return{dispatchList:t,carIds:n,branches:s}}return{}}function d(t){for(var n=_.unique(t),s=[],r=0;r<e.branches.length;r++)n.indexOf(e.branches[r].name)>-1&&s.push(e.branches[r]._id);return s}if(_.isEmpty(a))e.isNew=!0,f=[];else{e.isNew=!1;var f=a.cars}u.fetch(l.userCorps()).success(function(t){e.branches=t}),e.caseObj={address:a.address||null,phone:a.phone||null,type:a.type||"火警",types:["火警","救護","災害","檢舉","其他"],carIds:m(a).carIds||[],dispatchList:m(a).dispatchList||[],branches:m(a).branches||[]},e.dispatchList=e.caseObj.dispatchList.join(" "),e.getCars=function(n){t.findByBranch(n.name).success(function(t){for(var n=t.length-1;n>=0;n--)e.caseObj.carIds.indexOf(t[n]._id)>-1&&(t[n].isChecked=!0);e.cars=t})},e.cancel=function(){n.dismiss("cancel")},e.cancelDispatch=function(t){t.isChecked=!1,f.splice(f.indexOf(t),1),e.caseObj.carIds.splice(e.caseObj.dispatchList.indexOf(t._id),1),e.caseObj.dispatchList.splice(e.caseObj.dispatchList.indexOf(t.radioCode),1),e.caseObj.branches.splice(e.caseObj.dispatchList.indexOf(t.branch),1),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.dispatch=function(t){t.isChecked=!0,f.push(t),e.caseObj.carIds.push(t._id),e.caseObj.dispatchList.push(t.radioCode),e.caseObj.branches.push(t.branch),e.dispatchList=e.caseObj.dispatchList.join(" ")},e.closeCase=function(){c.count(a._id).success(function(e){e>0?o.alert("尚有隊員在安全管制"):(s.closeCase({id:a._id,isOngoing:!1}).success(function(e){console.log(e)}),n.dismiss("cancel"),r.reload())})},e.save=function(){s.create({caseId:i+1,address:e.caseObj.address||"測試",officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type||"救護",phone:e.caseObj.phone||"測試",branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0,corps:l.userCorps()}).success(function(e){n.close(e)})},e.update=function(){var t={id:a._id,caseId:i,address:e.caseObj.address,officerReceiver:l.currentUser()||"劉曉曼",type:e.caseObj.type,phone:e.caseObj.phone,branches:_.unique(e.caseObj.branches),branchIds:d(e.caseObj.branches),cars:e.caseObj.carIds,isOngoing:!0};s.update(t),n.dismiss("cancel")}}]),angular.module("InNet").service("CaseSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/cases?corps="+t)},this.fetchAll=function(){return e.get("/api/cases/details")},this.fetchRelativeCase=function(t){return e.get("/api/cases/branch?branch="+t.branch+"&accessLevel="+t.accessLevel+"&corps="+t.corps)},this.fetchDetails=function(t){return e.get("/api/cases/details/"+t)},this.findById=function(t){return e.get("/api/cases/"+t)},this.create=function(t){return e.post("/api/cases",t)},this.update=function(t){return e.put("/api/cases/"+t.id,t)},this["delete"]=function(t){return e.post("/api/cases/"+t)},this.closeCase=function(t){return e.put("/api/cases/close?id="+t.id,t)}}]),angular.module("InNet").controller("DashboardCtrl",["$scope","$location","SocketSvc","UserSvc","BranchSvc",function(e,t,n,s,r){r.fetch(s.userCorps()).success(function(t){e.branches=t}),s.fetchOnlineUser().success(function(t){e.users=t}),n.on("userLogin",function(t){e.users.push(t)}),n.on("userDisconnect",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),n.on("userLogout",function(t){e.users=e.users.filter(function(e){return e.username!=t.username})}),e.$on("$destroy",function(e){n.removeAllListeners()})}]),angular.module("InNet").directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary" href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e,t){e.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}]}}]).directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n.metisMenu()})}}}]).directive("iboxTools",["$timeout",function(e){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(t,n){t.showhide=function(){var t=n.closest("div.ibox"),s=n.find("i:first"),r=t.find("div.ibox-content");r.slideToggle(200),s.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),e(function(){t.resize(),t.find("[id^=map-]").resize()},50)},t.closebox=function(){var e=n.closest("div.ibox");e.remove()}}]}}]).directive("back",["$window",function(e){return{restrict:"A",link:function(t,n,s){n.bind("click",function(){e.history.back()})}}}]),angular.module("InNet").controller("DispatchCtrl",["$scope","$stateParams","$modal","CaseSvc","BranchSvc","CarSvc","UserSvc",function(e,t,n,s,r,i,a){s.fetch(a.userCorps()).success(function(n){e.cases=n,s.findById(e.cases[t.caseId]._id).success(function(t){e.caseDetails=t})}),r.fetch(a.userCorps()).success(function(t){e.branchList=t}),i.fetch().success(function(t){e.carsData=t}),e.addNewCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id="新增案件"},branchList:function(){return e.branchList},carsData:function(){return e.carsData},isNew:function(){return!0},caseDetails:function(){return{}}}})},e.editCase=function(){n.open({templateUrl:"/partials/casePanel/caseAddModal",controller:"CaseAddModalCtrl",size:"lg",resolve:{caseId:function(){return e.id=e.cases[t.caseId].caseId},branchList:function(){return e.branchList},carsData:function(){for(var t=e.carsData.length-1;t>=0;t--)for(var n=e.caseDetails.cars.length-1;n>=0;n--)e.carsData[t].radioCode===e.caseDetails.cars[n].radio_code&&(e.carsData[t].isChecked=!0);return e.carsData},isNew:function(){return!1},caseDetails:function(){return e.caseDetails}}})}}]),angular.module("InNet").controller("DutyListCtrl",["$scope","BranchSvc","$stateParams","SocketSvc","UserSvc","$q",function(e,t,n,s,r,i){function a(e){for(var t=0,n=0;n<e.members.length;n++)e.members[n].onDuty&&(t+=1);return t}if(r.accessLevel()<3)var c=r.userBranch();else var c=n.branch;t.totalListFindByName(c).success(function(t){e.branch=t,e.onDutyTotal=a(e.branch)})}]),angular.module("InNet").controller("DutyListEditCtrl",["$scope","BranchSvc","$stateParams","MemberSvc","$location","$window","UserSvc",function(e,t,n,s,r,i,a){if(a.accessLevel()<2)var c=a.userBranch();else var c=n.branch;t.totalListFindByName(c).success(function(t){e.branch=t,e.onDutyTotal=0}),e.check=function(e){e.onDuty=!e.onDuty},e.save=function(){t.updateDirector({branch:e.branch.name,director:e.branch.director}).success(function(){for(var t=0;t<e.branch.members.length;t++)s.updateByMemberId({name:e.branch.members[t].name,title:e.branch.members[t].title,memberId:e.branch.members[t]._id,onDuty:e.branch.members[t].onDuty,mission:e.branch.members[t].mission})}).then(function(){i.history.back()})}}]),angular.module("InNet").service("GeoSvc",["$q",function(e){this.getGeolocationCoordinates=function(){var t=e.defer();return navigator.geolocation.getCurrentPosition(function(e){t.resolve(e.coords)},function(e){t.resolve(null)}),t.promise}}]),angular.module("InNet").controller("LoginCtrl",["$scope","UserSvc","store","$state","jwtHelper","$http","SocketSvc",function(e,t,n,s,r,i,a){var c=null;e.user={},e.login=function(){t.login(e.user).success(function(e){e.success?(n.set("jwt",e.token),i.defaults.headers.common["x-access-token"]=e.token,c=e.token):console.log("password is not existed!")}).then(function(){a.init(c),a.emit("login")}).then(function(){s.go("admin"==r.decodeToken(c).role?"dutyDesk.dashboard":"director.safety.index")})}}]),angular.module("InNet").controller("MapIndexCtrl",["$scope","leafletData","GeoSvc",function(e,t,n){n.getGeolocationCoordinates().then(function(t){e.nowPos.lat=t.latitude,e.nowPos.lng=t.longitude,e.nowPos.zoom=17}),angular.extend(e,{nowPos:{lat:24.988,lng:121.5752,zoom:17},controls:{draw:{}}}),t.getMap().then(function(t){var n=e.controls.edit.featureGroup;t.on("draw:created",function(e){var t=e.layer;n.addLayer(t),FeatureCollections.push(t.toGeoJSON())})})}]),angular.module("InNet").controller("MemberAccountModalCtrl",["$scope","UserSvc","MemberSvc","member","$modalInstance",function(e,t,n,s,r){e.user=s,e.save=function(){_.isEmpty(e.user)?console.log("please enter your account and password!"):e.user.account?e.user.password?(t.activate(e.user),n.updateUser(s.name),r.close(e.user)):console.log("password can't be blank"):(console.log("account can't be blank!"),e.user.password||console.log("passwod can't be blank!"))},e.cancel=function(){r.dismiss("cancel")}}]),angular.module("InNet").controller("MemberCtrl",["$scope","MemberSvc","$stateParams",function(e,t,n){e.branch=n.branch,t.findByBranch(n.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})}]),angular.module("InNet").controller("MemberEditCtrl",["$scope","MemberSvc","BranchSvc","$stateParams","$window","$modal","$state","UserSvc",function(e,t,n,s,r,i,a,c){e.alerts=[],e.memberDeleted=!1;var o=null,u=function(){t.findByBranch(s.branch).success(function(t){e.members=t,e.members.forEach(function(e){e.workingTime=moment.duration(e.workingTime,"seconds")})})};u(),e.save=function(){for(var t=[],i=[],a=0;a<e.members.length;a++)t.push(e.members[a]._id),i.push(e.members[a].name),("分隊長"==e.members[a].title||"小隊長"==e.members[a].title||"中隊長"==e.members[a].title||"大隊長"==e.members[a].title)&&(director=e.members[a].name);n.update({branch:s.branch,members:t,directors:i,director:director}),r.history.back()},e.addNewMember=function(){var t=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{workingTime:null}}}});t.result.then(function(t){t&&u(),e.alerts.push({type:"success",msg:"人員新增成功！ "+t.name+" 已加入 "+t.branch})})},e.update=function(t){var n=t,r=i.open({templateUrl:"views/member/member.modal.html",controller:"MemberModalCtrl",size:"md",resolve:{branch:function(){return s.branch},member:function(){return{memberId:t._id,id:t.id,name:t.name,title:t.title,branches:t.branches,corps:t.corps,radioCode:t.radioCode,workingTime:60*t.workingTime.minutes()+t.workingTime.seconds()}}}});r.result.then(function(t){u(),e.alerts.push({type:"info",msg:n.name+"修改成功!"})})},e.activateAccount=function(t){var n=e.members.filter(function(e){return e.isUser});if(n.length<3){var s=i.open({templateUrl:"views/member/member.account.html",controller:"MemberAccountModalCtrl",size:"md",resolve:{member:function(){return t}}});s.result.then(function(t){u(),e.alerts.push({type:"info",msg:t.name+" 已開通為使用者"})})}else e.alerts.push({type:"warning",msg:"無法開通"+t.name+" 因為使用者已超過3位，請解除其他人帳號後再開通 "})};var l=function(n){c.removeUser(o.name).success(function(s){t.removeUser(s.username),e.closeAlert(n),u()})},m=function(n){e.memberDeleted=!0,t.deleteMember(o).success(function(){e.memberDeleted=!1}),e.closeAlert(n),u()},d=function(t){e.memberDeleted=!1,e.closeAlert(t)};e.deleteAlert=function(t){e.alerts.push({type:"danger",msg:"是否確定要刪除！"+t.name,execute:m,cancel:d}),o=t},e.deActivateAlert=function(t){var n=e.members.filter(function(e){return e.isUser});1==n.length?e.alerts.push({type:"warning",msg:"每分隊至少要有1個使用者，無法取消"+t.name+"的登入權限"}):(e.alerts.push({type:"danger",msg:"是否確定要解除"+t.name+"登入權限",execute:l,cancel:d}),o=t)},e.closeAlert=function(t){e.alerts.splice(t,1)}}]),angular.module("InNet").controller("MemberModalCtrl",["$scope","branch","MemberSvc","$modalInstance","$state","member","BranchSvc","UserSvc",function(e,t,n,s,r,i,a,c){e.alerts=[],e.isNew=_.isNull(i.workingTime),e.member={id:i.id||"",name:i.name||null,title:"消防隊員",titles:["消防隊員","小隊長","分隊長","中隊長","大隊長","副大隊長"],branch:i.branch||t,workingTime:i.workingTime||1200,radioCode:i.radioCode||null,mission:"瞄子手",missions:["瞄子手","副瞄子手","司機","帶隊官","安全管制員","聯絡官"],corps:c.userCorps(),corpss:["第一救災救護大隊","第三救災救護大隊"]},a.fetch(c.userCorps()).success(function(t){if(e.branches=t,!e.isNew){for(var n=[],s=t.length-1;s>=0;s--)n.push(t[s].name);e.member.branches=n}});var o=function(e){var t=e.split("").slice(-2).join("");return"大隊"==t||"中隊"==t?"北海":e.split("").slice(0,2).join("")};e.save=function(){e.member.name&&(e.member.radioCodePrefix=o(e.member.branch),n.create(e.member).success(function(){e.member.workingTime=moment.duration(parseInt(e.member.workingTime),"seconds")}).then(function(){s.close(e.member)}))},e.update=function(){var t={memberId:i.memberId,id:"",name:e.member.name,corps:e.member.corps,branch:e.member.branch,title:e.member.title,workingTime:e.member.workingTime,radioCode:e.member.radioCode,radioCodePrefix:o(e.member.branch)};e.member.name&&(n.updateByMemberId(t),s.close(t))},e.cancel=function(){s.dismiss("cancel")}}]),angular.module("InNet").service("MemberSvc",["$http",function(e){this.fetch=function(){return e.get("/api/members")},this.findByBranch=function(t){return e.get("/api/members/"+t)},this.fetchOnDuty=function(t){return e.get("/api/members/onDuty?branch="+t)},this.create=function(t){return e.post("/api/members/",t)},this.update=function(t){return e.put("/api/members/",t.id)},this.updateByMemberId=function(t){return e.put("/api/members/findById/"+t.memberId,t)},this.updateIsChecked=function(t){return e.put("/api/members?id="+t.memberId,t)},this.updateUser=function(t){return e.put("/api/members/user?username="+t)},this.removeUser=function(t){return e.put("/api/members/user/remove?username="+t)},this.deleteMember=function(t){return e["delete"]("/api/members/"+t._id)}}]),angular.module("InNet").controller("NavCtrl",["$scope","BranchSvc","store","jwtHelper","UserSvc",function(e,t,n,s,r){e.username=r.currentUser(),e.branch=r.userBranch(),t.fetch(r.userCorps()).success(function(t){e.branches=t}),e.isValid=function(e){return r.isValid(e)}}]),angular.module("InNet").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/login"),e.state("anon",{url:"","abstract":!0,template:"<ui-view>"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.404",{url:"/404",templateUrl:"views/404.html"}),e.state("dutyDesk",{"abstract":!0,url:"/dutyDesk",templateUrl:"views/common/content.html",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl",data:{requiredLogin:!0,role:["admin"]}}).state("dutyDesk.case",{url:"/case",templateUrl:"views/case/case.index.html",controller:"CaseCtrl"}).state("dutyDesk.safety",{url:"/case/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("dutyDesk.dutylist",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.dutylist.show",{url:"/dutylist/:branch",templateUrl:"views/dutylist/dutylist.index.html",controller:"DutyListCtrl"}).state("dutyDesk.dutylist.edit",{url:"/dutylist/:branch/edit",templateUrl:"views/dutylist/dutylist.edit.html",controller:"DutyListEditCtrl"}).state("dutyDesk.member",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.member.show",{url:"/member/:branch",templateUrl:"views/member/member.index.html",controller:"MemberCtrl"}).state("dutyDesk.member.edit",{url:"/member/:branch/edit",templateUrl:"views/member/member.edit.html",controller:"MemberEditCtrl"}).state("dutyDesk.car",{"abstract":!0,template:"<ui-view>"}).state("dutyDesk.car.show",{url:"/car/:branch",templateUrl:"views/cars/car.index.html",controller:"CarIndexCtrl"}).state("dutyDesk.car.edit",{url:"/car/:branch/edit",templateUrl:"views/cars/car.edit.html",controller:"CarEditCtrl"}),e.state("director",{"abstract":!0,url:"",templateUrl:"views/director/director.content.html",data:{requiredLogin:!0,role:["user"]}}).state("director.safety",{"abstract":!0,url:"/safety",template:"<ui-view>"}).state("director.safety.index",{url:"/index",templateUrl:"views/safety/safety.index.html",controller:"SafetyIndexCtrl"}).state("director.safety.management",{url:"/index/:id",templateUrl:"views/safety/safety.manage.html",controller:"SafetyManageCtrl"}).state("director.safety.summary",{url:"/summary/:id",templateUrl:"views/summary/summary.index.html",controller:"SummaryCtrl"}).state("director.map",{url:"/map",templateUrl:"views/map/map.index.html",controller:"MapIndexCtrl"}).state("director.dutylist",{"abstract":!0,url:"/dutylist",template:"<ui-view>"}).state("director.dutylist.index",{url:"/index",templateUrl:"views/dutylist/director.dutylist.index.html",controller:"DutyListCtrl"}).state("director.dutylist.edit",{url:"/edit",templateUrl:"views/dutylist/director.dutylist.edit.html",controller:"DutyListEditCtrl"})}]).run(["$rootScope","$state","$stateParams","store","jwtHelper","UserSvc","SocketSvc",function(e,t,n,s,r,i,a){e.$on("$stateChangeStart",function(e,n,a,c,o){"anon.login"==n.name?s.remove("jwt"):n.data&&n.data.requiredLogin&&(i.isLoggedIn()?-1==n.data.role.indexOf(r.decodeToken(s.get("jwt")).role)&&(e.preventDefault(),t.go("anon.login")):(e.preventDefault(),t.go("anon.login")))}),e.$on("$stateChangeError",function(e){e.preventDefault()})}]),angular.module("InNet").controller("SafetyIndexCtrl",["$scope","CaseSvc","UserSvc","SocketSvc","$rootScope",function(e,t,n,s,r){s.on("newCase",function(t){e.cases.push(t)}),s.on("caseClose",function(t){t.isOngoing||(e.cases=e.cases.filter(function(e){return e._id!=t.caseId}))});var i={branch:n.userBranch(),accessLevel:n.accessLevel(),corps:n.userCorps()};t.fetchRelativeCase(i).success(function(t){e.cases=t}),e.$on("$destroy",function(e){s.removeAllListeners()}),e.accessLevel=n.accessLevel()}]),angular.module("InNet").controller("SafetyManageCtrl",["$scope","$stateParams","$modal","StSvc","$state","MemberSvc","$log","UserSvc","BranchSvc","SocketSvc",function(e,t,n,s,r,i,a,c,o,u){var l=c.userBranch();o.fetchByName(l).success(function(t){e.details=t}),s.fetch(t.id,l).success(function(t){e.strikeTeams=t}),u.on("newSt",function(n){angular.equals(l,n.branch)&&angular.equals(t.id,n.caseId)&&e.strikeTeams.push(n)}),u.on("updateSt",function(t){for(var n=angular.copy(t.members),s=e.strikeTeams.length-1;s>=0;s--)angular.equals(e.strikeTeams[s]._id,t.id)&&(e.strikeTeams[s].position=t.position,e.strikeTeams[s].area=t.area,e.strikeTeams[s].members.push.apply(e.strikeTeams[s].members,n))}),u.on("dismiss",function(t){var n=t.stId;e.strikeTeams=e.strikeTeams.filter(function(e){return e._id!=n})}),e.strikeTeam=function(){n.open({templateUrl:"views/safety/safety.modal.html",controller:"SafetyModalCtrl",size:"md",resolve:{stId:function(){return _.isEmpty(e.strikeTeams)?0:e.strikeTeams[e.strikeTeams.length-1].id}}})},e.openSettingModal=function(t,s){var r=n.open({templateUrl:"views/safety/safety.setting.modal.html",controller:"SafetySettingCtrl",size:"lg",resolve:{strikeTeam:function(){return t}}});r.result.then(function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].position=t.position,e.strikeTeams[n].area=t.area,e.strikeTeams[n].members.push.apply(e.strikeTeams[n].members,t.members))},function(){a.info("Modal dismissed at: "+new Date)})},e.dismiss=function(t,n){s.dismissSt({id:t._id}).success(function(){for(var e=t.members.length-1;e>=0;e--)i.updateIsChecked({memberId:t.members[e]._id,mission:t.members[e].mission,isChecked:!1})}),e.strikeTeams.splice(n,1)},e.$on("$destroy",function(e){u.removeAllListeners()})}]),angular.module("InNet").controller("SafetyModalCtrl",["$scope","$modalInstance","$stateParams","StSvc","MemberSvc","$state","$window","stId","UserSvc","BranchSvc","SocketSvc",function(e,t,n,s,r,i,a,c,o,u,l){var m=o.userBranch();e.title=m+(c+1),u.fetchByName(m).success(function(t){e.details=t}).then(function(){e.details&&(e.details.members=e.details.members.filter(function(e){return 1!=e.isChecked}),e.details.members.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}))}),e.strikeTeam={position:"第一面",positions:["第一面","第二面","第三面","第四面"],mission:"搶救小組",missions:["搶救小組","救援小組","搜救小組"],area:"第一區",areas:["第一區","第二區","第三區","第四區","第五區"]},e.check=function(e){e.isChecked=!e.isChecked},e.cancel=function(){t.dismiss("cancel")},e.save=function(){var s=e.details.members.filter(function(e){return e.isChecked===!0});if(s.length>-1){for(var i={id:c+1||0,caseId:n.id,branch:e.details.name,director:e.details.director,position:e.strikeTeam.position,positions:e.strikeTeam.positions,mission:e.strikeTeam.mission,missions:e.strikeTeam.missions,area:e.strikeTeam.area,areas:e.strikeTeam.areas,members:s,isDismissed:!1,workingTime:_.min(s,function(e){return e.workingTime}).workingTime,creator:o.currentUser()},u=s.length-1;u>=0;u--)r.updateIsChecked({memberId:s[u]._id,isChecked:s[u].isChecked,mission:s[u].mission});l.emit("createStrikeTeam",i),t.close()}else a.alert("you must organize strike team")}}]),angular.module("InNet").controller("SafetySettingCtrl",["$scope","strikeTeam","$modalInstance","StSvc","$state","MemberSvc","CaseSvc","$stateParams","SocketSvc",function(e,t,n,s,r,i,a,c,o){var u=[],l=[];e.strikeTeam=t,a.fetchDetails(c.id).success(function(t){e.dispatch=t.branchIds}),e.chooseBranch=function(t){e.members=e.dispatch[t].members;for(var n=e.members.length-1;n>=0;n--)e.members[n].isChecked&&e.members.splice(n,1)},e.cancel=function(){n.dismiss("cancel")},e.check=function(e){e.isChecked=!e.isChecked,u.push(e._id),l.push(e)},e.uncheck=function(e,t){e.isChecked=!e.isChecked,u.splice(t,1),l.splice(t,1)},e.save=function(){s.updateSt({id:t._id,position:t.position,area:t.area,mission:t.mission,memberIds:u}).success(function(){for(var e=u.length-1;e>=0;e--)i.updateIsChecked({memberId:u[e]._id,mission:u[e].mission,isChecked:!0})}),n.close({id:t._id,position:t.position,area:t.area,members:l,caseId:t.caseId})}}]),angular.module("InNet").service("SocketSvc",["$rootScope","store","$q","$timeout",function(e,t,n,s){this.init=function(e){var n=null;return n=e?e:t.get("jwt"),io.connect("http://localhost:3000",{query:"token="+n,forceNew:!0})};var r=this.init();this.on=function(t,n){this.init().on(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})},this.emit=function(t,n,s){this.init().emit(t,n,function(){var t=arguments;e.$apply(function(){s&&s.apply(r,t)})})},this.removeAllListeners=function(t,n){this.init().removeAllListeners(t,function(){var t=arguments;e.$apply(function(){n.apply(r,t)})})}}]),angular.module("InNet").service("StSvc",["$http",function(e){this.fetch=function(t,n){return e.get("/api/strikeTeams?caseId="+t+"&branch="+n)},this.fetchByCase=function(t){return e.get("/api/strikeTeams/total?caseId="+t)},this.dismissSt=function(t){return e.put("/api/strikeTeams/dismiss?id="+t.id)},this.updateSt=function(t){return e.put("/api/strikeTeams/update?id="+t.id,t)},this.updateTimeRecord=function(t){return e.put("/api/strikeTeams/time?id="+t.id,t)},this.create=function(t){return e.post("/api/strikeTeams",t)},this.count=function(t){return e.get("/api/strikeTeams/count?caseId="+t)}}]),angular.module("InNet").controller("SummaryCtrl",["$scope","StSvc","$stateParams","$interval","$state","SocketSvc",function(e,t,n,s,r,i){i.on("timerRunning",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.stId)&&(e.strikeTeams[n].timerRunning=t.timerRunning)}),i.on("progressUpdate",function(t){for(var n=e.strikeTeams.length-1;n>=0;n--)angular.equals(e.strikeTeams[n]._id,t.id)&&(e.strikeTeams[n].timer=moment.duration(t.millis),e.strikeTeams[n].progress=t.progress,e.strikeTeams[n].progressState=t.progressState)}),i.on("newSt",function(t){if(angular.equals(a,t.caseId)){var n=angular.copy(t);e.strikeTeams.push(n)}e.deploys=c(e.strikeTeams)}),i.on("updateSt",function(n){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)})}),i.on("dismiss",function(n){t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.deploys=c(e.strikeTeams)})});var a=n.id;t.fetchByCase(a).success(function(t){e.strikeTeams=t,e.strikeTeams.forEach(function(e){e.limitTime=moment.duration(e.workingTime,"seconds")}),e.deploys=c(e.strikeTeams)}),e.position={defaultPos:"第一面",positions:["第一面","第二面","第三面","第四面"]};var c=function(e){var t=_.range(4).map(function(){return _.range(5).map(function(){return{totalMember:0,stTotal:0}})});if(e)for(var n=e.length-1;n>=0;n--){var s=_.indexOf(e[n].positions,e[n].position),r=_.indexOf(e[n].areas,e[n].area);t[s][r].stTotal+=1,t[s][r].totalMember+=e[n].members.length}return t};e.$on("$destroy",function(e){i.removeAllListeners()})}]),angular.module("InNet").controller("TimerCtrl",["$scope","SocketSvc",function(e,t){e.timerRunning=!0,e.startTimer=function(n,s){e.$broadcast("timer-start"),e.timerRunning=!0,t.emit("timer",{stId:n._id,timerRunning:!0})},e.stopTimer=function(n,s){e.$broadcast("timer-stop"),e.timerRunning=!1,t.emit("timer",{stId:n._id,timerRunning:!1})},e.resumeTimer=function(){e.$broadcast("timer-resume"),e.timerRunning=!1}}]),angular.module("InNet").controller("TopNavCtrl",["$scope","$location","$state","$interval","store","SocketSvc","UserSvc","$window",function(e,t,n,s,r,i,a,c){e.currentTime=moment().format("MMM Do, h:mm:ss a"),s(function(){moment.locale("zh-tw"),e.currentTime=moment().format("MMM Do, h:mm:ss a")},1e3),e.logout=function(){a.currentAccount();i.emit("logout"),n.go("anon.login")}}]),angular.module("InNet").service("UserSvc",["$http","store","jwtHelper",function(e,t,n){this.fetchOnlineUser=function(){return e.get("/api/users/userState")},this.activate=function(t){return e.post("/api/users",t)},this.removeUser=function(t){return e["delete"]("/api/users/delete?username="+t)},this.login=function(t){return e.post("/api/users/authenticate",t)},this.isLoggedIn=function(){return t.get("jwt")},this.isValid=function(e){return this.isLoggedIn&&(n.decodeToken(t.get("jwt")).accessLevel>1||n.decodeToken(t.get("jwt")).branch==e)?!0:!1},this.userBranch=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).branch:void 0},this.userCorps=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).corps:void 0},this.currentUser=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).username:void 0},this.currentAccount=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).account:void 0},this.accessLevel=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).accessLevel:void 0},this.caseId=function(){return this.isLoggedIn?n.decodeToken(t.get("jwt")).caseId:void 0}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImJyYW5jaC5zdmMuanMiLCJjYXIuZWRpdC5jdHJsLmpzIiwiY2FyLmluZGV4LmN0cmwuanMiLCJjYXJzLnN2Yy5qcyIsImNhc2UuY3RybC5qcyIsImNhc2UubW9kYWwuY3RybC5qcyIsImNhc2Uuc3ZjLmpzIiwiZGFzaGJvYXJkLmN0cmwuanMiLCJkaXJlY3RpdmVzLmpzIiwiZGlzcGF0Y2guY3RybC5qcyIsImR1dHlsaXN0LmN0cmwuanMiLCJkdXR5bGlzdC5lZGl0LmN0cmwuanMiLCJnZW8uc3ZjLmpzIiwibG9naW4uY3RybC5qcyIsIm1hcC5pbmRleC5jdHJsLmpzIiwibWVtYmVyLmFjY291bnQubW9kYWwuY3RybC5qcyIsIm1lbWJlci5jdHJsLmpzIiwibWVtYmVyLmVkaXQuY3RybC5qcyIsIm1lbWJlci5tb2RhbC5jdHJsLmpzIiwibWVtYmVyLnN2Yy5qcyIsIm5hdi5jdHJsLmpzIiwicm91dGVyLmpzIiwic2FmZXR5LmluZGV4LmN0cmwuanMiLCJzYWZldHkubWFuYWdlLmN0cmwuanMiLCJzYWZldHkubW9kYWwuY3RybC5qcyIsInNhZmV0eS5zZXR0aW5nLm1vZGFsLmpzIiwic29ja2V0LnN2Yy5qcyIsInN0LnN2Yy5qcyIsInN1bW1hcnkuY3RybC5qcyIsInRpbWVyLmN0cmwuanMiLCJ0b3BuYXZiYXIuY3RybC5qcyIsInVzZXIuc3ZjLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZmV0Y2giLCJjb3JwcyIsImdldCIsImZldGNoQnlOYW1lIiwiYnJhbmNoIiwidG90YWxMaXN0RmluZEJ5TmFtZSIsImdldERldGFpbHMiLCJpZCIsInVwZGF0ZSIsImRhdGEiLCJwdXQiLCJ1cGRhdGVEaXJlY3RvciIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJmaW5kQnlCcmFuY2giLCIkc3RhdGVQYXJhbXMiLCIkbW9kYWwiLCJDYXNlU3ZjIiwiJGxvZyIsIlNvY2tldFN2YyIsIlVzZXJTdmMiLCJtYXhTaXplIiwiYmlnVG90YWxJdGVtcyIsImJpZ0N1cnJlbnRQYWdlIiwidXNlckNvcnBzIiwic3VjY2VzcyIsImNhc2VzIiwib24iLCJfY2FzZSIsInVuc2hpZnQiLCJjYXNlSWQiLCJjaG9vc2UiLCJmaW5kQnlJZCIsIl9pZCIsImNhc2VEZXRhaWxzIiwiYWRkTmV3Q2FzZSIsIm1vZGFsSW5zdGFuY2UiLCJvcGVuIiwidGVtcGxhdGVVcmwiLCJzaXplIiwicmVzb2x2ZSIsIl8iLCJpc0VtcHR5IiwicmVzdWx0IiwidGhlbiIsIm1zZyIsImNvbnNvbGUiLCJsb2ciLCJpbmZvIiwiRGF0ZSIsImVkaXRDYXNlIiwiQ2FyU3ZjIiwiJG1vZGFsSW5zdGFuY2UiLCIkc3RhdGUiLCJTdFN2YyIsIiR3aW5kb3ciLCJCcmFuY2hTdmMiLCJnZXRDYXJzRGV0YWlsIiwib2JqIiwiZGlzcGF0Y2hMaXN0IiwiY2FySWRzIiwiYnJhbmNoZXMiLCJjYXJzIiwiaSIsImxlbmd0aCIsInB1c2giLCJyYWRpb0NvZGUiLCJnZXRCcmFuY2hJZCIsImJyYW5jaGVzTGlzdCIsInVuaXF1ZSIsImJyYW5jaElkcyIsImluZGV4T2YiLCJuYW1lIiwiaXNOZXciLCJjYXJPYmpzIiwiY2FzZU9iaiIsImFkZHJlc3MiLCJwaG9uZSIsInR5cGUiLCJ0eXBlcyIsImpvaW4iLCJnZXRDYXJzIiwiaXNDaGVja2VkIiwiY2FuY2VsIiwiZGlzbWlzcyIsImNhbmNlbERpc3BhdGNoIiwiY2FyIiwic3BsaWNlIiwiZGlzcGF0Y2giLCJjbG9zZUNhc2UiLCJjb3VudCIsInRvdGFsIiwiYWxlcnQiLCJpc09uZ29pbmciLCJyZWxvYWQiLCJzYXZlIiwiY3JlYXRlIiwib2ZmaWNlclJlY2VpdmVyIiwiY3VycmVudFVzZXIiLCJuZXdDYXNlIiwiY2xvc2UiLCJjb250ZW50IiwiZmV0Y2hBbGwiLCJmZXRjaFJlbGF0aXZlQ2FzZSIsImNvbiIsImFjY2Vzc0xldmVsIiwiZmV0Y2hEZXRhaWxzIiwiY2FzZV9pbmZvIiwicG9zdCIsInVwZGF0ZWRfY2FzZSIsIiRsb2NhdGlvbiIsImZldGNoT25saW5lVXNlciIsInVzZXJzIiwidXNlciIsImRpc2Nvbm5lY3RVc2VyIiwiZmlsdGVyIiwidXNlcm5hbWUiLCJsb2dvdXRVc2VyIiwiJG9uIiwiZXZlbnQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkaXJlY3RpdmUiLCIkdGltZW91dCIsInJlc3RyaWN0IiwidGVtcGxhdGUiLCIkZWxlbWVudCIsIm1pbmltYWxpemUiLCIkIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsImhpZGUiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwicmVtb3ZlQXR0ciIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJtZXRpc01lbnUiLCJzaG93aGlkZSIsImlib3giLCJjbG9zZXN0IiwiaWNvbiIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsInJlc2l6ZSIsImNsb3NlYm94IiwicmVtb3ZlIiwiaUVsZW1lbnQiLCJpQXR0cnMiLCJiaW5kIiwiaGlzdG9yeSIsImJhY2siLCJicmFuY2hMaXN0IiwiY2Fyc0RhdGEiLCJqIiwicmFkaW9fY29kZSIsIiRxIiwidG90YWxDb3VudCIsIm1lbWJlcnMiLCJvbkR1dHkiLCJ1c2VyQnJhbmNoIiwib25EdXR5VG90YWwiLCJNZW1iZXJTdmMiLCJjaGVjayIsIm1lbWJlciIsImRpcmVjdG9yIiwidXBkYXRlQnlNZW1iZXJJZCIsInRpdGxlIiwibWVtYmVySWQiLCJtaXNzaW9uIiwiZ2V0R2VvbG9jYXRpb25Db29yZGluYXRlcyIsImRlZmVycmVkIiwiZGVmZXIiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwiZXJyb3IiLCJwcm9taXNlIiwic3RvcmUiLCJqd3RIZWxwZXIiLCJ0b2tlbiIsImxvZ2luIiwic2V0IiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiaW5pdCIsImVtaXQiLCJnbyIsImRlY29kZVRva2VuIiwicm9sZSIsImxlYWZsZXREYXRhIiwiR2VvU3ZjIiwiY29vcmQiLCJub3dQb3MiLCJsYXQiLCJsYXRpdHVkZSIsImxuZyIsImxvbmdpdHVkZSIsInpvb20iLCJleHRlbmQiLCJjb250cm9scyIsImRyYXciLCJnZXRNYXAiLCJtYXAiLCJkcmF3bkl0ZW1zIiwiZWRpdCIsImZlYXR1cmVHcm91cCIsImUiLCJsYXllciIsImFkZExheWVyIiwiRmVhdHVyZUNvbGxlY3Rpb25zIiwidG9HZW9KU09OIiwiYWNjb3VudCIsInBhc3N3b3JkIiwiYWN0aXZhdGUiLCJ1cGRhdGVVc2VyIiwiZm9yRWFjaCIsIndvcmtpbmdUaW1lIiwibW9tZW50IiwiZHVyYXRpb24iLCJhbGVydHMiLCJtZW1iZXJEZWxldGVkIiwidGVtcERlbE1lbWJlciIsIm1lbWJlckluaXQiLCJtZW1iZXJJZHMiLCJkaXJlY3RvcnMiLCJhZGROZXdNZW1iZXIiLCJvbGRNZW1iZXIiLCJtaW51dGVzIiwic2Vjb25kcyIsImFjdGl2YXRlQWNjb3VudCIsImlzVXNlciIsImRlQWN0aXZhdGVBY2NvdW50IiwiaW5kZXgiLCJyZW1vdmVVc2VyIiwiY2xvc2VBbGVydCIsImRlbGV0ZU1lbWJlciIsImNhbmNlbERlbCIsImRlbGV0ZUFsZXJ0IiwiZXhlY3V0ZSIsImRlQWN0aXZhdGVBbGVydCIsImlzTnVsbCIsInRpdGxlcyIsIm1pc3Npb25zIiwiY29ycHNzIiwiYnJhbmNoQXJyeSIsInJhZGlvQ29kZVByZWZpeCIsInN1ZmZpeCIsInNwbGl0Iiwic2xpY2UiLCJwYXJzZUludCIsInVwZGF0ZU1lbWJlciIsImZldGNoT25EdXR5IiwidXBkYXRlSXNDaGVja2VkIiwibWVtYmVyRGF0YSIsImlzVmFsaWQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInJlcXVpcmVkTG9naW4iLCJydW4iLCIkcm9vdFNjb3BlIiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImlzTG9nZ2VkSW4iLCJwcmV2ZW50RGVmYXVsdCIsInVzZXJDb25kaXRpb24iLCJkZXRhaWxzIiwic3RzIiwic3RyaWtlVGVhbXMiLCJzdCIsImVxdWFscyIsImNvcHkiLCJhcmVhIiwiYXBwbHkiLCJfc3RJZCIsInN0SWQiLCJzdHJpa2VUZWFtIiwib3BlblNldHRpbmdNb2RhbCIsInVwZGF0ZWRTdCIsImRpc21pc3NTdCIsImxpbWl0VGltZSIsInBvc2l0aW9ucyIsImFyZWFzIiwiaXNEaXNtaXNzZWQiLCJtaW4iLCJjcmVhdG9yIiwibWVtYmVyT2JqcyIsImNob29zZUJyYW5jaCIsInVuY2hlY2siLCJ1cGRhdGVTdCIsImF1dGhUb2tlbiIsImlvIiwiY29ubmVjdCIsInF1ZXJ5IiwiZm9yY2VOZXciLCJzb2NrZXQiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImFyZ3MiLCJhcmd1bWVudHMiLCIkYXBwbHkiLCJmZXRjaEJ5Q2FzZSIsInVwZGF0ZVRpbWVSZWNvcmQiLCIkaW50ZXJ2YWwiLCJ0aW1lclJ1bm5pbmciLCJ0aW1lciIsIm1pbGxpcyIsInByb2dyZXNzIiwicHJvZ3Jlc3NTdGF0ZSIsIm5ld1N0IiwiZGVwbG95cyIsImluaXRUYWJsZSIsImRlZmF1bHRQb3MiLCJkZXBsb3lBcnJheSIsInJhbmdlIiwidG90YWxNZW1iZXIiLCJzdFRvdGFsIiwieCIsInkiLCJzdGFydFRpbWVyIiwiJGJyb2FkY2FzdCIsInN0b3BUaW1lciIsInJlc3VtZVRpbWVyIiwiY3VycmVudFRpbWUiLCJmb3JtYXQiLCJsb2NhbGUiLCJsb2dvdXQiLCJjdXJyZW50QWNjb3VudCJdLCJtYXBwaW5ncyI6IkFBS0FBLFFBQUFDLE9BQUEsU0FBQSxZQUFBLGVBQUEsUUFBQSxrQkFBQSxjQUFBLG9CQUFBLG1CQ0FBRCxRQUFBQyxPQUFBLFNBQ0FDLFFBQUEsYUFBQSxRQUFBLFNBQUFDLEdBRUFDLEtBQUFDLE1BQUEsU0FBQUMsR0FDQSxNQUFBSCxHQUFBSSxJQUFBLHFCQUFBRCxJQUdB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QUFVLFlBQUFYLEVBQUFsTCxJQUFBLFFBQUF1RyxZQURBLFFBS0ExRyxLQUFBK0IsT0FBQSxXQUNBLE1BQUEvQixNQUFBbVIsV0FDQTdGLEVBQUFVLFlBQUFYLEVBQUFsTCxJQUFBLFFBQUE0QixPQURBIiwiZmlsZSI6ImlubmV0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBJbk5ldCBNb2QndWkucm91dGUndWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0JywgWyd1aS5yb3V0ZXInLCd1aS5ib290c3RyYXAnLCAndGltZXInLCdhbmd1bGFyLXN0b3JhZ2UnLCAnYW5ndWxhci1qd3QnLCdsZWFmbGV0LWRpcmVjdGl2ZScsICdhbmd1bGFyLmZpbHRlciddKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0JyYW5jaFN2YycsIFsgJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKGNvcnBzKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaD9jb3Jwcz0nICsgY29ycHMpO1xuXHR9O1xuXG5cdHRoaXMuZmV0Y2hCeU5hbWUgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYnJhbmNoL25hbWU/YnJhbmNoPScgKyBicmFuY2gpO1xuXHR9O1xuXG5cdHRoaXMudG90YWxMaXN0RmluZEJ5TmFtZSA9IGZ1bmN0aW9uKGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9icmFuY2gvbmFtZS90b3RhbD9icmFuY2g9JyArIGJyYW5jaClcblx0fVxuXG5cdHRoaXMuZ2V0RGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JyYW5jaC8nICsgaWQpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9icmFuY2gvJyArIGRhdGEuYnJhbmNoICwgZGF0YSk7XG5cdH07XG5cblx0dGhpcy51cGRhdGVEaXJlY3RvciA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYnJhbmNoP2JyYW5jaD0nICsgZGF0YS5icmFuY2gsIGRhdGEpXG5cdH1cblx0XG59XSkiLCIvKipcbionSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXJFZGl0Q3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0NhckluZGV4Q3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ0NhclN2YycsIFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2FycycpXG5cdH1cblxuXHR0aGlzLmZpbmRCeUJyYW5jaCA9IGZ1bmN0aW9uKCBicmFuY2ggKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NhcnMvJyArIGJyYW5jaCApXG5cdH1cblx0XG5cdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXJzLycgKyBkYXRhLmlkICwgZGF0YSlcblx0fVxuXG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdDYXNlQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJG1vZGFsJywnQ2FzZVN2YycsICckbG9nJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSAsICRzdGF0ZVBhcmFtcywgJG1vZGFsLCBDYXNlU3ZjLCAkbG9nLCBTb2NrZXRTdmMsIFVzZXJTdmMpIHtcblxuXHQkc2NvcGUubWF4U2l6ZSA9IDU7XG5cdCRzY29wZS5iaWdUb3RhbEl0ZW1zID0gMTc1O1xuXHQkc2NvcGUuYmlnQ3VycmVudFBhZ2UgPSAxO1xuXG5cdENhc2VTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdH0pO1xuXG5cdFNvY2tldFN2Yy5vbignbmV3Q2FzZScsZnVuY3Rpb24oX2Nhc2Upe1xuXHRcdCRzY29wZS5jYXNlcy51bnNoaWZ0KF9jYXNlKTtcblx0fSk7XG5cblx0U29ja2V0U3ZjLm9uKCdjYXNlTW9kaWZpZWQnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHQkc2NvcGUuY2FzZXNbX2Nhc2UuY2FzZUlkLTFdID0gX2Nhc2U7XG5cdH0pO1xuXG5cdCRzY29wZS5jaG9vc2UgPSBmdW5jdGlvbihpZCl7XG5cdFx0Q2FzZVN2Yy5maW5kQnlJZCgkc2NvcGUuY2FzZXNbaWRdLl9pZCkuc3VjY2VzcyhmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdCRzY29wZS5jYXNlRGV0YWlscyA9IF9jYXNlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5hZGROZXdDYXNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY2FzZS9jYXNlLm1vZGFsLmh0bWwnLFxuXHRcdCAgICBjb250cm9sbGVyOiAnQ2FzZU1vZGFsQ3RybCcsXG5cdFx0ICAgIHNpemU6IFwibGdcIixcblx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHQgICAgXHRjYXNlSWQgOiBmdW5jdGlvbigpe1xuXHRcdFx0ICAgIFx0XHRpZiAoIF8uaXNFbXB0eSgkc2NvcGUuY2FzZXMpKSB7XG5cdFx0XHQgICAgXHRcdFx0cmV0dXJuIDBcblx0XHRcdCAgICBcdFx0fSBlbHNle1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAkc2NvcGUuY2FzZXNbMF0uY2FzZUlkO1xuXHRcdFx0ICAgIFx0XHR9O1xuXHRcdFx0ICAgIH0sXG5cdFx0ICAgIFx0Y2FzZURldGFpbHMgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIHt9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblx0ICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKG1zZykge1xuXHQgICAgICAvLyAkc2NvcGUuY2FzZXMudW5zaGlmdChuZXdDYXNlKTtcblx0ICAgICAgY29uc29sZS5sb2cobXNnKTtcblx0ICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcblx0ICAgIH0pO1xuXHQgfTtcblxuXHQgJHNjb3BlLmVkaXRDYXNlID0gZnVuY3Rpb24oaWQpe1xuXHQgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9jYXNlL2Nhc2UubW9kYWwuaHRtbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gaWRcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2FzZURldGFpbHNcblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcbn1dKVxuIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignQ2FzZU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJ0NhclN2YycsICckbW9kYWxJbnN0YW5jZScsICdDYXNlU3ZjJywnJHN0YXRlJywgJ2Nhc2VJZCcsJ2Nhc2VEZXRhaWxzJywgJ1N0U3ZjJywgJyR3aW5kb3cnLCAnQnJhbmNoU3ZjJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBDYXJTdmMsICRtb2RhbEluc3RhbmNlLCBDYXNlU3ZjLCAkc3RhdGUsIGNhc2VJZCwgY2FzZURldGFpbHMsIFN0U3ZjICwgJHdpbmRvdywgQnJhbmNoU3ZjLCBVc2VyU3ZjKSB7XG5cblx0aWYgKF8uaXNFbXB0eShjYXNlRGV0YWlscykpIHtcblx0XHQkc2NvcGUuaXNOZXcgPSB0cnVlO1xuXHRcdGNhck9ianMgPSBbXTtcblxuXHR9ZWxzZXtcblx0XHQkc2NvcGUuaXNOZXcgPSBmYWxzZTtcblx0XHR2YXIgY2FyT2JqcyA9IGNhc2VEZXRhaWxzLmNhcnM7XG5cdH1cblxuXHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdCAgICAkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0fSk7XG5cblx0ZnVuY3Rpb24gZ2V0Q2Fyc0RldGFpbChvYmope1xuXHRcdHZhciBkaXNwYXRjaExpc3QgPSBbXTtcblx0XHR2YXIgY2FySWRzID0gW107XG5cdFx0dmFyIGJyYW5jaGVzID0gW107XG5cblx0XHRpZiAob2JqLmNhcnMpIHtcblx0XHRcdGZvciAodmFyIGkgPSBvYmouY2Fycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRkaXNwYXRjaExpc3QucHVzaChvYmouY2Fyc1tpXS5yYWRpb0NvZGUpO1xuXHRcdFx0XHRjYXJJZHMucHVzaChvYmouY2Fyc1tpXS5faWQpO1xuXHRcdFx0XHRicmFuY2hlcy5wdXNoKG9iai5jYXJzW2ldLmJyYW5jaCk7IFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiB7ZGlzcGF0Y2hMaXN0IDogZGlzcGF0Y2hMaXN0ICwgY2FySWRzIDogY2FySWRzICwgYnJhbmNoZXMgOiAgYnJhbmNoZXN9XG5cblx0XHR9ZWxzZXtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9O1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldEJyYW5jaElkKGJyYW5jaGVzTGlzdCl7XG5cdFx0dmFyIGJyYW5jaGVzID0gXy51bmlxdWUoYnJhbmNoZXNMaXN0KTtcblx0XHR2YXIgYnJhbmNoSWRzID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChicmFuY2hlcy5pbmRleE9mKCRzY29wZS5icmFuY2hlc1tpXS5uYW1lKSA+IC0xKSB7XG5cdFx0XHRcdGJyYW5jaElkcy5wdXNoKCRzY29wZS5icmFuY2hlc1tpXS5faWQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiAgYnJhbmNoSWRzO1xuXHR9O1xuXG5cdCRzY29wZS5jYXNlT2JqID0ge1xuXHRcdGFkZHJlc3MgOiBjYXNlRGV0YWlscy5hZGRyZXNzIHx8IG51bGwsXG5cdFx0cGhvbmUgOiBjYXNlRGV0YWlscy5waG9uZSB8fCBudWxsLFxuXHQgICAgdHlwZSA6IGNhc2VEZXRhaWxzLnR5cGUgfHwgIFwi54Gr6K2mXCIsIFxuXHQgICAgdHlwZXMgOiBbIFwi54Gr6K2mXCIsIFwi5pWR6K23XCIsIFwi54G95a6zXCIsIFwi5qqi6IiJXCIsXCLlhbbku5ZcIl0gLFxuXHQgICAgY2FySWRzIDogZ2V0Q2Fyc0RldGFpbChjYXNlRGV0YWlscykuY2FySWRzICB8fCBbXSxcblx0ICAgIGRpc3BhdGNoTGlzdCA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmRpc3BhdGNoTGlzdCB8fCAgW10sXG5cdCAgICBicmFuY2hlcyA6IGdldENhcnNEZXRhaWwoY2FzZURldGFpbHMpLmJyYW5jaGVzIHx8ICBbXVxuXHR9O1xuXG5cdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cblx0JHNjb3BlLmdldENhcnMgPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0IENhclN2Yy5maW5kQnlCcmFuY2goYnJhbmNoLm5hbWUpLnN1Y2Nlc3MoZnVuY3Rpb24oY2Fycyl7XG5cdFx0IFx0Zm9yICh2YXIgaSA9IGNhcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHQgXHRcdGlmICgkc2NvcGUuY2FzZU9iai5jYXJJZHMuaW5kZXhPZihjYXJzW2ldLl9pZCkgPiAtMSApIHtcblx0XHQgXHRcdFx0Y2Fyc1tpXS5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHQgXHRcdH07XG5cdFx0IFx0fTtcblx0XHQgXHQkc2NvcGUuY2FycyA9IGNhcnM7XG5cdFx0IH0pO1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbERpc3BhdGNoID0gZnVuY3Rpb24oY2FyKXtcblx0XHRjYXIuaXNDaGVja2VkID0gZmFsc2U7XG5cdFx0Y2FyT2Jqcy5zcGxpY2UoY2FyT2Jqcy5pbmRleE9mKGNhciksMSlcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5faWQpLDEpO1xuXHRcdCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5zcGxpY2UoJHNjb3BlLmNhc2VPYmouZGlzcGF0Y2hMaXN0LmluZGV4T2YoY2FyLnJhZGlvQ29kZSksMSk7XG5cdFx0JHNjb3BlLmNhc2VPYmouYnJhbmNoZXMuc3BsaWNlKCRzY29wZS5jYXNlT2JqLmRpc3BhdGNoTGlzdC5pbmRleE9mKGNhci5icmFuY2gpLDEpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmRpc3BhdGNoID0gZnVuY3Rpb24oIGNhciApe1xuXHRcdGNhci5pc0NoZWNrZWQgPSB0cnVlOyBcblx0XHRjYXJPYmpzLnB1c2goY2FyKTtcblx0XHQkc2NvcGUuY2FzZU9iai5jYXJJZHMucHVzaChjYXIuX2lkKTtcblx0XHQkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3QucHVzaChjYXIucmFkaW9Db2RlKTtcblx0XHQkc2NvcGUuY2FzZU9iai5icmFuY2hlcy5wdXNoKGNhci5icmFuY2gpO1xuXHRcdCRzY29wZS5kaXNwYXRjaExpc3QgPSAkc2NvcGUuY2FzZU9iai5kaXNwYXRjaExpc3Quam9pbihcIiBcIik7XG5cdH07XG5cblx0JHNjb3BlLmNsb3NlQ2FzZSA9IGZ1bmN0aW9uKCl7XG5cdFx0U3RTdmMuY291bnQoY2FzZURldGFpbHMuX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKHRvdGFsKXtcblx0XHRcdGlmICh0b3RhbCA+IDAgKSB7XG5cdFx0XHRcdCR3aW5kb3cuYWxlcnQoXCLlsJrmnInpmorlk6HlnKjlronlhajnrqHliLZcIilcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRDYXNlU3ZjLmNsb3NlQ2FzZSh7XG5cdFx0XHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRcdFx0aXNPbmdvaW5nIDogZmFsc2Vcblx0XHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihtc2cpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG1zZylcblx0XHRcdFx0fSk7XG5cdFx0XHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHRcdFx0XHQkc3RhdGUucmVsb2FkKClcblx0XHRcdH07XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdENhc2VTdmMuY3JlYXRlKHtcblx0XHRcdGNhc2VJZCAgIDogY2FzZUlkICsgMSwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzIHx8IFwi5ris6KmmXCIsXG5cdFx0XHRvZmZpY2VyUmVjZWl2ZXIgOiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgfHwgIFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlIHx8IFwi5pWR6K23XCIsXG5cdFx0XHRwaG9uZSAgICAgOiAkc2NvcGUuY2FzZU9iai5waG9uZSB8fCBcIua4rOipplwiLFxuXHRcdFx0YnJhbmNoZXMgIDogXy51bmlxdWUoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHRcdFx0YnJhbmNoSWRzIDogZ2V0QnJhbmNoSWQoJHNjb3BlLmNhc2VPYmouYnJhbmNoZXMpLFxuXHQgIFx0XHRjYXJzICAgICAgOiAkc2NvcGUuY2FzZU9iai5jYXJJZHMsXG5cdFx0XHRpc09uZ29pbmcgOiB0cnVlLFxuXHRcdFx0Y29ycHMgXHQgIDogVXNlclN2Yy51c2VyQ29ycHMoKVxuXHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24obmV3Q2FzZSl7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZShuZXdDYXNlKVxuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHRcdHZhciBjb250ZW50ID0ge1xuXHRcdFx0aWQgOiBjYXNlRGV0YWlscy5faWQsXG5cdFx0XHRjYXNlSWQgICA6IGNhc2VJZCwgXG5cdFx0XHRhZGRyZXNzICAgOiAkc2NvcGUuY2FzZU9iai5hZGRyZXNzLFxuXHRcdFx0b2ZmaWNlclJlY2VpdmVyIDogVXNlclN2Yy5jdXJyZW50VXNlcigpIHx8IFwi5YqJ5puJ5pu8XCIsXG5cdFx0XHR0eXBlICAgICAgOiAkc2NvcGUuY2FzZU9iai50eXBlLFxuXHRcdFx0cGhvbmUgICAgIDogJHNjb3BlLmNhc2VPYmoucGhvbmUsXG5cdFx0XHRicmFuY2hlcyAgOiBfLnVuaXF1ZSgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdFx0XHRicmFuY2hJZHMgOiBnZXRCcmFuY2hJZCgkc2NvcGUuY2FzZU9iai5icmFuY2hlcyksXG5cdCAgXHRcdGNhcnMgICAgICA6ICRzY29wZS5jYXNlT2JqLmNhcklkcyxcblx0XHRcdGlzT25nb2luZyA6IHRydWUsIFxuXHRcdH07XG5cdFx0XG5cdFx0Q2FzZVN2Yy51cGRhdGUoY29udGVudCk7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnQ2FzZVN2YycsIFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbihjb3Jwcyl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcz9jb3Jwcz0nICsgY29ycHMgKTtcblx0fTtcblxuXHR0aGlzLmZldGNoQWxsID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Nhc2VzL2RldGFpbHMnKTtcblx0fTtcblxuXHR0aGlzLmZldGNoUmVsYXRpdmVDYXNlID0gZnVuY3Rpb24oY29uKXtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Nhc2VzL2JyYW5jaD9icmFuY2g9JyArIGNvbi5icmFuY2ggKyAnJmFjY2Vzc0xldmVsPScgKyBjb24uYWNjZXNzTGV2ZWwgKyAnJmNvcnBzPScgKyBjb24uY29ycHMgKTtcblx0fVxuXG5cdHRoaXMuZmV0Y2hEZXRhaWxzID0gZnVuY3Rpb24oIGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy9kZXRhaWxzLycgKyBjYXNlSWQpO1xuXHR9O1xuXG5cdHRoaXMuZmluZEJ5SWQgPSBmdW5jdGlvbiggY2FzZUlkICl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9jYXNlcy8nICsgY2FzZUlkICk7XG5cdH07XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihjYXNlX2luZm8pe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Nhc2VzJywgY2FzZV9pbmZvKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKHVwZGF0ZWRfY2FzZSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9jYXNlcy8nICsgdXBkYXRlZF9jYXNlLmlkICwgdXBkYXRlZF9jYXNlKTtcblx0fTtcblxuXHR0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGNhc2VJZCl7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY2FzZXMvJyArIGNhc2VJZCk7XG5cdH07XG5cblx0dGhpcy5jbG9zZUNhc2UgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL2Nhc2VzL2Nsb3NlP2lkPScgKyBkYXRhLmlkLCBkYXRhIClcblx0fVxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRGFzaGJvYXJkQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsICdCcmFuY2hTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIFNvY2tldFN2YywgVXNlclN2YywgQnJhbmNoU3ZjKSB7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdFx0XHQkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlcztcblx0XHR9KTtcblxuXHRcdFVzZXJTdmMuZmV0Y2hPbmxpbmVVc2VyKCkuc3VjY2VzcyhmdW5jdGlvbih1c2Vycyl7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSB1c2Vycztcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyTG9naW4nLGZ1bmN0aW9uKHVzZXIpe1xuXHRcdFx0JHNjb3BlLnVzZXJzLnB1c2godXNlcik7XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ3VzZXJEaXNjb25uZWN0JyxmdW5jdGlvbihkaXNjb25uZWN0VXNlcil7XG5cdFx0XHQkc2NvcGUudXNlcnMgPSAkc2NvcGUudXNlcnMuZmlsdGVyKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0cmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gZGlzY29ubmVjdFVzZXIudXNlcm5hbWVcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd1c2VyTG9nb3V0JyxmdW5jdGlvbihsb2dvdXRVc2VyKXtcblx0XHRcdCRzY29wZS51c2VycyA9ICRzY29wZS51c2Vycy5maWx0ZXIoZnVuY3Rpb24odXNlcikge1xuXHRcdFx0XHRyZXR1cm4gdXNlci51c2VybmFtZSAhPSBsb2dvdXRVc2VyLnVzZXJuYW1lXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgU29ja2V0U3ZjLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHQgICAgfSk7XG5cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5cblxuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5kaXJlY3RpdmUoJ21pbmltYWxpemFTaWRlYmFyJywgWyAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcblx0cmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8YSBjbGFzcz1cIm5hdmJhci1taW5pbWFsaXplIG1pbmltYWxpemUtc3R5bC0yIGJ0biBidG4tcHJpbWFyeVwiIGhyZWY9XCJcIiBuZy1jbGljaz1cIm1pbmltYWxpemUoKVwiPjxpIGNsYXNzPVwiZmEgZmEtYmFyc1wiPjwvaT48L2E+JyxcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQpIHtcbiAgICAgICAgICAgICRzY29wZS5taW5pbWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwibWluaS1uYXZiYXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKCEkKCdib2R5JykuaGFzQ2xhc3MoJ21pbmktbmF2YmFyJykgfHwgJCgnYm9keScpLmhhc0NsYXNzKCdib2R5LXNtYWxsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGlkZSBtZW51IGluIG9yZGVyIHRvIHNtb290aGx5IHR1cm4gb24gd2hlbiBtYXhpbWl6ZSBtZW51XG4gICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBzbW9vdGhseSB0dXJuIG9uIG1lbnVcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuZmFkZUluKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdmaXhlZC1zaWRlYmFyJykpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjc2lkZS1tZW51JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzaWRlLW1lbnUnKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBpbmxpbmUgc3R5bGUgZnJvbSBqcXVlcnkgZmFkZUluIGZ1bmN0aW9uIHRvIHJlc2V0IG1lbnUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NpZGUtbWVudScpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufV0pXG5cbi5kaXJlY3RpdmUoJ3NpZGVOYXZpZ2F0aW9uJywgWyAnJHRpbWVvdXQnLCBmdW5jdGlvbiggJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgbWV0c2lNZW51IHBsdWdpbiBhbmQgcGx1ZyBpdCB0byBzaWRlYmFyIG5hdmlnYXRpb25cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5tZXRpc01lbnUoKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2lib3hUb29scycsIFsgJyR0aW1lb3V0JyxmdW5jdGlvbiAoJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb21tb24vaWJveF90b29scy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGZvciBjb2xsYXBzZSBpYm94XG4gICAgICAgICAgICAkc2NvcGUuc2hvd2hpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlib3ggPSAkZWxlbWVudC5jbG9zZXN0KCdkaXYuaWJveCcpO1xuICAgICAgICAgICAgICAgIHZhciBpY29uID0gJGVsZW1lbnQuZmluZCgnaTpmaXJzdCcpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gaWJveC5maW5kKCdkaXYuaWJveC1jb250ZW50Jyk7XG4gICAgICAgICAgICAgICAgY29udGVudC5zbGlkZVRvZ2dsZSgyMDApO1xuICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBpY29uIGZyb20gdXAgdG8gZG93blxuICAgICAgICAgICAgICAgIGljb24udG9nZ2xlQ2xhc3MoJ2ZhLWNoZXZyb24tdXAnKS50b2dnbGVDbGFzcygnZmEtY2hldnJvbi1kb3duJyk7XG4gICAgICAgICAgICAgICAgaWJveC50b2dnbGVDbGFzcygnJykudG9nZ2xlQ2xhc3MoJ2JvcmRlci1ib3R0b20nKTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlib3gucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGlib3guZmluZCgnW2lkXj1tYXAtXScpLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRnVuY3Rpb24gZm9yIGNsb3NlIGlib3hcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2Vib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpYm94ID0gJGVsZW1lbnQuY2xvc2VzdCgnZGl2Lmlib3gnKTtcbiAgICAgICAgICAgICAgICAgICAgaWJveC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2JhY2snLCBbJyR3aW5kb3cnICwgZnVuY3Rpb24gKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcbiAgICAgICAgICAgIGlFbGVtZW50LmJpbmQoJ2NsaWNrJyxmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfTtcbn1dKVxuIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRGlzcGF0Y2hDdHJsJywgWyckc2NvcGUnLCckc3RhdGVQYXJhbXMnLCckbW9kYWwnLCdDYXNlU3ZjJywnQnJhbmNoU3ZjJywgJ0NhclN2YycsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSAsICRzdGF0ZVBhcmFtcywgJG1vZGFsLCBDYXNlU3ZjLCBCcmFuY2hTdmMsIENhclN2YywgVXNlclN2Yykge1xuXG5cdENhc2VTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0JHNjb3BlLmNhc2VzID0gY2FzZXM7XG5cdFx0Q2FzZVN2Yy5maW5kQnlJZCgkc2NvcGUuY2FzZXNbJHN0YXRlUGFyYW1zLmNhc2VJZF0uX2lkKS5zdWNjZXNzKGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdFx0JHNjb3BlLmNhc2VEZXRhaWxzID0gX2Nhc2Vcblx0XHR9KVxuXHR9KVxuXG5cdEJyYW5jaFN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaGVzKXtcblx0ICAgICRzY29wZS5icmFuY2hMaXN0ID0gYnJhbmNoZXM7XG5cblx0IH0pXG5cblx0Q2FyU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcblx0ICAgICRzY29wZS5jYXJzRGF0YSA9IGRhdGFcblx0fSlcblxuXHQkc2NvcGUuYWRkTmV3Q2FzZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jYXNlUGFuZWwvY2FzZUFkZE1vZGFsJyxcblx0XHQgICAgY29udHJvbGxlcjogJ0Nhc2VBZGRNb2RhbEN0cmwnLFxuXHRcdCAgICBzaXplOiBcImxnXCIsXG5cdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0ICAgIFx0Y2FzZUlkIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuaWQgPSBcIuaWsOWinuahiOS7tlwiXG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRicmFuY2hMaXN0IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuYnJhbmNoTGlzdFxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0Y2Fyc0RhdGEgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5jYXJzRGF0YVxuXHRcdCAgICBcdH0sXG5cdFx0ICAgIFx0aXNOZXcgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuIHRydWVcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiB7fVxuXHRcdCAgICBcdH1cblx0XHQgICAgfVxuXHQgICAgfSk7XG5cdCB9O1xuXG5cdCAkc2NvcGUuZWRpdENhc2UgPSBmdW5jdGlvbigpe1xuXHQgXHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvY2FzZVBhbmVsL2Nhc2VBZGRNb2RhbCcsXG5cdFx0ICAgIGNvbnRyb2xsZXI6ICdDYXNlQWRkTW9kYWxDdHJsJyxcblx0XHQgICAgc2l6ZTogXCJsZ1wiLFxuXHRcdCAgICByZXNvbHZlIDoge1xuXHRcdCAgICBcdGNhc2VJZCA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRyZXR1cm4gJHNjb3BlLmlkID0gJHNjb3BlLmNhc2VzWyRzdGF0ZVBhcmFtcy5jYXNlSWRdLmNhc2VJZCBcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGJyYW5jaExpc3QgOiBmdW5jdGlvbigpe1xuXHRcdCAgICBcdFx0cmV0dXJuICRzY29wZS5icmFuY2hMaXN0XG5cdFx0ICAgIFx0fSxcblx0XHQgICAgXHRjYXJzRGF0YSA6IGZ1bmN0aW9uKCl7XG5cdFx0ICAgIFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLmNhcnNEYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0ICAgIFx0XHRcdGZvciAodmFyIGogPSAkc2NvcGUuY2FzZURldGFpbHMuY2Fycy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuXHRcdCAgICBcdFx0XHRcdGlmICggJHNjb3BlLmNhcnNEYXRhW2ldLnJhZGlvQ29kZSA9PT0gJHNjb3BlLmNhc2VEZXRhaWxzLmNhcnNbal0ucmFkaW9fY29kZSkge1xuXHRcdCAgICBcdFx0XHRcdFx0JHNjb3BlLmNhcnNEYXRhW2ldLmlzQ2hlY2tlZCA9IHRydWUgXG5cdFx0ICAgIFx0XHRcdFx0fTtcblx0XHQgICAgXHRcdFx0fTtcdFx0ICAgIFx0XHRcdFxuXHRcdCAgICBcdFx0fTtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2Fyc0RhdGFcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGlzTmV3IDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiBmYWxzZSBcblx0XHQgICAgXHR9LFxuXHRcdCAgICBcdGNhc2VEZXRhaWxzIDogZnVuY3Rpb24oKXtcblx0XHQgICAgXHRcdHJldHVybiAkc2NvcGUuY2FzZURldGFpbHNcblx0XHQgICAgXHR9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXHQgfTtcblxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignRHV0eUxpc3RDdHJsJywgWyckc2NvcGUnLCAnQnJhbmNoU3ZjJywgJyRzdGF0ZVBhcmFtcycsICdTb2NrZXRTdmMnLCAnVXNlclN2YycsICckcScsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIEJyYW5jaFN2YywgJHN0YXRlUGFyYW1zLCBTb2NrZXRTdmMsIFVzZXJTdmMsICRxKSB7XG5cblx0XHRpZiAoVXNlclN2Yy5hY2Nlc3NMZXZlbCgpIDwgMyApIHtcblx0XHRcdHZhciBicmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblx0XHR9IGVsc2V7XG5cdFx0XHR2YXIgYnJhbmNoID0gJHN0YXRlUGFyYW1zLmJyYW5jaFxuXHRcdH07XG5cblx0XHRCcmFuY2hTdmMudG90YWxMaXN0RmluZEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRcdCRzY29wZS5icmFuY2ggPSBicmFuY2g7XG5cdFx0XHQkc2NvcGUub25EdXR5VG90YWwgPSB0b3RhbENvdW50KCRzY29wZS5icmFuY2gpXG5cdFx0fSk7XG5cblx0XHRmdW5jdGlvbiB0b3RhbENvdW50KG9iail7XG5cdFx0XHR2YXIgdG90YWwgPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAob2JqLm1lbWJlcnNbaV0ub25EdXR5KSB7XG5cdFx0XHRcdFx0dG90YWwgKz0gMTsgXG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIHRvdGFsXG5cdFx0fTtcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ0R1dHlMaXN0RWRpdEN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnJHN0YXRlUGFyYW1zJywnTWVtYmVyU3ZjJywgJyRsb2NhdGlvbicsICckd2luZG93JywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgTWVtYmVyU3ZjLCAkbG9jYXRpb24sICR3aW5kb3csIFVzZXJTdmMpIHtcblxuXHRcdGlmIChVc2VyU3ZjLmFjY2Vzc0xldmVsKCkgPCAyICkge1xuXHRcdFx0dmFyIGJyYW5jaCA9IFVzZXJTdmMudXNlckJyYW5jaCgpO1xuXHRcdH0gZWxzZXtcblx0XHRcdHZhciBicmFuY2ggPSAkc3RhdGVQYXJhbXMuYnJhbmNoXG5cdFx0fTtcblxuXHRcdEJyYW5jaFN2Yy50b3RhbExpc3RGaW5kQnlOYW1lKGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2gpe1xuXHRcdFx0JHNjb3BlLmJyYW5jaCA9IGJyYW5jaDtcblx0XHRcdCRzY29wZS5vbkR1dHlUb3RhbCA9IDA7XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0bWVtYmVyLm9uRHV0eSA9ICFtZW1iZXIub25EdXR5XG5cdFx0fTtcblxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRcdEJyYW5jaFN2Yy51cGRhdGVEaXJlY3Rvcih7XG5cdFx0XHRcdGJyYW5jaCAgIDogJHNjb3BlLmJyYW5jaC5uYW1lLFxuXHRcdFx0XHRkaXJlY3RvciA6ICRzY29wZS5icmFuY2guZGlyZWN0b3Jcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuYnJhbmNoLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRNZW1iZXJTdmMudXBkYXRlQnlNZW1iZXJJZCh7XG5cdFx0XHRcdFx0XHRuYW1lIFx0OiAkc2NvcGUuYnJhbmNoLm1lbWJlcnNbaV0ubmFtZSxcblx0XHRcdFx0XHRcdHRpdGxlICAgOiAkc2NvcGUuYnJhbmNoLm1lbWJlcnNbaV0udGl0bGUsXG5cdFx0XHRcdFx0XHRtZW1iZXJJZCA6ICRzY29wZS5icmFuY2gubWVtYmVyc1tpXS5faWQsXG5cdFx0XHRcdFx0XHRvbkR1dHkgOiAkc2NvcGUuYnJhbmNoLm1lbWJlcnNbaV0ub25EdXR5LFxuXHRcdFx0XHRcdFx0bWlzc2lvbiA6ICAkc2NvcGUuYnJhbmNoLm1lbWJlcnNbaV0ubWlzc2lvblxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0XHQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdHZW9TdmMnLCBbICckcScsIGZ1bmN0aW9uICggJHEgKSB7XG5cblx0dGhpcy5nZXRHZW9sb2NhdGlvbkNvb3JkaW5hdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICAgICAgICBmdW5jdGlvbihwb3NpdGlvbikgeyBkZWZlcnJlZC5yZXNvbHZlKHBvc2l0aW9uLmNvb3Jkcyk7IH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlcnJvcikgeyBkZWZlcnJlZC5yZXNvbHZlKG51bGwpOyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBbJyRzY29wZScsJ1VzZXJTdmMnLCAnc3RvcmUnLCAnJHN0YXRlJywnand0SGVscGVyJywnJGh0dHAnLCAnU29ja2V0U3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2Yywgc3RvcmUsICRzdGF0ZSwgand0SGVscGVyLCAkaHR0cCwgU29ja2V0U3ZjKSB7XG5cblx0dmFyIHRva2VuID0gbnVsbDtcblx0JHNjb3BlLnVzZXIgPSB7fTtcblx0JHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oKXtcblx0XHRVc2VyU3ZjLmxvZ2luKCRzY29wZS51c2VyKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0aWYgKGRhdGEuc3VjY2Vzcykge1xuXHRcdFx0XHRzdG9yZS5zZXQoJ2p3dCcsIGRhdGEudG9rZW4pO1xuXHRcdFx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsneC1hY2Nlc3MtdG9rZW4nXSA9IGRhdGEudG9rZW47XG5cdFx0XHRcdHRva2VuID0gZGF0YS50b2tlbjtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcInBhc3N3b3JkIGlzIG5vdCBleGlzdGVkIVwiKTtcblx0XHRcdH07XG5cdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0U29ja2V0U3ZjLmluaXQodG9rZW4pO1xuXHRcdFx0U29ja2V0U3ZjLmVtaXQoJ2xvZ2luJyk7XG5cdFx0fSlcblx0XHQudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0aWYgKGp3dEhlbHBlci5kZWNvZGVUb2tlbih0b2tlbikucm9sZSA9PSBcImFkbWluXCIpIHtcblx0XHRcdFx0JHN0YXRlLmdvKCdkdXR5RGVzay5kYXNoYm9hcmQnKVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdCRzdGF0ZS5nbygnZGlyZWN0b3Iuc2FmZXR5LmluZGV4Jylcblx0XHRcdH1cblx0XHR9KVxuXHR9O1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWFwSW5kZXhDdHJsJywgWyckc2NvcGUnLCAnbGVhZmxldERhdGEnLCAnR2VvU3ZjJyxcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBsZWFmbGV0RGF0YSwgR2VvU3ZjKSB7XG4gICAgICAgIFxuICAgIEdlb1N2Yy5nZXRHZW9sb2NhdGlvbkNvb3JkaW5hdGVzKCkudGhlbihmdW5jdGlvbihjb29yZCl7XG4gICAgICAgICRzY29wZS5ub3dQb3MubGF0ID0gY29vcmQubGF0aXR1ZGU7XG4gICAgICAgICRzY29wZS5ub3dQb3MubG5nID0gY29vcmQubG9uZ2l0dWRlO1xuICAgICAgICAkc2NvcGUubm93UG9zLnpvb20gPSAxNztcbiAgICB9KVxuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIG5vd1Bvczoge1xuICAgICAgICAgICAgbGF0OiAyNC45ODgsXG4gICAgICAgICAgICBsbmc6IDEyMS41NzUyLFxuICAgICAgICAgICAgem9vbTogMTdcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbHM6IHtcbiAgICAgICAgICAgIGRyYXc6IHt9XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBkcmF3bkl0ZW1zID0gJHNjb3BlLmNvbnRyb2xzLmVkaXQuZmVhdHVyZUdyb3VwO1xuICAgICAgbWFwLm9uKCdkcmF3OmNyZWF0ZWQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbGF5ZXIgPSBlLmxheWVyO1xuICAgICAgICBkcmF3bkl0ZW1zLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgXG4gICAgICAgIEZlYXR1cmVDb2xsZWN0aW9ucy5wdXNoKGxheWVyLnRvR2VvSlNPTigpKVxuICAgICAgICBcbiAgICAgIH0pO1xuICAgIH0pXG5cblx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdNZW1iZXJBY2NvdW50TW9kYWxDdHJsJywgWyckc2NvcGUnLCAnVXNlclN2YycsICdNZW1iZXJTdmMnLCAnbWVtYmVyJywgJyRtb2RhbEluc3RhbmNlJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2YywgTWVtYmVyU3ZjLCBtZW1iZXIsICRtb2RhbEluc3RhbmNlKSB7XG5cblx0JHNjb3BlLnVzZXIgPSBtZW1iZXI7XG5cblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdGlmIChfLmlzRW1wdHkoJHNjb3BlLnVzZXIpKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInBsZWFzZSBlbnRlciB5b3VyIGFjY291bnQgYW5kIHBhc3N3b3JkIVwiKVxuXHRcdH0gZWxzZXtcblx0XHRcdGlmICghJHNjb3BlLnVzZXIuYWNjb3VudCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcImFjY291bnQgY2FuJ3QgYmUgYmxhbmshXCIpXG5cdFx0XHRcdGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInBhc3N3b2QgY2FuJ3QgYmUgYmxhbmshXCIpXG5cdFx0XHRcdH07XG5cdFx0XHR9IGVsc2UgaWYgKCEkc2NvcGUudXNlci5wYXNzd29yZCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcInBhc3N3b3JkIGNhbid0IGJlIGJsYW5rXCIpXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0VXNlclN2Yy5hY3RpdmF0ZSgkc2NvcGUudXNlcik7XG5cdFx0XHRcdE1lbWJlclN2Yy51cGRhdGVVc2VyKG1lbWJlci5uYW1lKTtcblx0XHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UoJHNjb3BlLnVzZXIpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9O1xuXG5cdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuXHRcdCRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuXHR9XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdNZW1iZXJDdHJsJywgWyckc2NvcGUnLCAnTWVtYmVyU3ZjJywgJyRzdGF0ZVBhcmFtcycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIE1lbWJlclN2YywgJHN0YXRlUGFyYW1zKSB7XG5cblx0XHQkc2NvcGUuYnJhbmNoID0gJHN0YXRlUGFyYW1zLmJyYW5jaDtcblxuXHRcdE1lbWJlclN2Yy5maW5kQnlCcmFuY2goJHN0YXRlUGFyYW1zLmJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihtZW1iZXJzKXtcblx0XHRcdCRzY29wZS5tZW1iZXJzID0gbWVtYmVycztcblx0XHRcdCRzY29wZS5tZW1iZXJzLmZvckVhY2goZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0bWVtYmVyLndvcmtpbmdUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignTWVtYmVyRWRpdEN0cmwnLCBbJyRzY29wZScsICdNZW1iZXJTdmMnLCAnQnJhbmNoU3ZjJywgJyRzdGF0ZVBhcmFtcycsICckd2luZG93JywnJG1vZGFsJywgJyRzdGF0ZScsICdVc2VyU3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgTWVtYmVyU3ZjLCBCcmFuY2hTdmMsICRzdGF0ZVBhcmFtcywgJHdpbmRvdywgJG1vZGFsLCAkc3RhdGUsIFVzZXJTdmMpIHtcblxuXHRcdCRzY29wZS5hbGVydHMgPSBbXTtcblx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IGZhbHNlO1xuXHRcdHZhciB0ZW1wRGVsTWVtYmVyID0gbnVsbDtcblx0XHRcblx0XHR2YXIgbWVtYmVySW5pdCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRNZW1iZXJTdmMuZmluZEJ5QnJhbmNoKCRzdGF0ZVBhcmFtcy5icmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24obWVtYmVycyl7XG5cdFx0XHRcdCRzY29wZS5tZW1iZXJzID0gbWVtYmVycztcblx0XHRcdFx0JHNjb3BlLm1lbWJlcnMuZm9yRWFjaChmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0XHRcdG1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihtZW1iZXIud29ya2luZ1RpbWUsJ3NlY29uZHMnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0bWVtYmVySW5pdCgpO1xuXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1lbWJlcklkcyA9IFtdO1xuXHRcdFx0dmFyIGRpcmVjdG9ycyA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUubWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRtZW1iZXJJZHMucHVzaCgkc2NvcGUubWVtYmVyc1tpXS5faWQpO1xuXHRcdFx0XHRkaXJlY3RvcnMucHVzaCgkc2NvcGUubWVtYmVyc1tpXS5uYW1lKTtcblx0XHRcdFx0aWYgKCRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5YiG6ZqK6ZW3XCIgfHwgJHNjb3BlLm1lbWJlcnNbaV0udGl0bGUgPT0gXCLlsI/pmorplbdcIiB8fCAkc2NvcGUubWVtYmVyc1tpXS50aXRsZSA9PSBcIuS4remaiumVt1wiIHx8ICRzY29wZS5tZW1iZXJzW2ldLnRpdGxlID09IFwi5aSn6ZqK6ZW3XCIpIHtcblx0XHRcdFx0XHRkaXJlY3RvciA9ICRzY29wZS5tZW1iZXJzW2ldLm5hbWU7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0XHRCcmFuY2hTdmMudXBkYXRlKHtcblx0XHRcdFx0YnJhbmNoIDogJHN0YXRlUGFyYW1zLmJyYW5jaCxcblx0XHRcdFx0bWVtYmVycyA6IG1lbWJlcklkcyxcblx0XHRcdFx0ZGlyZWN0b3JzIDogZGlyZWN0b3JzLFxuXHRcdFx0XHRkaXJlY3RvciA6IGRpcmVjdG9yXG5cdFx0XHR9KTtcblxuXHRcdFx0ICR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5hZGROZXdNZW1iZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9tZW1iZXIvbWVtYmVyLm1vZGFsLmh0bWwnLFxuXHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJNb2RhbEN0cmwnLFxuXHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdCAgICByZXNvbHZlIDoge1xuXHRcdFx0ICAgIFx0YnJhbmNoIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuICRzdGF0ZVBhcmFtcy5icmFuY2ggXG5cdFx0XHQgICAgXHR9LFxuXHRcdFx0ICAgIFx0bWVtYmVyIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0cmV0dXJuIHsgd29ya2luZ1RpbWUgOiBudWxsIH07XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblxuXHRcdCAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0ICAgIFx0aWYgKG1lbWJlcikge1xuXHRcdCAgICBcdFx0bWVtYmVySW5pdCgpO1xuXHRcdCAgICBcdH1cblx0XHQgICAgXHQkc2NvcGUuYWxlcnRzLnB1c2goeyB0eXBlIDogXCJzdWNjZXNzXCIgLCAgbXNnOiAn5Lq65ZOh5paw5aKe5oiQ5Yqf77yBICcgKyBtZW1iZXIubmFtZSArICcg5bey5Yqg5YWlICcgKyBtZW1iZXIuYnJhbmNofSk7XG5cdFx0ICAgIH0pXG5cdFx0fTtcblxuXHRcdCRzY29wZS51cGRhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0dmFyIG9sZE1lbWJlciA9IG1lbWJlcjtcblx0XHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWVtYmVyL21lbWJlci5tb2RhbC5odG1sJyxcblx0XHRcdCAgICBjb250cm9sbGVyOiAnTWVtYmVyTW9kYWxDdHJsJyxcblx0XHRcdCAgICBzaXplOiBcIm1kXCIsXG5cdFx0XHQgICAgcmVzb2x2ZSA6IHtcblx0XHRcdCAgICBcdGJyYW5jaCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdHJldHVybiAkc3RhdGVQYXJhbXMuYnJhbmNoIFxuXHRcdFx0ICAgIFx0fSxcblx0XHRcdCAgICBcdG1lbWJlciA6IGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgXHRcdHJldHVybiB7XG5cdFx0XHQgICAgXHRcdFx0bWVtYmVySWQgOiBtZW1iZXIuX2lkLFxuXHRcdFx0ICAgIFx0XHRcdGlkIDogbWVtYmVyLmlkLFxuXHRcdFx0ICAgIFx0XHRcdG5hbWUgOiBtZW1iZXIubmFtZSxcblx0XHRcdCAgICBcdFx0XHR0aXRsZSA6IG1lbWJlci50aXRsZSxcblx0XHRcdCAgICBcdFx0XHRicmFuY2hlcyA6IG1lbWJlci5icmFuY2hlcyxcblx0XHRcdCAgICBcdFx0XHRjb3JwcyA6IG1lbWJlci5jb3Jwcyxcblx0XHRcdCAgICBcdFx0XHRyYWRpb0NvZGUgOiBtZW1iZXIucmFkaW9Db2RlLCBcblx0XHRcdCAgICBcdFx0XHR3b3JraW5nVGltZSA6IG1lbWJlci53b3JraW5nVGltZS5taW51dGVzKCkgKiA2MCArIG1lbWJlci53b3JraW5nVGltZS5zZWNvbmRzKClcblx0XHRcdCAgICBcdFx0fVxuXHRcdFx0ICAgIFx0fVxuXHRcdFx0ICAgIH1cblx0XHQgICAgfSk7XG5cblx0XHQgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihtZW1iZXIpe1xuXHRcdCAgICBcdG1lbWJlckluaXQoKTtcblx0XHQgICAgXHQkc2NvcGUuYWxlcnRzLnB1c2goeyB0eXBlIDogXCJpbmZvXCIgLCAgbXNnOiAgb2xkTWVtYmVyLm5hbWUgKyAn5L+u5pS55oiQ5YqfIScgfSk7XG5cdFx0ICAgIH0pO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuYWN0aXZhdGVBY2NvdW50ID0gZnVuY3Rpb24obWVtYmVyKXtcblxuXHRcdFx0dmFyIHVzZXJzID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzVXNlcjtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodXNlcnMubGVuZ3RoIDwgMyApIHtcblx0XHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHRcdCAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL21lbWJlci9tZW1iZXIuYWNjb3VudC5odG1sJyxcblx0XHRcdFx0ICAgIGNvbnRyb2xsZXI6ICdNZW1iZXJBY2NvdW50TW9kYWxDdHJsJyxcblx0XHRcdFx0ICAgIHNpemU6IFwibWRcIixcblx0XHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHRcdCAgICBcdG1lbWJlciA6IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCAgICBcdFx0cmV0dXJuIG1lbWJlclxuXHRcdFx0XHQgICAgXHR9XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRtZW1iZXJJbml0KCk7XG5cdFx0XHRcdFx0JHNjb3BlLmFsZXJ0cy5wdXNoKHsgdHlwZSA6IFwiaW5mb1wiICwgbXNnIDogbWVtYmVyLm5hbWUgKyBcIiDlt7LplovpgJrngrrkvb/nlKjogIVcIiB9KVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IHR5cGUgOiBcIndhcm5pbmdcIiAsIG1zZyA6IFwi54Sh5rOV6ZaL6YCaXCIgKyBtZW1iZXIubmFtZSArIFwiIOWboOeCuuS9v+eUqOiAheW3sui2hemBjjPkvY3vvIzoq4vop6PpmaTlhbbku5bkurrluLPomZ/lvozlho3plovpgJogXCJ9KTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdHZhciBkZUFjdGl2YXRlQWNjb3VudCA9IGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdFVzZXJTdmMucmVtb3ZlVXNlcih0ZW1wRGVsTWVtYmVyLm5hbWUpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcil7XG5cdFx0XHRcdE1lbWJlclN2Yy5yZW1vdmVVc2VyKHVzZXIudXNlcm5hbWUpO1xuXHRcdFx0XHQkc2NvcGUuY2xvc2VBbGVydChpbmRleCk7XG5cdFx0XHRcdG1lbWJlckluaXQoKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHZhciBkZWxldGVNZW1iZXIgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUubWVtYmVyRGVsZXRlZCA9IHRydWU7XG5cdFx0XHRNZW1iZXJTdmMuZGVsZXRlTWVtYmVyKHRlbXBEZWxNZW1iZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlckRlbGV0ZWQgPSBmYWxzZTtcblx0XHRcdH0pO1xuXHRcdFx0JHNjb3BlLmNsb3NlQWxlcnQoaW5kZXgpO1xuXHRcdFx0bWVtYmVySW5pdCgpO1xuXHRcdH07XG5cblx0XHR2YXIgY2FuY2VsRGVsID0gZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0JHNjb3BlLm1lbWJlckRlbGV0ZWQgPSBmYWxzZTtcblx0XHRcdCRzY29wZS5jbG9zZUFsZXJ0KGluZGV4KTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmRlbGV0ZUFsZXJ0ID0gZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IFx0XG5cdFx0XHRcdHR5cGUgOiBcImRhbmdlclwiICwgIFxuXHRcdFx0XHRtc2c6ICfmmK/lkKbnorrlrpropoHliKrpmaTvvIEnICsgbWVtYmVyLm5hbWUsIFxuXHRcdFx0XHRleGVjdXRlIDogZGVsZXRlTWVtYmVyLFxuXHRcdFx0XHRjYW5jZWwgOiAgY2FuY2VsRGVsXG5cdFx0XHR9KTtcblx0XHRcdHRlbXBEZWxNZW1iZXIgPSBtZW1iZXI7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5kZUFjdGl2YXRlQWxlcnQgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdFx0dmFyIHVzZXJzID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzVXNlcjtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKHVzZXJzLmxlbmd0aCA9PSAxICkge1xuXHRcdFx0XHQkc2NvcGUuYWxlcnRzLnB1c2goeyBcblx0XHRcdFx0XHR0eXBlIDogXCJ3YXJuaW5nXCIsICBcblx0XHRcdFx0XHRtc2c6ICfmr4/liIbpmoroh7PlsJHopoHmnIkx5YCL5L2/55So6ICF77yM54Sh5rOV5Y+W5raIJyArIG1lbWJlci5uYW1lICsgXCLnmoTnmbvlhaXmrIrpmZBcIixcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2V7XG5cdFx0XHRcdCRzY29wZS5hbGVydHMucHVzaCh7IFxuXHRcdFx0XHRcdHR5cGUgOiBcImRhbmdlclwiLCAgXG5cdFx0XHRcdFx0bXNnOiAn5piv5ZCm56K65a6a6KaB6Kej6ZmkJyArIG1lbWJlci5uYW1lICsgXCLnmbvlhaXmrIrpmZBcIixcblx0XHRcdFx0XHRleGVjdXRlIDogZGVBY3RpdmF0ZUFjY291bnQsXG5cdFx0XHRcdFx0Y2FuY2VsIDogY2FuY2VsRGVsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0ZW1wRGVsTWVtYmVyID0gbWVtYmVyO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLmNsb3NlQWxlcnQgPSBmdW5jdGlvbihpbmRleCl7XG5cdFx0XHQkc2NvcGUuYWxlcnRzLnNwbGljZShpbmRleCwxKVxuXHRcdH07XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdNZW1iZXJNb2RhbEN0cmwnLCBbJyRzY29wZScsICdicmFuY2gnLCAnTWVtYmVyU3ZjJywgJyRtb2RhbEluc3RhbmNlJywgJyRzdGF0ZScsICdtZW1iZXInLCdCcmFuY2hTdmMnLCAnVXNlclN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsIGJyYW5jaCwgTWVtYmVyU3ZjLCAkbW9kYWxJbnN0YW5jZSwgJHN0YXRlLCBtZW1iZXIsIEJyYW5jaFN2YywgVXNlclN2Yykge1xuXHRcblx0JHNjb3BlLmFsZXJ0cyA9IFtdO1xuXHQkc2NvcGUuaXNOZXcgPSBfLmlzTnVsbChtZW1iZXIud29ya2luZ1RpbWUpO1xuXG5cdCRzY29wZS5tZW1iZXIgPSB7XG5cdFx0aWQgXHRcdCBcdDogbWVtYmVyLmlkIHx8ICBcIlwiLCBcblx0XHRuYW1lIFx0IFx0OiBtZW1iZXIubmFtZSB8fCBudWxsICwgXG5cdFx0dGl0bGUgICAgXHQ6IFwi5raI6Ziy6ZqK5ZOhXCIsXG5cdFx0dGl0bGVzICAgXHQ6IFtcIua2iOmYsumaiuWToVwiLFwi5bCP6ZqK6ZW3XCIsXCLliIbpmorplbdcIixcIuS4remaiumVt1wiLFwi5aSn6ZqK6ZW3XCIsXCLlia/lpKfpmorplbdcIl0sXG5cdFx0YnJhbmNoICAgXHQ6IG1lbWJlci5icmFuY2ggfHwgYnJhbmNoLFxuXHRcdHdvcmtpbmdUaW1lIDogbWVtYmVyLndvcmtpbmdUaW1lIHx8ICAxMjAwLFxuXHRcdHJhZGlvQ29kZSBcdDogbWVtYmVyLnJhZGlvQ29kZSB8fCAgbnVsbCwgXG5cdFx0bWlzc2lvbiAgXHQ6IFwi556E5a2Q5omLXCIsXG5cdFx0bWlzc2lvbnMgXHQ6IFtcIueehOWtkOaJi1wiLFwi5Ymv556E5a2Q5omLXCIsXCLlj7jmqZ9cIixcIuW4tumaiuWumFwiLFwi5a6J5YWo566h5Yi25ZOhXCIsXCLoga/ntaHlrphcIl0sXG5cdFx0Y29ycHNcdCBcdDogVXNlclN2Yy51c2VyQ29ycHMoKSxcblx0XHRjb3Jwc3MgXHQgXHQ6IFtcIuesrOS4gOaVkeeBveaVkeitt+Wkp+mailwiLFwi56ys5LiJ5pWR54G95pWR6K235aSn6ZqKXCJdLFxuXHR9O1xuXG5cdEJyYW5jaFN2Yy5mZXRjaChVc2VyU3ZjLnVzZXJDb3JwcygpKS5zdWNjZXNzKGZ1bmN0aW9uKGJyYW5jaGVzKXtcblx0XHQkc2NvcGUuYnJhbmNoZXMgPSBicmFuY2hlczsgXG5cdFx0aWYgKCEkc2NvcGUuaXNOZXcpIHtcblx0XHRcdHZhciBicmFuY2hBcnJ5ID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gYnJhbmNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0YnJhbmNoQXJyeS5wdXNoKGJyYW5jaGVzW2ldLm5hbWUpO1xuXHRcdFx0fTtcblx0XHRcdCRzY29wZS5tZW1iZXIuYnJhbmNoZXMgPSBicmFuY2hBcnJ5O1xuXHRcdH07IFxuXHR9KTtcblxuXHR2YXIgcmFkaW9Db2RlUHJlZml4ID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHR2YXIgc3VmZml4ID0gIGJyYW5jaC5zcGxpdCgnJykuc2xpY2UoLTIpLmpvaW4oJycpO1xuXHRcdGlmIChzdWZmaXggPT0gXCLlpKfpmopcIiB8fCBzdWZmaXggPT0gXCLkuK3pmopcIikge1xuXHRcdFx0cmV0dXJuIFwi5YyX5rW3XCI7XG5cdFx0fSBlbHNle1xuXHRcdFx0cmV0dXJuIGJyYW5jaC5zcGxpdCgnJykuc2xpY2UoMCwyKS5qb2luKCcnKTtcblx0XHR9O1xuXHR9O1xuXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0XHRpZiAoJHNjb3BlLm1lbWJlci5uYW1lKSB7XG5cdFx0XHQkc2NvcGUubWVtYmVyLnJhZGlvQ29kZVByZWZpeCA9IHJhZGlvQ29kZVByZWZpeCgkc2NvcGUubWVtYmVyLmJyYW5jaCk7XG5cdFx0XHRNZW1iZXJTdmMuY3JlYXRlKCRzY29wZS5tZW1iZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdFx0JHNjb3BlLm1lbWJlci53b3JraW5nVGltZSA9IG1vbWVudC5kdXJhdGlvbihwYXJzZUludCgkc2NvcGUubWVtYmVyLndvcmtpbmdUaW1lKSwnc2Vjb25kcycpO1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUubWVtYmVyKTtcblx0XHRcdH0pXG5cdFx0fSBlbHNle1xuXG5cdFx0fTtcblx0fTtcblxuXHQkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblxuXHRcdHZhciB1cGRhdGVNZW1iZXIgPSB7XG5cdFx0XHQgIG1lbWJlcklkICA6IG1lbWJlci5tZW1iZXJJZCxcblx0XHRcdCAgaWQgXHRcdDogXCJcIixcblx0XHRcdCAgbmFtZSBcdFx0OiAkc2NvcGUubWVtYmVyLm5hbWUsXG5cdFx0XHQgIGNvcnBzIFx0OiAkc2NvcGUubWVtYmVyLmNvcnBzLFxuXHRcdFx0ICBicmFuY2ggXHQ6ICRzY29wZS5tZW1iZXIuYnJhbmNoLFxuXHRcdFx0ICB0aXRsZSBcdDogJHNjb3BlLm1lbWJlci50aXRsZSxcblx0XHRcdCAgd29ya2luZ1RpbWUgOiAkc2NvcGUubWVtYmVyLndvcmtpbmdUaW1lLFxuXHRcdFx0ICByYWRpb0NvZGUgIDogJHNjb3BlLm1lbWJlci5yYWRpb0NvZGUsXG5cdFx0XHQgIHJhZGlvQ29kZVByZWZpeCA6IHJhZGlvQ29kZVByZWZpeCgkc2NvcGUubWVtYmVyLmJyYW5jaClcblx0XHR9XG5cblx0XHRpZiAoJHNjb3BlLm1lbWJlci5uYW1lKSB7XG5cdFx0XHRNZW1iZXJTdmMudXBkYXRlQnlNZW1iZXJJZCh1cGRhdGVNZW1iZXIpO1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UodXBkYXRlTWVtYmVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0XG5cdFx0fTtcblxuXG5cdFx0XG5cdH07XG5cblx0JHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG5cdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdH07XG5cdFxufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnTWVtYmVyU3ZjJywgWyckaHR0cCcsZnVuY3Rpb24gKCRodHRwKSB7XG5cblx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9tZW1iZXJzJylcblx0fVxuXG5cdHRoaXMuZmluZEJ5QnJhbmNoID0gZnVuY3Rpb24oIGJyYW5jaCApe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVtYmVycy8nICsgYnJhbmNoIClcblx0fVxuXG5cdHRoaXMuZmV0Y2hPbkR1dHkgPSBmdW5jdGlvbihicmFuY2gpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVtYmVycy9vbkR1dHk/YnJhbmNoPScgKyBicmFuY2gpO1xuXHR9XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lbWJlcnMvJywgbWVtYmVyKVxuXHR9XG5cblx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbihtZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy8nLCBtZW1iZXIuaWQpXG5cdH1cblxuXHR0aGlzLnVwZGF0ZUJ5TWVtYmVySWQgPSBmdW5jdGlvbih1cGRhdGVNZW1iZXIpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy9maW5kQnlJZC8nICsgdXBkYXRlTWVtYmVyLm1lbWJlcklkICwgdXBkYXRlTWVtYmVyKVxuXHR9XG5cblx0dGhpcy51cGRhdGVJc0NoZWNrZWQgPSBmdW5jdGlvbihtZW1iZXJEYXRhKXtcblx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbWJlcnM/aWQ9JyArIG1lbWJlckRhdGEubWVtYmVySWQsIG1lbWJlckRhdGEpXG5cdH1cblxuXHR0aGlzLnVwZGF0ZVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW1iZXJzL3VzZXI/dXNlcm5hbWU9JysgdXNlcm5hbWUpO1xuXHR9XG5cblx0dGhpcy5yZW1vdmVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvbWVtYmVycy91c2VyL3JlbW92ZT91c2VybmFtZT0nICsgdXNlcm5hbWUpXG5cdH1cblxuXHR0aGlzLmRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9tZW1iZXJzLycgKyBtZW1iZXIuX2lkKVxuXHR9XG5cblx0XG5cbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ05hdkN0cmwnLCBbJyRzY29wZScsICdCcmFuY2hTdmMnLCAnc3RvcmUnLCAnand0SGVscGVyJywgJ1VzZXJTdmMnLFxuXHRmdW5jdGlvbiAoJHNjb3BlLCBCcmFuY2hTdmMsIHN0b3JlLCBqd3RIZWxwZXIsIFVzZXJTdmMpIHtcblxuXHQkc2NvcGUudXNlcm5hbWUgPSBVc2VyU3ZjLmN1cnJlbnRVc2VyKCk7XG5cdCRzY29wZS5icmFuY2ggPSBVc2VyU3ZjLnVzZXJCcmFuY2goKTtcblxuXHRCcmFuY2hTdmMuZmV0Y2goVXNlclN2Yy51c2VyQ29ycHMoKSkuc3VjY2VzcyhmdW5jdGlvbihicmFuY2hlcyl7XG5cdFx0JHNjb3BlLmJyYW5jaGVzID0gYnJhbmNoZXM7XG5cdH0pO1xuXG5cdCRzY29wZS5pc1ZhbGlkID0gZnVuY3Rpb24oYnJhbmNoKXtcblx0XHRyZXR1cm4gVXNlclN2Yy5pc1ZhbGlkKGJyYW5jaCk7XG5cdH07XG5cdFxufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbmZpZyhbICckc3RhdGVQcm92aWRlcicsJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsIFxuICAgIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyXG4gICAgICAgIC5vdGhlcndpc2UoJy9sb2dpbicpO1xuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdhbm9uJyx7XG4gICAgICAgICAgICB1cmwgOiBcIlwiLFxuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2Fub24ubG9naW4nLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2xvZ2luXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6XCJ2aWV3cy9sb2dpbi5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJMb2dpbkN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdhbm9uLjQwNCcse1xuICAgICAgICAgICAgdXJsIDogXCIvNDA0XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6IFwidmlld3MvNDA0Lmh0bWxcIlxuICAgICAgICB9KVxuXG4gICAgLy8gZHV0eSBkZXNrIFxuXHQkc3RhdGVQcm92aWRlclxuXHRcdC5zdGF0ZSgnZHV0eURlc2snLCB7XG4gICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHVybDogXCIvZHV0eURlc2tcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2NvbW1vbi9jb250ZW50Lmh0bWxcIixcbiAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRMb2dpbiA6IHRydWUsXG4gICAgICAgICAgICAgICAgcm9sZSA6IFtcImFkbWluXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suZGFzaGJvYXJkJywge1xuICAgICAgICAgICAgdXJsOiBcIi9kYXNoYm9hcmRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2Rhc2hib2FyZC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEYXNoYm9hcmRDdHJsXCIsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTG9naW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJvbGUgOiBbXCJhZG1pblwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhc2UnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL2Nhc2VcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2Nhc2UvY2FzZS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXNlQ3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLnNhZmV0eScse1xuICAgICAgICAgICAgdXJsIDogXCIvY2FzZS86aWRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zdW1tYXJ5L3N1bW1hcnkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU3VtbWFyeUN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmR1dHlsaXN0Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCJcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kdXR5bGlzdC5zaG93Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9kdXR5bGlzdC86YnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kdXR5bGlzdC5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5kdXR5bGlzdC5lZGl0Jywge1xuICAgICAgICAgICAgdXJsOiBcIi9kdXR5bGlzdC86YnJhbmNoL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2R1dHlsaXN0LmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RFZGl0Q3RybFwiLFxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLm1lbWJlcicse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2subWVtYmVyLnNob3cnLCB7XG4gICAgICAgICAgICB1cmw6IFwiL21lbWJlci86YnJhbmNoXCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9tZW1iZXIvbWVtYmVyLmluZGV4Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIk1lbWJlckN0cmxcIixcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkdXR5RGVzay5tZW1iZXIuZWRpdCcsIHtcbiAgICAgICAgICAgIHVybDogXCIvbWVtYmVyLzpicmFuY2gvZWRpdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmlld3MvbWVtYmVyL21lbWJlci5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIk1lbWJlckVkaXRDdHJsXCIsXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FyJywge1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZHV0eURlc2suY2FyLnNob3cnLHtcbiAgICAgICAgICAgIHVybDogXCIvY2FyLzpicmFuY2hcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXJzL2Nhci5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJDYXJJbmRleEN0cmxcIlxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2R1dHlEZXNrLmNhci5lZGl0Jyx7XG4gICAgICAgICAgICB1cmw6IFwiL2Nhci86YnJhbmNoL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9jYXJzL2Nhci5lZGl0Lmh0bWxcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiBcIkNhckVkaXRDdHJsXCJcbiAgICAgICAgfSlcbiAgICAvLyBkaXJlY3RvciBcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yJyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL2RpcmVjdG9yL2RpcmVjdG9yLmNvbnRlbnQuaHRtbFwiLFxuICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExvZ2luIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlIDogW1widXNlclwiXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eScse1xuICAgICAgICAgICAgYWJzdHJhY3QgOiB0cnVlLFxuICAgICAgICAgICAgdXJsIDogXCIvc2FmZXR5XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZSA6IFwiPHVpLXZpZXc+XCIgXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3Iuc2FmZXR5LmluZGV4Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3NhZmV0eS9zYWZldHkuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiU2FmZXR5SW5kZXhDdHJsXCJcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5tYW5hZ2VtZW50Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9pbmRleC86aWRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogXCJ2aWV3cy9zYWZldHkvc2FmZXR5Lm1hbmFnZS5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTYWZldHlNYW5hZ2VDdHJsXCIgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLnNhZmV0eS5zdW1tYXJ5Jyx7XG4gICAgICAgICAgICB1cmwgOiBcIi9zdW1tYXJ5LzppZFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL3N1bW1hcnkvc3VtbWFyeS5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJTdW1tYXJ5Q3RybFwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdkaXJlY3Rvci5tYXAnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL21hcFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiBcInZpZXdzL21hcC9tYXAuaW5kZXguaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiTWFwSW5kZXhDdHJsXCJcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0Jyx7XG4gICAgICAgICAgICBhYnN0cmFjdCA6IHRydWUsXG4gICAgICAgICAgICB1cmwgOiBcIi9kdXR5bGlzdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGUgOiBcIjx1aS12aWV3PlwiIFxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnZGlyZWN0b3IuZHV0eWxpc3QuaW5kZXgnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2luZGV4XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ2aWV3cy9kdXR5bGlzdC9kaXJlY3Rvci5kdXR5bGlzdC5pbmRleC5odG1sXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyIDogXCJEdXR5TGlzdEN0cmxcIixcbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQnLHtcbiAgICAgICAgICAgIHVybCA6IFwiL2VkaXRcIixcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInZpZXdzL2R1dHlsaXN0L2RpcmVjdG9yLmR1dHlsaXN0LmVkaXQuaHRtbFwiLFxuICAgICAgICAgICAgY29udHJvbGxlciA6IFwiRHV0eUxpc3RFZGl0Q3RybFwiLFxuICAgICAgICB9KVx0XG59XSlcblxuLnJ1bihbICckcm9vdFNjb3BlJywgJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnLCAnc3RvcmUnLCAnand0SGVscGVyJywgJ1VzZXJTdmMnLCAnU29ja2V0U3ZjJyxcbiAgICBmdW5jdGlvbiAoICRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBzdG9yZSwgand0SGVscGVyLCBVc2VyU3ZjLCBTb2NrZXRTdmMpIHtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuXG4gICAgICAgIGlmICh0b1N0YXRlLm5hbWUgPT0gXCJhbm9uLmxvZ2luXCIpIHtcbiAgICAgICAgICAgIHN0b3JlLnJlbW92ZSgnand0Jyk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYgKHRvU3RhdGUuZGF0YSAmJiB0b1N0YXRlLmRhdGEucmVxdWlyZWRMb2dpbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFVc2VyU3ZjLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2Fub24ubG9naW4nKTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvU3RhdGUuZGF0YS5yb2xlLmluZGV4T2Yoand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLnJvbGUpID09IC0xICkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJhbm9uLmxvZ2luXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07IFxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5SW5kZXhDdHJsJywgWyckc2NvcGUnLCAnQ2FzZVN2YycsICdVc2VyU3ZjJywgJ1NvY2tldFN2YycsICckcm9vdFNjb3BlJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgQ2FzZVN2YywgVXNlclN2YywgU29ja2V0U3ZjLCAkcm9vdFNjb3BlKSB7XG5cblx0XHRTb2NrZXRTdmMub24oJ25ld0Nhc2UnLGZ1bmN0aW9uKF9jYXNlKXtcblx0XHRcdCRzY29wZS5jYXNlcy5wdXNoKF9jYXNlKTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbignY2FzZUNsb3NlJyxmdW5jdGlvbihkYXRhKXtcblx0XHRcdGlmICghZGF0YS5pc09uZ29pbmcpIHtcblx0XHRcdFx0JHNjb3BlLmNhc2VzID0gJHNjb3BlLmNhc2VzLmZpbHRlcihmdW5jdGlvbihfY2FzZSl7XG5cdFx0XHRcdFx0cmV0dXJuIF9jYXNlLl9pZCAhPSBkYXRhLmNhc2VJZFxuXHRcdFx0XHR9KVxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdHZhciB1c2VyQ29uZGl0aW9uID0ge1xuXHRcdFx0YnJhbmNoIDogVXNlclN2Yy51c2VyQnJhbmNoKCksXG5cdFx0XHRhY2Nlc3NMZXZlbCA6IFVzZXJTdmMuYWNjZXNzTGV2ZWwoKSxcblx0XHRcdGNvcnBzIDogVXNlclN2Yy51c2VyQ29ycHMoKVxuXHRcdH1cblxuXHRcdENhc2VTdmMuZmV0Y2hSZWxhdGl2ZUNhc2UodXNlckNvbmRpdGlvbikuc3VjY2VzcyhmdW5jdGlvbihjYXNlcyl7XG5cdFx0XHQkc2NvcGUuY2FzZXMgPSBjYXNlcztcblx0XHR9KTtcblxuXHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgU29ja2V0U3ZjLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHQgICAgfSlcblxuXHQgICAgJHNjb3BlLmFjY2Vzc0xldmVsID0gVXNlclN2Yy5hY2Nlc3NMZXZlbCgpO1xuXG5cdFx0XG59XSkiLCIvKipcbiogSW5OZXQgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5jb250cm9sbGVyKCdTYWZldHlNYW5hZ2VDdHJsJywgWyckc2NvcGUnLCckc3RhdGVQYXJhbXMnLCAnJG1vZGFsJywgJ1N0U3ZjJywgJyRzdGF0ZScsICdNZW1iZXJTdmMnLCckbG9nJywgJ1VzZXJTdmMnLCAnQnJhbmNoU3ZjJywgJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgJG1vZGFsLCBTdFN2YywgJHN0YXRlLCBNZW1iZXJTdmMsICRsb2csIFVzZXJTdmMsIEJyYW5jaFN2YywgU29ja2V0U3ZjKSB7XG5cblx0XHR2YXIgYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7XG5cblx0XHRCcmFuY2hTdmMuZmV0Y2hCeU5hbWUoYnJhbmNoKS5zdWNjZXNzKGZ1bmN0aW9uKGRldGFpbHMpe1xuXHRcdFx0JHNjb3BlLmRldGFpbHMgPSBkZXRhaWxzO1xuXHRcdH0pO1xuXG5cdFx0U3RTdmMuZmV0Y2goJHN0YXRlUGFyYW1zLmlkLGJyYW5jaCkuc3VjY2VzcyhmdW5jdGlvbihzdHMpe1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RzO1xuXHRcdH0pO1xuXG5cdFx0U29ja2V0U3ZjLm9uKCduZXdTdCcsIGZ1bmN0aW9uKHN0KXtcblx0XHRcdGlmIChhbmd1bGFyLmVxdWFscyhicmFuY2gsc3QuYnJhbmNoKSAmJiBhbmd1bGFyLmVxdWFscygkc3RhdGVQYXJhbXMuaWQsc3QuY2FzZUlkKSApIHtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLnB1c2goc3QpO1xuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdFNvY2tldFN2Yy5vbigndXBkYXRlU3QnLCBmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciBtZW1iZXJzID0gYW5ndWxhci5jb3B5KGRhdGEubWVtYmVycyk7XG5cdFx0XHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsZGF0YS5pZCkpe1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wb3NpdGlvbiA9IGRhdGEucG9zaXRpb247XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLmFyZWEgPSBkYXRhLmFyZWE7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLm1lbWJlcnMucHVzaC5hcHBseSgkc2NvcGUuc3RyaWtlVGVhbXNbaV0ubWVtYmVycywgbWVtYmVycyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ2Rpc21pc3MnLCBmdW5jdGlvbihzdCl7XG5cdFx0XHR2YXIgX3N0SWQgPSBzdC5zdElkO1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gJHNjb3BlLnN0cmlrZVRlYW1zLmZpbHRlcihmdW5jdGlvbihzdCkge1x0XHRcdFx0XG5cdFx0XHRcdHJldHVybiBzdC5faWQgIT0gX3N0SWQ7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRcblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgXHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhZmV0eS9zYWZldHkubW9kYWwuaHRtbCcsXG5cdFx0XHQgICAgY29udHJvbGxlcjogJ1NhZmV0eU1vZGFsQ3RybCcsXG5cdFx0XHQgICAgc2l6ZTogXCJtZFwiLFxuXHRcdFx0ICAgIHJlc29sdmUgOiB7XG5cdFx0XHQgICAgXHRzdElkIDogZnVuY3Rpb24oKXtcblx0XHRcdCAgICBcdFx0aWYgKCBfLmlzRW1wdHkoJHNjb3BlLnN0cmlrZVRlYW1zKSkge1xuXHRcdFx0ICAgIFx0XHRcdHJldHVybiAwXG5cdFx0XHQgICAgXHRcdH0gZWxzZXtcblx0XHRcdCAgICBcdFx0XHRyZXR1cm4gJHNjb3BlLnN0cmlrZVRlYW1zWyRzY29wZS5zdHJpa2VUZWFtcy5sZW5ndGgtMV0uaWQ7XG5cdFx0XHQgICAgXHRcdH07XG5cdFx0XHQgICAgXHR9XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9KTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLm9wZW5TZXR0aW5nTW9kYWwgPSBmdW5jdGlvbihzdHJpa2VUZWFtLCBpZCl7XG5cdCAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdCAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2FmZXR5L3NhZmV0eS5zZXR0aW5nLm1vZGFsLmh0bWwnLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyOiAnU2FmZXR5U2V0dGluZ0N0cmwnLFxuXHQgICAgICAgICAgICBzaXplOiBcImxnXCIsXG5cdCAgICAgICAgICAgIHJlc29sdmU6IHtcblx0ICAgICAgICAgICAgICAgIHN0cmlrZVRlYW0gOiBmdW5jdGlvbigpe1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpa2VUZWFtO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAodXBkYXRlZFN0KSB7XG5cdCAgICAgICAgXHRmb3IgKHZhciBpID0gJHNjb3BlLnN0cmlrZVRlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0aWYoYW5ndWxhci5lcXVhbHMoJHNjb3BlLnN0cmlrZVRlYW1zW2ldLl9pZCx1cGRhdGVkU3QuaWQpKXtcblx0XHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wb3NpdGlvbiA9IHVwZGF0ZWRTdC5wb3NpdGlvbjtcblx0XHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5hcmVhID0gdXBkYXRlZFN0LmFyZWE7XG5cdFx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0ubWVtYmVycy5wdXNoLmFwcGx5KCRzY29wZS5zdHJpa2VUZWFtc1tpXS5tZW1iZXJzLCB1cGRhdGVkU3QubWVtYmVycyk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdCAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdFx0ICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcblx0XHQgICAgfSk7XG5cdCAgICB9O1xuXG5cdFx0JHNjb3BlLmRpc21pc3MgPSBmdW5jdGlvbihzdHJpa2VUZWFtICwgaWQpe1xuXHRcdFx0XG5cdCAgICAgICBcdFN0U3ZjLmRpc21pc3NTdCh7XG5cdCAgICAgICBcdFx0aWQgOiBzdHJpa2VUZWFtLl9pZFxuXHQgICAgICAgXHR9KS5zdWNjZXNzKGZ1bmN0aW9uKCl7XG5cdCAgICAgICBcdFx0Zm9yICh2YXIgaSA9IHN0cmlrZVRlYW0ubWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdCAgICAgICAgICAgIE1lbWJlclN2Yy51cGRhdGVJc0NoZWNrZWQoe1xuXHRcdCAgICAgICAgICAgICAgICBtZW1iZXJJZCAgOiBzdHJpa2VUZWFtLm1lbWJlcnNbaV0uX2lkLFxuXHRcdCAgICAgICAgICAgICAgICBtaXNzaW9uXHQgIDogc3RyaWtlVGVhbS5tZW1iZXJzW2ldLm1pc3Npb24sXG5cdFx0ICAgICAgICAgICAgICAgIGlzQ2hlY2tlZCA6IGZhbHNlXG5cdFx0ICAgICAgICAgICAgfSlcblx0XHQgICAgICAgIH07XHRcblx0ICAgICAgIFx0fSlcblxuXHQgICAgICAgXHQkc2NvcGUuc3RyaWtlVGVhbXMuc3BsaWNlKGlkLDEpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pXG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5TW9kYWxDdHJsJywgWyckc2NvcGUnLCckbW9kYWxJbnN0YW5jZScsICckc3RhdGVQYXJhbXMnLCdTdFN2YycsICdNZW1iZXJTdmMnLCAnJHN0YXRlJywgJyR3aW5kb3cnLCAnc3RJZCcsICdVc2VyU3ZjJywgJ0JyYW5jaFN2YycsJ1NvY2tldFN2YycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlLCAkc3RhdGVQYXJhbXMsIFN0U3ZjLCBNZW1iZXJTdmMsICRzdGF0ZSwgJHdpbmRvdywgc3RJZCwgVXNlclN2YywgIEJyYW5jaFN2YywgU29ja2V0U3ZjKSB7XG5cblx0XHR2YXIgYnJhbmNoID0gVXNlclN2Yy51c2VyQnJhbmNoKCk7IFxuXHRcdCRzY29wZS50aXRsZSA9IGJyYW5jaCArICAoc3RJZCArIDEgKTtcblxuXHRcdEJyYW5jaFN2Yy5mZXRjaEJ5TmFtZShicmFuY2gpLnN1Y2Nlc3MoZnVuY3Rpb24oZGV0YWlscyl7XG5cdFx0XHQkc2NvcGUuZGV0YWlscyA9IGRldGFpbHM7XG5cdFx0fSkudGhlbihmdW5jdGlvbigpe1xuXHRcdFx0aWYgKCAkc2NvcGUuZGV0YWlscykge1xuXHRcdFx0XHQkc2NvcGUuZGV0YWlscy5tZW1iZXJzID0gJHNjb3BlLmRldGFpbHMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRyZXR1cm4gbWVtYmVyLmlzQ2hlY2tlZCAhPSB0cnVlOyAgXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkc2NvcGUuZGV0YWlscy5tZW1iZXJzLmZvckVhY2goZnVuY3Rpb24obWVtYmVyKXtcblx0XHRcdFx0XHRtZW1iZXIubGltaXRUaW1lID0gbW9tZW50LmR1cmF0aW9uKG1lbWJlci53b3JraW5nVGltZSwgJ3NlY29uZHMnKTtcblx0XHRcdFx0fSlcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IHtcblx0XHRcdHBvc2l0aW9uICA6IFwi56ys5LiA6Z2iXCIsXG5cdFx0XHRwb3NpdGlvbnMgOiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl0sXG5cdFx0XHRtaXNzaW9uICAgOiBcIuaQtuaVkeWwj+e1hFwiLFxuXHRcdFx0bWlzc2lvbnMgIDogW1wi5pC25pWR5bCP57WEXCIsXCLmlZHmj7TlsI/ntYRcIixcIuaQnOaVkeWwj+e1hFwiXSxcblx0XHRcdGFyZWEgXHQgIDogXCLnrKzkuIDljYBcIixcblx0XHRcdGFyZWFzIFx0ICA6IFtcIuesrOS4gOWNgFwiLFwi56ys5LqM5Y2AXCIsXCLnrKzkuInljYBcIixcIuesrOWbm+WNgFwiLFwi56ys5LqU5Y2AXCJdXG5cdFx0fTtcblxuXHRcdCRzY29wZS5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdFx0fTtcblxuXHQgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHQgICAgXHR2YXIgbWVtYmVycyA9ICRzY29wZS5kZXRhaWxzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdCAgICBcdFx0XHRcdHJldHVybiBtZW1iZXIuaXNDaGVja2VkID09PSB0cnVlIFxuXHQgICAgXHRcdFx0XHR9KTtcblxuXHQgICAgXHRpZiAobWVtYmVycy5sZW5ndGggPiAtMSkge1xuXG5cdFx0ICAgIFx0dmFyIHN0cmlrZVRlYW0gPSB7XG5cdFx0ICAgICAgXHRcdGlkIFx0XHQgICAgOiBzdElkICsgMSB8fCAwICwgXG5cdFx0ICAgICAgXHRcdGNhc2VJZCAgICAgIDogJHN0YXRlUGFyYW1zLmlkLFxuXHRcdCAgICAgIFx0XHRicmFuY2ggICAgICA6ICRzY29wZS5kZXRhaWxzLm5hbWUsXG5cdFx0ICAgICAgXHRcdGRpcmVjdG9yICAgIDogJHNjb3BlLmRldGFpbHMuZGlyZWN0b3IsXG5cdFx0ICAgICAgXHRcdHBvc2l0aW9uICAgIDogJHNjb3BlLnN0cmlrZVRlYW0ucG9zaXRpb24sXG5cdFx0ICAgICAgXHRcdHBvc2l0aW9ucyAgIDogJHNjb3BlLnN0cmlrZVRlYW0ucG9zaXRpb25zLFxuXHRcdCAgICAgIFx0XHRtaXNzaW9uICAgICA6ICRzY29wZS5zdHJpa2VUZWFtLm1pc3Npb24sXG5cdFx0ICAgICAgXHRcdG1pc3Npb25zICAgIDogJHNjb3BlLnN0cmlrZVRlYW0ubWlzc2lvbnMsIFxuXHRcdCAgICAgIFx0XHRhcmVhIFx0XHQ6ICRzY29wZS5zdHJpa2VUZWFtLmFyZWEsXG5cdFx0ICAgICAgXHRcdGFyZWFzIFx0XHQ6ICRzY29wZS5zdHJpa2VUZWFtLmFyZWFzLCBcblx0XHQgICAgICBcdFx0bWVtYmVycyAgICAgOiBtZW1iZXJzLFxuXHRcdCAgICAgIFx0XHRpc0Rpc21pc3NlZCA6IGZhbHNlLFxuXHRcdCAgICAgIFx0XHR3b3JraW5nVGltZSA6IF8ubWluKG1lbWJlcnMsIGZ1bmN0aW9uKG1lbWJlcil7IHJldHVybiBtZW1iZXIud29ya2luZ1RpbWU7IH0pLndvcmtpbmdUaW1lLFxuXHRcdCAgICAgIFx0XHRjcmVhdG9yIFx0OiBVc2VyU3ZjLmN1cnJlbnRVc2VyKCkgXHRcblx0XHQgICAgICBcdH07XG5cblx0ICAgICAgXHRcdGZvciAodmFyIGkgPSBtZW1iZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBcdFx0XHRNZW1iZXJTdmMudXBkYXRlSXNDaGVja2VkKHtcblx0ICAgIFx0XHRcdFx0bWVtYmVySWQgIDogbWVtYmVyc1tpXS5faWQsXG5cdCAgICBcdFx0XHRcdGlzQ2hlY2tlZCA6IG1lbWJlcnNbaV0uaXNDaGVja2VkLFxuXHQgICAgXHRcdFx0XHRtaXNzaW9uXHQgIDogbWVtYmVyc1tpXS5taXNzaW9uXG5cdCAgICBcdFx0XHR9KVx0XHRcblx0XHQgICAgXHR9O1xuXG5cdFx0ICAgICAgXHQvLyBTdFN2Yy5jcmVhdGUoc3RyaWtlVGVhbSlcblx0XHQgICAgICBcdFNvY2tldFN2Yy5lbWl0KFwiY3JlYXRlU3RyaWtlVGVhbVwiLCBzdHJpa2VUZWFtKVxuXHRcdCAgICAgIFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcblx0ICAgIFx0fWVsc2V7XG5cdCAgICBcdFx0JHdpbmRvdy5hbGVydChcInlvdSBtdXN0IG9yZ2FuaXplIHN0cmlrZSB0ZWFtXCIpXG5cdCAgICBcdH07XG5cdFx0fTtcblx0XG59XSk7IiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uY29udHJvbGxlcignU2FmZXR5U2V0dGluZ0N0cmwnLCBbJyRzY29wZScsICdzdHJpa2VUZWFtJywgJyRtb2RhbEluc3RhbmNlJywgJ1N0U3ZjJywgJyRzdGF0ZScsICdNZW1iZXJTdmMnLCAnQ2FzZVN2YycsICckc3RhdGVQYXJhbXMnLCAnU29ja2V0U3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgc3RyaWtlVGVhbSwgJG1vZGFsSW5zdGFuY2UsIFN0U3ZjLCAkc3RhdGUsIE1lbWJlclN2YywgQ2FzZVN2YywgJHN0YXRlUGFyYW1zLCBTb2NrZXRTdmMpIHtcblx0XHRcblx0XHR2YXIgbWVtYmVycyA9IFtdO1xuXHRcdHZhciBtZW1iZXJPYmpzID1bXTtcblx0XHQkc2NvcGUuc3RyaWtlVGVhbSA9IHN0cmlrZVRlYW07XG5cblx0XHRDYXNlU3ZjLmZldGNoRGV0YWlscygkc3RhdGVQYXJhbXMuaWQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGV0YWlscyl7XG5cdFx0XHQkc2NvcGUuZGlzcGF0Y2ggPSBkZXRhaWxzLmJyYW5jaElkcztcblx0XHR9KTtcblxuXHRcdCRzY29wZS5jaG9vc2VCcmFuY2ggPSBmdW5jdGlvbihpZCl7XG5cdFx0XHQkc2NvcGUubWVtYmVycyA9ICRzY29wZS5kaXNwYXRjaFtpZF0ubWVtYmVyc1xuXHRcdFx0Zm9yICh2YXIgaSA9ICRzY29wZS5tZW1iZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmKCAkc2NvcGUubWVtYmVyc1tpXS5pc0NoZWNrZWQgKXtcblx0XHRcdFx0XHQkc2NvcGUubWVtYmVycy5zcGxpY2UoaSwxKTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdCRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS5jaGVjayA9IGZ1bmN0aW9uKG1lbWJlcil7XG5cdFx0XHRtZW1iZXIuaXNDaGVja2VkID0gIW1lbWJlci5pc0NoZWNrZWQ7XG5cdFx0XHRtZW1iZXJzLnB1c2gobWVtYmVyLl9pZCk7XG5cdFx0XHRtZW1iZXJPYmpzLnB1c2gobWVtYmVyKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnVuY2hlY2sgPSBmdW5jdGlvbihtZW1iZXIsIGlkKXtcblx0XHRcdG1lbWJlci5pc0NoZWNrZWQgPSAhbWVtYmVyLmlzQ2hlY2tlZDtcblx0XHRcdG1lbWJlcnMuc3BsaWNlKGlkLDEpO1xuXHRcdFx0bWVtYmVyT2Jqcy5zcGxpY2UoaWQsMSk7XG5cdFx0fVxuXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXG5cdFx0XHRTdFN2Yy51cGRhdGVTdCh7XG5cdFx0XHRcdGlkIDogc3RyaWtlVGVhbS5faWQsXG5cdFx0XHRcdHBvc2l0aW9uIDogc3RyaWtlVGVhbS5wb3NpdGlvbixcblx0XHRcdFx0YXJlYSA6IHN0cmlrZVRlYW0uYXJlYSxcblx0XHRcdFx0bWlzc2lvbiA6IHN0cmlrZVRlYW0ubWlzc2lvbixcblx0XHRcdFx0bWVtYmVySWRzIDogbWVtYmVyc1xuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0XHRmb3IgKHZhciBpID0gbWVtYmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdCAgICAgICAgICAgIE1lbWJlclN2Yy51cGRhdGVJc0NoZWNrZWQoe1xuXHRcdCAgICAgICAgICAgICAgICBtZW1iZXJJZCAgOiBtZW1iZXJzW2ldLl9pZCxcblx0XHQgICAgICAgICAgICAgICAgbWlzc2lvblx0ICA6IG1lbWJlcnNbaV0ubWlzc2lvbiwgXG5cdFx0ICAgICAgICAgICAgICAgIGlzQ2hlY2tlZCA6IHRydWUsXG5cdFx0ICAgICAgICAgICAgfSlcblx0XHQgICAgICAgIH07XG5cdFx0XHR9KVxuXG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSh7XG5cdFx0XHRcdGlkIDogc3RyaWtlVGVhbS5faWQsXG5cdFx0XHRcdHBvc2l0aW9uIDogc3RyaWtlVGVhbS5wb3NpdGlvbixcblx0XHRcdFx0YXJlYSA6IHN0cmlrZVRlYW0uYXJlYSxcblx0XHRcdFx0bWVtYmVycyA6IG1lbWJlck9ianMsXG5cdFx0XHRcdGNhc2VJZCAgOiBzdHJpa2VUZWFtLmNhc2VJZCBcblx0XHRcdH0pO1xuXG5cdFx0XHRcblx0XHR9O1xufV0pIiwiLyoqXG4qIEluTmV0IE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKi9cbmFuZ3VsYXIubW9kdWxlKCdJbk5ldCcpXG4uc2VydmljZSgnU29ja2V0U3ZjJyxbICckcm9vdFNjb3BlJywgJ3N0b3JlJywgJyRxJywgJyR0aW1lb3V0JyxcbiAgZnVuY3Rpb24gKCRyb290U2NvcGUsIHN0b3JlLCAkcSwgJHRpbWVvdXQpIHtcblxuICB0aGlzLmluaXQgPSAgZnVuY3Rpb24odG9rZW4pe1xuICAgIHZhciBhdXRoVG9rZW4gPSBudWxsXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBhdXRoVG9rZW4gPSB0b2tlbiBcbiAgICB9IGVsc2Uge1xuICAgICAgYXV0aFRva2VuID0gc3RvcmUuZ2V0KCdqd3QnKVxuICAgIH07XG4gICAgcmV0dXJuIGlvLmNvbm5lY3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcseyBxdWVyeSA6ICd0b2tlbj0nICsgYXV0aFRva2VuICwgJ2ZvcmNlTmV3Jzp0cnVlIH0pO1xuICB9XG5cbiAgdmFyIHNvY2tldCA9IHRoaXMuaW5pdCgpO1xuXG4gIHRoaXMub24gPSAgZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXQoKS5vbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHsgIFxuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KHNvY2tldCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuZW1pdCA9ICBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhLCBjYWxsYmFjaykge1xuICAgIHRoaXMuaW5pdCgpLmVtaXQoZXZlbnROYW1lLCBkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkoc29ja2V0LCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmluaXQoKS5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWxsYmFjay5hcHBseShzb2NrZXQsIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9KTsgXG4gIH1cbiAgXG59XSkiLCIvKipcbiogSW5OZXcgTW9kdWxlXG4qXG4qIERlc2NyaXB0aW9uXG4qL1xuYW5ndWxhci5tb2R1bGUoJ0luTmV0Jylcbi5zZXJ2aWNlKCdTdFN2YycsIFsgJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbihjYXNlSWQsIGJyYW5jaCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9zdHJpa2VUZWFtcz9jYXNlSWQ9JyArIGNhc2VJZCArICcmYnJhbmNoPScgKyBicmFuY2gpO1xuXHR9O1xuXG5cdHRoaXMuZmV0Y2hCeUNhc2UgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXMvdG90YWw/Y2FzZUlkPScgKyBjYXNlSWQpO1xuXHR9O1xuXG5cdHRoaXMuZGlzbWlzc1N0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy9kaXNtaXNzP2lkPScgKyBkYXRhLmlkKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVN0ID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9zdHJpa2VUZWFtcy91cGRhdGU/aWQ9JyArIGRhdGEuaWQsIGRhdGEpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlVGltZVJlY29yZCA9IGZ1bmN0aW9uKGRhdGEpe1xuXHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc3RyaWtlVGVhbXMvdGltZT9pZD0nICsgZGF0YS5pZCwgZGF0YSk7XG5cdH07XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihzdHJpa2VUZWFtKXtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zdHJpa2VUZWFtcycsIHN0cmlrZVRlYW0pO1xuXHR9O1xuXG5cdHRoaXMuY291bnQgPSBmdW5jdGlvbihjYXNlSWQpe1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RyaWtlVGVhbXMvY291bnQ/Y2FzZUlkPScgKyBjYXNlSWQpO1xuXHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1N1bW1hcnlDdHJsJywgWyckc2NvcGUnLCAnU3RTdmMnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnZhbCcsICckc3RhdGUnLCAnU29ja2V0U3ZjJyxcblx0ZnVuY3Rpb24gKCRzY29wZSwgU3RTdmMsICRzdGF0ZVBhcmFtcywgJGludGVydmFsLCAkc3RhdGUsIFNvY2tldFN2Yykge1xuXG5cdFx0U29ja2V0U3ZjLm9uKCd0aW1lclJ1bm5pbmcnLGZ1bmN0aW9uKHN0KXtcblx0XHRcdGZvciAodmFyIGkgPSAkc2NvcGUuc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYoIGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsIHN0LnN0SWQpKXtcblx0XHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXNbaV0udGltZXJSdW5uaW5nID0gc3QudGltZXJSdW5uaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH0pXG5cblx0XHRTb2NrZXRTdmMub24oJ3Byb2dyZXNzVXBkYXRlJyxmdW5jdGlvbihkYXRhKXtcblx0XHRcdGZvciAodmFyIGkgPSAkc2NvcGUuc3RyaWtlVGVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYoIGFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdHJpa2VUZWFtc1tpXS5faWQsIGRhdGEuaWQpICl7XG5cdFx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zW2ldLnRpbWVyXHQ9IG1vbWVudC5kdXJhdGlvbihkYXRhLm1pbGxpcyk7IFxuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wcm9ncmVzcyAgPSBkYXRhLnByb2dyZXNzO1xuXHRcdFx0XHRcdCRzY29wZS5zdHJpa2VUZWFtc1tpXS5wcm9ncmVzc1N0YXRlID0gIGRhdGEucHJvZ3Jlc3NTdGF0ZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9KVxuXG5cdFx0U29ja2V0U3ZjLm9uKCduZXdTdCcsIGZ1bmN0aW9uKHN0KXtcblx0XHRcdGlmICggYW5ndWxhci5lcXVhbHMoY2FzZUlkLHN0LmNhc2VJZCkpIHtcblx0XHRcdFx0dmFyIG5ld1N0ID0gYW5ndWxhci5jb3B5KHN0KTtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLnB1c2gobmV3U3QpO1xuXHRcdFx0fTtcblx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0fSk7XG5cblx0XHRTb2NrZXRTdmMub24oJ3VwZGF0ZVN0JywgZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZShjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMgPSBzdHJpa2VUZWFtcztcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zLmZvckVhY2goZnVuY3Rpb24oc3Qpe1xuXHRcdFx0XHRcdHN0LmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihzdC53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0JHNjb3BlLmRlcGxveXMgPSBpbml0VGFibGUoJHNjb3BlLnN0cmlrZVRlYW1zKTtcblx0XHRcdH0pO1xuXG5cdFx0fSlcblxuXHRcdFNvY2tldFN2Yy5vbignZGlzbWlzcycsIGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0U3RTdmMuZmV0Y2hCeUNhc2UoY2FzZUlkKS5zdWNjZXNzKGZ1bmN0aW9uKHN0cmlrZVRlYW1zKXtcblx0XHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHRcdCRzY29wZS5kZXBsb3lzID0gaW5pdFRhYmxlKCRzY29wZS5zdHJpa2VUZWFtcyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXG5cdFx0dmFyIGNhc2VJZCA9ICRzdGF0ZVBhcmFtcy5pZDsgXG5cblx0XHRTdFN2Yy5mZXRjaEJ5Q2FzZShjYXNlSWQpLnN1Y2Nlc3MoZnVuY3Rpb24oc3RyaWtlVGVhbXMpe1xuXHRcdFx0JHNjb3BlLnN0cmlrZVRlYW1zID0gc3RyaWtlVGVhbXM7XG5cdFx0XHQkc2NvcGUuc3RyaWtlVGVhbXMuZm9yRWFjaChmdW5jdGlvbihzdCl7XG5cdFx0XHRcdHN0LmxpbWl0VGltZSA9IG1vbWVudC5kdXJhdGlvbihzdC53b3JraW5nVGltZSwnc2Vjb25kcycpO1xuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUuZGVwbG95cyA9IGluaXRUYWJsZSgkc2NvcGUuc3RyaWtlVGVhbXMpO1xuXHRcdH0pO1xuXG5cdFx0JHNjb3BlLnBvc2l0aW9uID0ge1xuXHRcdFx0ZGVmYXVsdFBvcyA6IFwi56ys5LiA6Z2iXCIsXG5cdFx0XHRwb3NpdGlvbnMgOiBbXCLnrKzkuIDpnaJcIixcIuesrOS6jOmdolwiLFwi56ys5LiJ6Z2iXCIsXCLnrKzlm5vpnaJcIl1cblx0XHR9O1xuXG5cdFx0dmFyIGluaXRUYWJsZSA9ICBmdW5jdGlvbihzdHJpa2VUZWFtcyl7XG5cdFx0ICBcdHZhciBkZXBsb3lBcnJheSA9IF8ucmFuZ2UoNCkubWFwKGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAgIHJldHVybiBfLnJhbmdlKDUpLm1hcChmdW5jdGlvbiAoKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuIHsgdG90YWxNZW1iZXIgOiAwLCBzdFRvdGFsIDogMH0gO1xuXHRcdCAgICAgICAgfSk7XG5cdFx0ICAgIH0pO1xuXG5cdFx0XHRpZiAoIHN0cmlrZVRlYW1zICl7XG5cdFx0XHRcdGZvciAodmFyIGkgPSBzdHJpa2VUZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdHZhciB0b3RhbE1lbWJlciA9IDA7XG5cdFx0XHRcdFx0dmFyIHN0ID0gMDsgIFxuXHRcdFx0XHRcdHZhciB4ID0gXy5pbmRleE9mKHN0cmlrZVRlYW1zW2ldLnBvc2l0aW9ucywgc3RyaWtlVGVhbXNbaV0ucG9zaXRpb24pO1xuXHRcdFx0XHRcdHZhciB5ID0gXy5pbmRleE9mKHN0cmlrZVRlYW1zW2ldLmFyZWFzLCBzdHJpa2VUZWFtc1tpXS5hcmVhKTtcblx0XHRcdFx0XHRkZXBsb3lBcnJheVt4XVt5XS5zdFRvdGFsICs9IDE7XG5cdFx0XHRcdFx0ZGVwbG95QXJyYXlbeF1beV0udG90YWxNZW1iZXIgKz0gc3RyaWtlVGVhbXNbaV0ubWVtYmVycy5sZW5ndGg7ICBcblxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRlcGxveUFycmF5XG5cdFx0fTtcblx0XHRcblx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIFNvY2tldFN2Yy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0ICAgIH0pO1xufV0pOyIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1RpbWVyQ3RybCcsIFsnJHNjb3BlJywgJ1NvY2tldFN2YycsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBTb2NrZXRTdmMpe1xuXG5cdCRzY29wZS50aW1lclJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgJHNjb3BlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbihzdCwgaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0YXJ0Jyk7XG4gICAgXHQkc2NvcGUudGltZXJSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiB0cnVlIH0gKVxuICAgIH07XG5cbiAgICAkc2NvcGUuc3RvcFRpbWVyID0gZnVuY3Rpb24oc3QsaWQpe1xuICAgIFx0JHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXN0b3AnKTtcbiAgICBcdCRzY29wZS50aW1lclJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgU29ja2V0U3ZjLmVtaXQoJ3RpbWVyJywgeyBzdElkIDogc3QuX2lkLCB0aW1lclJ1bm5pbmcgOiBmYWxzZSB9IClcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlc3VtZVRpbWVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3RpbWVyLXJlc3VtZScpO1xuICAgICAgICAkc2NvcGUudGltZXJSdW5uaW5nID0gZmFsc2U7XG4gICAgfTtcblx0XG59XSk7IiwiLyoqXG4qICBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLmNvbnRyb2xsZXIoJ1RvcE5hdkN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCckc3RhdGUnLCAnJGludGVydmFsJywgJ3N0b3JlJywgJ1NvY2tldFN2YycsICdVc2VyU3ZjJywnJHdpbmRvdycsXG5cdGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhdGlvbiwkc3RhdGUsICRpbnRlcnZhbCwgc3RvcmUsIFNvY2tldFN2YywgVXNlclN2YywgJHdpbmRvdykge1xuXG5cdCRzY29wZS5jdXJyZW50VGltZSA9ICBtb21lbnQoKS5mb3JtYXQoJ01NTSBEbywgaDptbTpzcyBhJyk7XG5cdCRpbnRlcnZhbChmdW5jdGlvbigpe1xuXHRcdG1vbWVudC5sb2NhbGUoJ3poLXR3Jyk7XG5cdFx0JHNjb3BlLmN1cnJlbnRUaW1lID0gIG1vbWVudCgpLmZvcm1hdCgnTU1NIERvLCBoOm1tOnNzIGEnKTtcblx0fSwgMTAwMCk7XG5cblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG5cdFx0dmFyIGFjY291bnQgPSBVc2VyU3ZjLmN1cnJlbnRBY2NvdW50KCk7XG5cdFx0U29ja2V0U3ZjLmVtaXQoJ2xvZ291dCcpO1xuXHRcdCRzdGF0ZS5nbygnYW5vbi5sb2dpbicpO1xuXHR9O1xuXHRcbn1dKSIsIi8qKlxuKiBJbk5ldCBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiovXG5hbmd1bGFyLm1vZHVsZSgnSW5OZXQnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBbICckaHR0cCcsICdzdG9yZScsICdqd3RIZWxwZXInLCBmdW5jdGlvbiAoJGh0dHAsIHN0b3JlLCBqd3RIZWxwZXIpIHtcblxuXHR0aGlzLmZldGNoT25saW5lVXNlciA9IGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy91c2VyU3RhdGUnKTtcblx0fTtcblxuXHR0aGlzLmFjdGl2YXRlID0gZnVuY3Rpb24odXNlcil7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCB1c2VyKTtcblx0fTtcblxuXHR0aGlzLnJlbW92ZVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG5cdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS91c2Vycy9kZWxldGU/dXNlcm5hbWU9JyArIHVzZXJuYW1lKTtcblx0fTtcblxuXHR0aGlzLmxvZ2luID0gZnVuY3Rpb24odXNlcil7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvYXV0aGVudGljYXRlJywgdXNlcik7XG5cdH07XG5cblx0dGhpcy5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gc3RvcmUuZ2V0KCdqd3QnKTtcblx0fTtcblxuXHR0aGlzLmlzVmFsaWQgPSBmdW5jdGlvbiggYnJhbmNoICl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0aWYgKGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2Nlc3NMZXZlbCA+IDEgICB8fCBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYnJhbmNoID09IGJyYW5jaCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTsgXG5cdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdHJldHVybiBmYWxzZSBcblx0fTtcblxuXHR0aGlzLnVzZXJCcmFuY2ggPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYnJhbmNoO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy51c2VyQ29ycHMgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuY29ycHM7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmN1cnJlbnRVc2VyID0gZnVuY3Rpb24oKXtcblx0XHRpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG5cdFx0XHRyZXR1cm4gand0SGVscGVyLmRlY29kZVRva2VuKHN0b3JlLmdldCgnand0JykpLnVzZXJuYW1lO1xuXHRcdH07XG5cdH07XG5cblx0dGhpcy5jdXJyZW50QWNjb3VudCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5hY2NvdW50O1xuXHRcdH07IFxuXHR9O1xuXG5cdHRoaXMuYWNjZXNzTGV2ZWwgPSBmdW5jdGlvbigpe1xuXHRcdGlmICh0aGlzLmlzTG9nZ2VkSW4pIHtcblx0XHRcdHJldHVybiBqd3RIZWxwZXIuZGVjb2RlVG9rZW4oc3RvcmUuZ2V0KCdqd3QnKSkuYWNjZXNzTGV2ZWw7XG5cdFx0fTtcblx0fTtcblxuXHR0aGlzLmNhc2VJZCA9IGZ1bmN0aW9uKCl7XG5cdFx0aWYgKHRoaXMuaXNMb2dnZWRJbikge1xuXHRcdFx0cmV0dXJuIGp3dEhlbHBlci5kZWNvZGVUb2tlbihzdG9yZS5nZXQoJ2p3dCcpKS5jYXNlSWQ7XG5cdFx0fTtcblx0fTtcblxufV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==